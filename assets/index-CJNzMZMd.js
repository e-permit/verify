function Lc(t,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fh={exports:{}},ml={},dh={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),Qp=Symbol.for("react.portal"),$p=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),qp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),rm=Symbol.for("react.memo"),nm=Symbol.for("react.lazy"),sd=Symbol.iterator;function im(t){return t===null||typeof t!="object"?null:(t=sd&&t[sd]||t["@@iterator"],typeof t=="function"?t:null)}var hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,ph={};function Ba(t,e,n){this.props=t,this.context=e,this.refs=ph,this.updater=n||hh}Ba.prototype.isReactComponent={};Ba.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ba.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mh(){}mh.prototype=Ba.prototype;function kc(t,e,n){this.props=t,this.context=e,this.refs=ph,this.updater=n||hh}var Bc=kc.prototype=new mh;Bc.constructor=kc;gh(Bc,Ba.prototype);Bc.isPureReactComponent=!0;var od=Array.isArray,vh=Object.prototype.hasOwnProperty,Fc={current:null},xh={key:!0,ref:!0,__self:!0,__source:!0};function yh(t,e,n){var o,a={},c=null,h=null;if(e!=null)for(o in e.ref!==void 0&&(h=e.ref),e.key!==void 0&&(c=""+e.key),e)vh.call(e,o)&&!xh.hasOwnProperty(o)&&(a[o]=e[o]);var p=arguments.length-2;if(p===1)a.children=n;else if(1<p){for(var x=Array(p),v=0;v<p;v++)x[v]=arguments[v+2];a.children=x}if(t&&t.defaultProps)for(o in p=t.defaultProps,p)a[o]===void 0&&(a[o]=p[o]);return{$$typeof:Us,type:t,key:c,ref:h,props:a,_owner:Fc.current}}function am(t,e){return{$$typeof:Us,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Us}function sm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ld=/\/+/g;function ql(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sm(""+t.key):e.toString(36)}function Eo(t,e,n,o,a){var c=typeof t;(c==="undefined"||c==="boolean")&&(t=null);var h=!1;if(t===null)h=!0;else switch(c){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case Us:case Qp:h=!0}}if(h)return h=t,a=a(h),t=o===""?"."+ql(h,0):o,od(a)?(n="",t!=null&&(n=t.replace(ld,"$&/")+"/"),Eo(a,e,n,"",function(v){return v})):a!=null&&(Uc(a)&&(a=am(a,n+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(ld,"$&/")+"/")+t)),e.push(a)),1;if(h=0,o=o===""?".":o+":",od(t))for(var p=0;p<t.length;p++){c=t[p];var x=o+ql(c,p);h+=Eo(c,e,n,x,a)}else if(x=im(t),typeof x=="function")for(t=x.call(t),p=0;!(c=t.next()).done;)c=c.value,x=o+ql(c,p++),h+=Eo(c,e,n,x,a);else if(c==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return h}function eo(t,e,n){if(t==null)return t;var o=[],a=0;return Eo(t,o,"","",function(c){return e.call(n,c,a++)}),o}function om(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},Co={transition:null},lm={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:Co,ReactCurrentOwner:Fc};function wh(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:eo,forEach:function(t,e,n){eo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eo(t,function(){e++}),e},toArray:function(t){return eo(t,function(e){return e})||[]},only:function(t){if(!Uc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=Ba;Je.Fragment=$p;Je.Profiler=Kp;Je.PureComponent=kc;Je.StrictMode=Zp;Je.Suspense=tm;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;Je.act=wh;Je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=gh({},t.props),a=t.key,c=t.ref,h=t._owner;if(e!=null){if(e.ref!==void 0&&(c=e.ref,h=Fc.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var p=t.type.defaultProps;for(x in e)vh.call(e,x)&&!xh.hasOwnProperty(x)&&(o[x]=e[x]===void 0&&p!==void 0?p[x]:e[x])}var x=arguments.length-2;if(x===1)o.children=n;else if(1<x){p=Array(x);for(var v=0;v<x;v++)p[v]=arguments[v+2];o.children=p}return{$$typeof:Us,type:t.type,key:a,ref:c,props:o,_owner:h}};Je.createContext=function(t){return t={$$typeof:Jp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qp,_context:t},t.Consumer=t};Je.createElement=yh;Je.createFactory=function(t){var e=yh.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:em,render:t}};Je.isValidElement=Uc;Je.lazy=function(t){return{$$typeof:nm,_payload:{_status:-1,_result:t},_init:om}};Je.memo=function(t,e){return{$$typeof:rm,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Co.transition;Co.transition={};try{t()}finally{Co.transition=e}};Je.unstable_act=wh;Je.useCallback=function(t,e){return Dr.current.useCallback(t,e)};Je.useContext=function(t){return Dr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Dr.current.useEffect(t,e)};Je.useId=function(){return Dr.current.useId()};Je.useImperativeHandle=function(t,e,n){return Dr.current.useImperativeHandle(t,e,n)};Je.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Dr.current.useMemo(t,e)};Je.useReducer=function(t,e,n){return Dr.current.useReducer(t,e,n)};Je.useRef=function(t){return Dr.current.useRef(t)};Je.useState=function(t){return Dr.current.useState(t)};Je.useSyncExternalStore=function(t,e,n){return Dr.current.useSyncExternalStore(t,e,n)};Je.useTransition=function(){return Dr.current.useTransition()};Je.version="18.3.1";dh.exports=Je;var Ee=dh.exports;const um=pl(Ee),cm=Lc({__proto__:null,default:um},[Ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Ee,dm=Symbol.for("react.element"),hm=Symbol.for("react.fragment"),gm=Object.prototype.hasOwnProperty,pm=fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mm={key:!0,ref:!0,__self:!0,__source:!0};function Eh(t,e,n){var o,a={},c=null,h=null;n!==void 0&&(c=""+n),e.key!==void 0&&(c=""+e.key),e.ref!==void 0&&(h=e.ref);for(o in e)gm.call(e,o)&&!mm.hasOwnProperty(o)&&(a[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)a[o]===void 0&&(a[o]=e[o]);return{$$typeof:dm,type:t,key:c,ref:h,props:a,_owner:pm.current}}ml.Fragment=hm;ml.jsx=Eh;ml.jsxs=Eh;fh.exports=ml;var Ve=fh.exports,Du={},Ch={exports:{}},tn={},Sh={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(le,ge){var ue=le.length;le.push(ge);e:for(;0<ue;){var ke=ue-1>>>1,Me=le[ke];if(0<a(Me,ge))le[ke]=ge,le[ue]=Me,ue=ke;else break e}}function n(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var ge=le[0],ue=le.pop();if(ue!==ge){le[0]=ue;e:for(var ke=0,Me=le.length,nt=Me>>>1;ke<nt;){var De=2*(ke+1)-1,Rt=le[De],we=De+1,dt=le[we];if(0>a(Rt,ue))we<Me&&0>a(dt,Rt)?(le[ke]=dt,le[we]=ue,ke=we):(le[ke]=Rt,le[De]=ue,ke=De);else if(we<Me&&0>a(dt,ue))le[ke]=dt,le[we]=ue,ke=we;else break e}}return ge}function a(le,ge){var ue=le.sortIndex-ge.sortIndex;return ue!==0?ue:le.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();t.unstable_now=function(){return h.now()-p}}var x=[],v=[],E=1,y=null,I=3,A=!1,M=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(le){for(var ge=n(v);ge!==null;){if(ge.callback===null)o(v);else if(ge.startTime<=le)o(v),ge.sortIndex=ge.expirationTime,e(x,ge);else break;ge=n(v)}}function j(le){if(D=!1,b(le),!M)if(n(x)!==null)M=!0,Re(Z);else{var ge=n(v);ge!==null&&fe(j,ge.startTime-le)}}function Z(le,ge){M=!1,D&&(D=!1,O(Q),Q=-1),A=!0;var ue=I;try{for(b(ge),y=n(x);y!==null&&(!(y.expirationTime>ge)||le&&!ce());){var ke=y.callback;if(typeof ke=="function"){y.callback=null,I=y.priorityLevel;var Me=ke(y.expirationTime<=ge);ge=t.unstable_now(),typeof Me=="function"?y.callback=Me:y===n(x)&&o(x),b(ge)}else o(x);y=n(x)}if(y!==null)var nt=!0;else{var De=n(v);De!==null&&fe(j,De.startTime-ge),nt=!1}return nt}finally{y=null,I=ue,A=!1}}var B=!1,H=null,Q=-1,z=5,ae=-1;function ce(){return!(t.unstable_now()-ae<z)}function ne(){if(H!==null){var le=t.unstable_now();ae=le;var ge=!0;try{ge=H(!0,le)}finally{ge?ie():(B=!1,H=null)}}else B=!1}var ie;if(typeof R=="function")ie=function(){R(ne)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,X=J.port2;J.port1.onmessage=ne,ie=function(){X.postMessage(null)}}else ie=function(){k(ne,0)};function Re(le){H=le,B||(B=!0,ie())}function fe(le,ge){Q=k(function(){le(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){M||A||(M=!0,Re(Z))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(x)},t.unstable_next=function(le){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var ue=I;I=ge;try{return le()}finally{I=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,ge){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ue=I;I=le;try{return ge()}finally{I=ue}},t.unstable_scheduleCallback=function(le,ge,ue){var ke=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ke+ue:ke):ue=ke,le){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ue+Me,le={id:E++,callback:ge,priorityLevel:le,startTime:ue,expirationTime:Me,sortIndex:-1},ue>ke?(le.sortIndex=ue,e(v,le),n(x)===null&&le===n(v)&&(D?(O(Q),Q=-1):D=!0,fe(j,ue-ke))):(le.sortIndex=Me,e(x,le),M||A||(M=!0,Re(Z))),le},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(le){var ge=I;return function(){var ue=I;I=ge;try{return le.apply(this,arguments)}finally{I=ue}}}})(Ah);Sh.exports=Ah;var vm=Sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=Ee,en=vm;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ih=new Set,ws={};function Zi(t,e){Ra(t,e),Ra(t+"Capture",e)}function Ra(t,e){for(ws[t]=e,t=0;t<e.length;t++)Ih.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=Object.prototype.hasOwnProperty,ym=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ud={},cd={};function wm(t){return Ou.call(cd,t)?!0:Ou.call(ud,t)?!1:ym.test(t)?cd[t]=!0:(ud[t]=!0,!1)}function Em(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cm(t,e,n,o){if(e===null||typeof e>"u"||Em(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(t,e,n,o,a,c,h){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=c,this.removeEmptyString=h}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xr[t]=new Or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xr[e]=new Or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xr[t]=new Or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xr[t]=new Or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xr[t]=new Or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xr[t]=new Or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xr[t]=new Or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xr[t]=new Or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xr[t]=new Or(t,5,!1,t.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jc,zc);xr[e]=new Or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jc,zc);xr[e]=new Or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jc,zc);xr[e]=new Or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xr[t]=new Or(t,1,!1,t.toLowerCase(),null,!1,!1)});xr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xr[t]=new Or(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vc(t,e,n,o){var a=xr.hasOwnProperty(e)?xr[e]:null;(a!==null?a.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Cm(e,n,a,o)&&(n=null),o||a===null?wm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,o=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var Zn=xm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,to=Symbol.for("react.element"),ua=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Mu=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),_h=Symbol.for("react.context"),Wc=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),Gc=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Nh=Symbol.for("react.offscreen"),fd=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=fd&&t[fd]||t["@@iterator"],typeof t=="function"?t:null)}var Wt=Object.assign,Jl;function ss(t){if(Jl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jl=e&&e[1]||""}return`
`+Jl+t}var eu=!1;function tu(t,e){if(!t||eu)return"";eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var o=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){o=v}t.call(e.prototype)}else{try{throw Error()}catch(v){o=v}t()}}catch(v){if(v&&o&&typeof v.stack=="string"){for(var a=v.stack.split(`
`),c=o.stack.split(`
`),h=a.length-1,p=c.length-1;1<=h&&0<=p&&a[h]!==c[p];)p--;for(;1<=h&&0<=p;h--,p--)if(a[h]!==c[p]){if(h!==1||p!==1)do if(h--,p--,0>p||a[h]!==c[p]){var x=`
`+a[h].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=h&&0<=p);break}}}finally{eu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ss(t):""}function Sm(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=tu(t.type,!1),t;case 11:return t=tu(t.type.render,!1),t;case 1:return t=tu(t.type,!0),t;default:return""}}function Lu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case ua:return"Portal";case Mu:return"Profiler";case Hc:return"StrictMode";case bu:return"Suspense";case Pu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _h:return(t.displayName||"Context")+".Consumer";case Th:return(t._context.displayName||"Context")+".Provider";case Wc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gc:return e=t.displayName||null,e!==null?e:Lu(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return Lu(t(e))}catch{}}return null}function Am(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lu(e);case 8:return e===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Im(t){var e=Rh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,c=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(h){o=""+h,c.call(this,h)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(h){o=""+h},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ro(t){t._valueTracker||(t._valueTracker=Im(t))}function Dh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Rh(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ku(t,e){var n=e.checked;return Wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dd(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Oh(t,e){e=e.checked,e!=null&&Vc(t,"checked",e,!1)}function Bu(t,e){Oh(t,e);var n=Ci(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fu(t,e.type,Ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fu(t,e,n){(e!=="number"||Lo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var os=Array.isArray;function Sa(t,e,n,o){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ci(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,o&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function Uu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(os(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ci(n)}}function Mh(t,e){var n=Ci(e.value),o=Ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function pd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ju(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var no,Ph=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(no=no||document.createElement("div"),no.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=no.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(t){Tm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fs[e]=fs[t]})});function Lh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fs.hasOwnProperty(t)&&fs[t]?(""+e).trim():e+"px"}function kh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,a=Lh(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,a):t[n]=a}}var _m=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(t,e){if(e){if(_m[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Vu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function Yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wu=null,Aa=null,Ia=null;function md(t){if(t=Vs(t)){if(typeof Wu!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=El(e),Wu(t.stateNode,t.type,e))}}function Bh(t){Aa?Ia?Ia.push(t):Ia=[t]:Aa=t}function Fh(){if(Aa){var t=Aa,e=Ia;if(Ia=Aa=null,md(t),e)for(t=0;t<e.length;t++)md(e[t])}}function Uh(t,e){return t(e)}function jh(){}var ru=!1;function zh(t,e,n){if(ru)return t(e,n);ru=!0;try{return Uh(t,e,n)}finally{ru=!1,(Aa!==null||Ia!==null)&&(jh(),Fh())}}function Cs(t,e){var n=t.stateNode;if(n===null)return null;var o=El(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var Gu=!1;if(Yn)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Gu=!1}function Nm(t,e,n,o,a,c,h,p,x){var v=Array.prototype.slice.call(arguments,3);try{e.apply(n,v)}catch(E){this.onError(E)}}var ds=!1,ko=null,Bo=!1,Yu=null,Rm={onError:function(t){ds=!0,ko=t}};function Dm(t,e,n,o,a,c,h,p,x){ds=!1,ko=null,Nm.apply(Rm,arguments)}function Om(t,e,n,o,a,c,h,p,x){if(Dm.apply(this,arguments),ds){if(ds){var v=ko;ds=!1,ko=null}else throw Error(pe(198));Bo||(Bo=!0,Yu=v)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vd(t){if(Ki(t)!==t)throw Error(pe(188))}function Mm(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,o=e;;){var a=n.return;if(a===null)break;var c=a.alternate;if(c===null){if(o=a.return,o!==null){n=o;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===n)return vd(a),t;if(c===o)return vd(a),e;c=c.sibling}throw Error(pe(188))}if(n.return!==o.return)n=a,o=c;else{for(var h=!1,p=a.child;p;){if(p===n){h=!0,n=a,o=c;break}if(p===o){h=!0,o=a,n=c;break}p=p.sibling}if(!h){for(p=c.child;p;){if(p===n){h=!0,n=c,o=a;break}if(p===o){h=!0,o=c,n=a;break}p=p.sibling}if(!h)throw Error(pe(189))}}if(n.alternate!==o)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function Hh(t){return t=Mm(t),t!==null?Wh(t):null}function Wh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wh(t);if(e!==null)return e;t=t.sibling}return null}var Gh=en.unstable_scheduleCallback,xd=en.unstable_cancelCallback,bm=en.unstable_shouldYield,Pm=en.unstable_requestPaint,qt=en.unstable_now,Lm=en.unstable_getCurrentPriorityLevel,Xc=en.unstable_ImmediatePriority,Yh=en.unstable_UserBlockingPriority,Fo=en.unstable_NormalPriority,km=en.unstable_LowPriority,Xh=en.unstable_IdlePriority,vl=null,Fn=null;function Bm(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(vl,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:jm,Fm=Math.log,Um=Math.LN2;function jm(t){return t>>>=0,t===0?32:31-(Fm(t)/Um|0)|0}var io=64,ao=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uo(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,a=t.suspendedLanes,c=t.pingedLanes,h=n&268435455;if(h!==0){var p=h&~a;p!==0?o=ls(p):(c&=h,c!==0&&(o=ls(c)))}else h=n&~a,h!==0?o=ls(h):c!==0&&(o=ls(c));if(o===0)return 0;if(e!==0&&e!==o&&!(e&a)&&(a=o&-o,c=e&-e,a>=c||a===16&&(c&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-In(e),a=1<<n,o|=t[n],e&=~a;return o}function zm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vm(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,a=t.expirationTimes,c=t.pendingLanes;0<c;){var h=31-In(c),p=1<<h,x=a[h];x===-1?(!(p&n)||p&o)&&(a[h]=zm(p,e)):x<=e&&(t.expiredLanes|=p),c&=~p}}function Xu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qh(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function nu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function js(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function Hm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-In(n),c=1<<a;e[a]=0,o[a]=-1,t[a]=-1,n&=~c}}function Qc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-In(n),a=1<<o;a&e|t[o]&e&&(t[o]|=e),n&=~a}}var xt=0;function $h(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zh,$c,Kh,qh,Jh,Qu=!1,so=[],di=null,hi=null,gi=null,Ss=new Map,As=new Map,oi=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(t,e){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Ka(t,e,n,o,a,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:c,targetContainers:[a]},e!==null&&(e=Vs(e),e!==null&&$c(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Gm(t,e,n,o,a){switch(e){case"focusin":return di=Ka(di,t,e,n,o,a),!0;case"dragenter":return hi=Ka(hi,t,e,n,o,a),!0;case"mouseover":return gi=Ka(gi,t,e,n,o,a),!0;case"pointerover":var c=a.pointerId;return Ss.set(c,Ka(Ss.get(c)||null,t,e,n,o,a)),!0;case"gotpointercapture":return c=a.pointerId,As.set(c,Ka(As.get(c)||null,t,e,n,o,a)),!0}return!1}function e0(t){var e=Bi(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=Vh(n),e!==null){t.blockedOn=e,Jh(t.priority,function(){Kh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$u(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);Hu=o,n.target.dispatchEvent(o),Hu=null}else return e=Vs(n),e!==null&&$c(e),t.blockedOn=n,!1;e.shift()}return!0}function wd(t,e,n){So(t)&&n.delete(e)}function Ym(){Qu=!1,di!==null&&So(di)&&(di=null),hi!==null&&So(hi)&&(hi=null),gi!==null&&So(gi)&&(gi=null),Ss.forEach(wd),As.forEach(wd)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Qu||(Qu=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,Ym)))}function Is(t){function e(a){return qa(a,t)}if(0<so.length){qa(so[0],t);for(var n=1;n<so.length;n++){var o=so[n];o.blockedOn===t&&(o.blockedOn=null)}}for(di!==null&&qa(di,t),hi!==null&&qa(hi,t),gi!==null&&qa(gi,t),Ss.forEach(e),As.forEach(e),n=0;n<oi.length;n++)o=oi[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)e0(n),n.blockedOn===null&&oi.shift()}var Ta=Zn.ReactCurrentBatchConfig,jo=!0;function Xm(t,e,n,o){var a=xt,c=Ta.transition;Ta.transition=null;try{xt=1,Zc(t,e,n,o)}finally{xt=a,Ta.transition=c}}function Qm(t,e,n,o){var a=xt,c=Ta.transition;Ta.transition=null;try{xt=4,Zc(t,e,n,o)}finally{xt=a,Ta.transition=c}}function Zc(t,e,n,o){if(jo){var a=$u(t,e,n,o);if(a===null)hu(t,e,o,zo,n),yd(t,o);else if(Gm(a,t,e,n,o))o.stopPropagation();else if(yd(t,o),e&4&&-1<Wm.indexOf(t)){for(;a!==null;){var c=Vs(a);if(c!==null&&Zh(c),c=$u(t,e,n,o),c===null&&hu(t,e,o,zo,n),c===a)break;a=c}a!==null&&o.stopPropagation()}else hu(t,e,o,null,n)}}var zo=null;function $u(t,e,n,o){if(zo=null,t=Yc(o),t=Bi(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zo=t,null}function t0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lm()){case Xc:return 1;case Yh:return 4;case Fo:case km:return 16;case Xh:return 536870912;default:return 16}default:return 16}}var ui=null,Kc=null,Ao=null;function r0(){if(Ao)return Ao;var t,e=Kc,n=e.length,o,a="value"in ui?ui.value:ui.textContent,c=a.length;for(t=0;t<n&&e[t]===a[t];t++);var h=n-t;for(o=1;o<=h&&e[n-o]===a[c-o];o++);return Ao=a.slice(t,1<o?1-o:void 0)}function Io(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oo(){return!0}function Ed(){return!1}function rn(t){function e(n,o,a,c,h){this._reactName=n,this._targetInst=a,this.type=o,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(n=t[p],this[p]=n?n(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?oo:Ed,this.isPropagationStopped=Ed,this}return Wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=rn(Fa),zs=Wt({},Fa,{view:0,detail:0}),$m=rn(zs),iu,au,Ja,xl=Wt({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(iu=t.screenX-Ja.screenX,au=t.screenY-Ja.screenY):au=iu=0,Ja=t),iu)},movementY:function(t){return"movementY"in t?t.movementY:au}}),Cd=rn(xl),Zm=Wt({},xl,{dataTransfer:0}),Km=rn(Zm),qm=Wt({},zs,{relatedTarget:0}),su=rn(qm),Jm=Wt({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),e2=rn(Jm),t2=Wt({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r2=rn(t2),n2=Wt({},Fa,{data:0}),Sd=rn(n2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=s2[t])?!!e[t]:!1}function Jc(){return o2}var l2=Wt({},zs,{key:function(t){if(t.key){var e=i2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(t){return t.type==="keypress"?Io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u2=rn(l2),c2=Wt({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=rn(c2),f2=Wt({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),d2=rn(f2),h2=Wt({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),g2=rn(h2),p2=Wt({},xl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m2=rn(p2),v2=[9,13,27,32],ef=Yn&&"CompositionEvent"in window,hs=null;Yn&&"documentMode"in document&&(hs=document.documentMode);var x2=Yn&&"TextEvent"in window&&!hs,n0=Yn&&(!ef||hs&&8<hs&&11>=hs),Id=" ",Td=!1;function i0(t,e){switch(t){case"keyup":return v2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function y2(t,e){switch(t){case"compositionend":return a0(e);case"keypress":return e.which!==32?null:(Td=!0,Id);case"textInput":return t=e.data,t===Id&&Td?null:t;default:return null}}function w2(t,e){if(fa)return t==="compositionend"||!ef&&i0(t,e)?(t=r0(),Ao=Kc=ui=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n0&&e.locale!=="ko"?null:e.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E2[t.type]:e==="textarea"}function s0(t,e,n,o){Bh(o),e=Vo(e,"onChange"),0<e.length&&(n=new qc("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var gs=null,Ts=null;function C2(t){v0(t,0)}function yl(t){var e=ga(t);if(Dh(e))return t}function S2(t,e){if(t==="change")return e}var o0=!1;if(Yn){var ou;if(Yn){var lu="oninput"in document;if(!lu){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),lu=typeof Nd.oninput=="function"}ou=lu}else ou=!1;o0=ou&&(!document.documentMode||9<document.documentMode)}function Rd(){gs&&(gs.detachEvent("onpropertychange",l0),Ts=gs=null)}function l0(t){if(t.propertyName==="value"&&yl(Ts)){var e=[];s0(e,Ts,t,Yc(t)),zh(C2,e)}}function A2(t,e,n){t==="focusin"?(Rd(),gs=e,Ts=n,gs.attachEvent("onpropertychange",l0)):t==="focusout"&&Rd()}function I2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yl(Ts)}function T2(t,e){if(t==="click")return yl(e)}function _2(t,e){if(t==="input"||t==="change")return yl(e)}function N2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:N2;function _s(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var a=n[o];if(!Ou.call(e,a)||!_n(t[a],e[a]))return!1}return!0}function Dd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Od(t,e){var n=Dd(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dd(n)}}function u0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function c0(){for(var t=window,e=Lo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lo(t.document)}return e}function tf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R2(t){var e=c0(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u0(n.ownerDocument.documentElement,n)){if(o!==null&&tf(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,c=Math.min(o.start,a);o=o.end===void 0?c:Math.min(o.end,a),!t.extend&&c>o&&(a=o,o=c,c=a),a=Od(n,c);var h=Od(n,o);a&&h&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==h.node||t.focusOffset!==h.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),c>o?(t.addRange(e),t.extend(h.node,h.offset)):(e.setEnd(h.node,h.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D2=Yn&&"documentMode"in document&&11>=document.documentMode,da=null,Zu=null,ps=null,Ku=!1;function Md(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ku||da==null||da!==Lo(o)||(o=da,"selectionStart"in o&&tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ps&&_s(ps,o)||(ps=o,o=Vo(Zu,"onSelect"),0<o.length&&(e=new qc("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=da)))}function lo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ha={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionend:lo("Transition","TransitionEnd")},uu={},f0={};Yn&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function wl(t){if(uu[t])return uu[t];if(!ha[t])return t;var e=ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f0)return uu[t]=e[n];return t}var d0=wl("animationend"),h0=wl("animationiteration"),g0=wl("animationstart"),p0=wl("transitionend"),m0=new Map,bd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){m0.set(t,e),Zi(e,[t])}for(var cu=0;cu<bd.length;cu++){var fu=bd[cu],O2=fu.toLowerCase(),M2=fu[0].toUpperCase()+fu.slice(1);Ii(O2,"on"+M2)}Ii(d0,"onAnimationEnd");Ii(h0,"onAnimationIteration");Ii(g0,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(p0,"onTransitionEnd");Ra("onMouseEnter",["mouseout","mouseover"]);Ra("onMouseLeave",["mouseout","mouseover"]);Ra("onPointerEnter",["pointerout","pointerover"]);Ra("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Pd(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Om(o,e,void 0,t),t.currentTarget=null}function v0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],a=o.event;o=o.listeners;e:{var c=void 0;if(e)for(var h=o.length-1;0<=h;h--){var p=o[h],x=p.instance,v=p.currentTarget;if(p=p.listener,x!==c&&a.isPropagationStopped())break e;Pd(a,p,v),c=x}else for(h=0;h<o.length;h++){if(p=o[h],x=p.instance,v=p.currentTarget,p=p.listener,x!==c&&a.isPropagationStopped())break e;Pd(a,p,v),c=x}}}if(Bo)throw t=Yu,Bo=!1,Yu=null,t}function Ot(t,e){var n=e[rc];n===void 0&&(n=e[rc]=new Set);var o=t+"__bubble";n.has(o)||(x0(e,t,2,!1),n.add(o))}function du(t,e,n){var o=0;e&&(o|=4),x0(n,t,o,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function Ns(t){if(!t[uo]){t[uo]=!0,Ih.forEach(function(n){n!=="selectionchange"&&(b2.has(n)||du(n,!1,t),du(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,du("selectionchange",!1,e))}}function x0(t,e,n,o){switch(t0(e)){case 1:var a=Xm;break;case 4:a=Qm;break;default:a=Zc}n=a.bind(null,e,n,t),a=void 0,!Gu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),o?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function hu(t,e,n,o,a){var c=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var h=o.tag;if(h===3||h===4){var p=o.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(h===4)for(h=o.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===a||x.nodeType===8&&x.parentNode===a))return;h=h.return}for(;p!==null;){if(h=Bi(p),h===null)return;if(x=h.tag,x===5||x===6){o=c=h;continue e}p=p.parentNode}}o=o.return}zh(function(){var v=c,E=Yc(n),y=[];e:{var I=m0.get(t);if(I!==void 0){var A=qc,M=t;switch(t){case"keypress":if(Io(n)===0)break e;case"keydown":case"keyup":A=u2;break;case"focusin":M="focus",A=su;break;case"focusout":M="blur",A=su;break;case"beforeblur":case"afterblur":A=su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Km;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=d2;break;case d0:case h0:case g0:A=e2;break;case p0:A=g2;break;case"scroll":A=$m;break;case"wheel":A=m2;break;case"copy":case"cut":case"paste":A=r2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Ad}var D=(e&4)!==0,k=!D&&t==="scroll",O=D?I!==null?I+"Capture":null:I;D=[];for(var R=v,b;R!==null;){b=R;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,O!==null&&(j=Cs(R,O),j!=null&&D.push(Rs(R,j,b)))),k)break;R=R.return}0<D.length&&(I=new A(I,M,null,n,E),y.push({event:I,listeners:D}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",I&&n!==Hu&&(M=n.relatedTarget||n.fromElement)&&(Bi(M)||M[Xn]))break e;if((A||I)&&(I=E.window===E?E:(I=E.ownerDocument)?I.defaultView||I.parentWindow:window,A?(M=n.relatedTarget||n.toElement,A=v,M=M?Bi(M):null,M!==null&&(k=Ki(M),M!==k||M.tag!==5&&M.tag!==6)&&(M=null)):(A=null,M=v),A!==M)){if(D=Cd,j="onMouseLeave",O="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(D=Ad,j="onPointerLeave",O="onPointerEnter",R="pointer"),k=A==null?I:ga(A),b=M==null?I:ga(M),I=new D(j,R+"leave",A,n,E),I.target=k,I.relatedTarget=b,j=null,Bi(E)===v&&(D=new D(O,R+"enter",M,n,E),D.target=b,D.relatedTarget=k,j=D),k=j,A&&M)t:{for(D=A,O=M,R=0,b=D;b;b=sa(b))R++;for(b=0,j=O;j;j=sa(j))b++;for(;0<R-b;)D=sa(D),R--;for(;0<b-R;)O=sa(O),b--;for(;R--;){if(D===O||O!==null&&D===O.alternate)break t;D=sa(D),O=sa(O)}D=null}else D=null;A!==null&&Ld(y,I,A,D,!1),M!==null&&k!==null&&Ld(y,k,M,D,!0)}}e:{if(I=v?ga(v):window,A=I.nodeName&&I.nodeName.toLowerCase(),A==="select"||A==="input"&&I.type==="file")var Z=S2;else if(_d(I))if(o0)Z=_2;else{Z=I2;var B=A2}else(A=I.nodeName)&&A.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(Z=T2);if(Z&&(Z=Z(t,v))){s0(y,Z,n,E);break e}B&&B(t,I,v),t==="focusout"&&(B=I._wrapperState)&&B.controlled&&I.type==="number"&&Fu(I,"number",I.value)}switch(B=v?ga(v):window,t){case"focusin":(_d(B)||B.contentEditable==="true")&&(da=B,Zu=v,ps=null);break;case"focusout":ps=Zu=da=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Md(y,n,E);break;case"selectionchange":if(D2)break;case"keydown":case"keyup":Md(y,n,E)}var H;if(ef)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else fa?i0(t,n)&&(Q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Q="onCompositionStart");Q&&(n0&&n.locale!=="ko"&&(fa||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&fa&&(H=r0()):(ui=E,Kc="value"in ui?ui.value:ui.textContent,fa=!0)),B=Vo(v,Q),0<B.length&&(Q=new Sd(Q,t,null,n,E),y.push({event:Q,listeners:B}),H?Q.data=H:(H=a0(n),H!==null&&(Q.data=H)))),(H=x2?y2(t,n):w2(t,n))&&(v=Vo(v,"onBeforeInput"),0<v.length&&(E=new Sd("onBeforeInput","beforeinput",null,n,E),y.push({event:E,listeners:v}),E.data=H))}v0(y,e)})}function Rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vo(t,e){for(var n=e+"Capture",o=[];t!==null;){var a=t,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Cs(t,n),c!=null&&o.unshift(Rs(t,c,a)),c=Cs(t,e),c!=null&&o.push(Rs(t,c,a))),t=t.return}return o}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ld(t,e,n,o,a){for(var c=e._reactName,h=[];n!==null&&n!==o;){var p=n,x=p.alternate,v=p.stateNode;if(x!==null&&x===o)break;p.tag===5&&v!==null&&(p=v,a?(x=Cs(n,c),x!=null&&h.unshift(Rs(n,x,p))):a||(x=Cs(n,c),x!=null&&h.push(Rs(n,x,p)))),n=n.return}h.length!==0&&t.push({event:e,listeners:h})}var P2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function kd(t){return(typeof t=="string"?t:""+t).replace(P2,`
`).replace(L2,"")}function co(t,e,n){if(e=kd(e),kd(t)!==e&&n)throw Error(pe(425))}function Ho(){}var qu=null,Ju=null;function ec(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tc=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,B2=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(t){return Bd.resolve(null).then(t).catch(F2)}:tc;function F2(t){setTimeout(function(){throw t})}function gu(t,e){var n=e,o=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(o===0){t.removeChild(a),Is(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=a}while(n);Is(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ua,Ds="__reactProps$"+Ua,Xn="__reactContainer$"+Ua,rc="__reactEvents$"+Ua,U2="__reactListeners$"+Ua,j2="__reactHandles$"+Ua;function Bi(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fd(t);t!==null;){if(n=t[Bn])return n;t=Fd(t)}return e}t=n,n=t.parentNode}return null}function Vs(t){return t=t[Bn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function El(t){return t[Ds]||null}var nc=[],pa=-1;function Ti(t){return{current:t}}function bt(t){0>pa||(t.current=nc[pa],nc[pa]=null,pa--)}function Nt(t,e){pa++,nc[pa]=t.current,t.current=e}var Si={},Ir=Ti(Si),Vr=Ti(!1),Gi=Si;function Da(t,e){var n=t.type.contextTypes;if(!n)return Si;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in n)a[c]=e[c];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Hr(t){return t=t.childContextTypes,t!=null}function Wo(){bt(Vr),bt(Ir)}function Ud(t,e,n){if(Ir.current!==Si)throw Error(pe(168));Nt(Ir,e),Nt(Vr,n)}function y0(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var a in o)if(!(a in e))throw Error(pe(108,Am(t)||"Unknown",a));return Wt({},n,o)}function Go(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Si,Gi=Ir.current,Nt(Ir,t),Nt(Vr,Vr.current),!0}function jd(t,e,n){var o=t.stateNode;if(!o)throw Error(pe(169));n?(t=y0(t,e,Gi),o.__reactInternalMemoizedMergedChildContext=t,bt(Vr),bt(Ir),Nt(Ir,t)):bt(Vr),Nt(Vr,n)}var zn=null,Cl=!1,pu=!1;function w0(t){zn===null?zn=[t]:zn.push(t)}function z2(t){Cl=!0,w0(t)}function _i(){if(!pu&&zn!==null){pu=!0;var t=0,e=xt;try{var n=zn;for(xt=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}zn=null,Cl=!1}catch(a){throw zn!==null&&(zn=zn.slice(t+1)),Gh(Xc,_i),a}finally{xt=e,pu=!1}}return null}var ma=[],va=0,Yo=null,Xo=0,un=[],cn=0,Yi=null,Vn=1,Hn="";function Pi(t,e){ma[va++]=Xo,ma[va++]=Yo,Yo=t,Xo=e}function E0(t,e,n){un[cn++]=Vn,un[cn++]=Hn,un[cn++]=Yi,Yi=t;var o=Vn;t=Hn;var a=32-In(o)-1;o&=~(1<<a),n+=1;var c=32-In(e)+a;if(30<c){var h=a-a%5;c=(o&(1<<h)-1).toString(32),o>>=h,a-=h,Vn=1<<32-In(e)+a|n<<a|o,Hn=c+t}else Vn=1<<c|n<<a|o,Hn=t}function rf(t){t.return!==null&&(Pi(t,1),E0(t,1,0))}function nf(t){for(;t===Yo;)Yo=ma[--va],ma[va]=null,Xo=ma[--va],ma[va]=null;for(;t===Yi;)Yi=un[--cn],un[cn]=null,Hn=un[--cn],un[cn]=null,Vn=un[--cn],un[cn]=null}var Jr=null,qr=null,Ut=!1,An=null;function C0(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jr=t,qr=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:Vn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jr=t,qr=null,!0):!1;default:return!1}}function ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ac(t){if(Ut){var e=qr;if(e){var n=e;if(!zd(t,e)){if(ic(t))throw Error(pe(418));e=pi(n.nextSibling);var o=Jr;e&&zd(t,e)?C0(o,n):(t.flags=t.flags&-4097|2,Ut=!1,Jr=t)}}else{if(ic(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Ut=!1,Jr=t}}}function Vd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jr=t}function fo(t){if(t!==Jr)return!1;if(!Ut)return Vd(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ec(t.type,t.memoizedProps)),e&&(e=qr)){if(ic(t))throw S0(),Error(pe(418));for(;e;)C0(t,e),e=pi(e.nextSibling)}if(Vd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qr=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Jr?pi(t.stateNode.nextSibling):null;return!0}function S0(){for(var t=qr;t;)t=pi(t.nextSibling)}function Oa(){qr=Jr=null,Ut=!1}function af(t){An===null?An=[t]:An.push(t)}var V2=Zn.ReactCurrentBatchConfig;function es(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var o=n.stateNode}if(!o)throw Error(pe(147,t));var a=o,c=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===c?e.ref:(e=function(h){var p=a.refs;h===null?delete p[c]:p[c]=h},e._stringRef=c,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function ho(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hd(t){var e=t._init;return e(t._payload)}function A0(t){function e(O,R){if(t){var b=O.deletions;b===null?(O.deletions=[R],O.flags|=16):b.push(R)}}function n(O,R){if(!t)return null;for(;R!==null;)e(O,R),R=R.sibling;return null}function o(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function a(O,R){return O=yi(O,R),O.index=0,O.sibling=null,O}function c(O,R,b){return O.index=b,t?(b=O.alternate,b!==null?(b=b.index,b<R?(O.flags|=2,R):b):(O.flags|=2,R)):(O.flags|=1048576,R)}function h(O){return t&&O.alternate===null&&(O.flags|=2),O}function p(O,R,b,j){return R===null||R.tag!==6?(R=Cu(b,O.mode,j),R.return=O,R):(R=a(R,b),R.return=O,R)}function x(O,R,b,j){var Z=b.type;return Z===ca?E(O,R,b.props.children,j,b.key):R!==null&&(R.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ai&&Hd(Z)===R.type)?(j=a(R,b.props),j.ref=es(O,R,b),j.return=O,j):(j=Mo(b.type,b.key,b.props,null,O.mode,j),j.ref=es(O,R,b),j.return=O,j)}function v(O,R,b,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==b.containerInfo||R.stateNode.implementation!==b.implementation?(R=Su(b,O.mode,j),R.return=O,R):(R=a(R,b.children||[]),R.return=O,R)}function E(O,R,b,j,Z){return R===null||R.tag!==7?(R=Hi(b,O.mode,j,Z),R.return=O,R):(R=a(R,b),R.return=O,R)}function y(O,R,b){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Cu(""+R,O.mode,b),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case to:return b=Mo(R.type,R.key,R.props,null,O.mode,b),b.ref=es(O,null,R),b.return=O,b;case ua:return R=Su(R,O.mode,b),R.return=O,R;case ai:var j=R._init;return y(O,j(R._payload),b)}if(os(R)||$a(R))return R=Hi(R,O.mode,b,null),R.return=O,R;ho(O,R)}return null}function I(O,R,b,j){var Z=R!==null?R.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return Z!==null?null:p(O,R,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case to:return b.key===Z?x(O,R,b,j):null;case ua:return b.key===Z?v(O,R,b,j):null;case ai:return Z=b._init,I(O,R,Z(b._payload),j)}if(os(b)||$a(b))return Z!==null?null:E(O,R,b,j,null);ho(O,b)}return null}function A(O,R,b,j,Z){if(typeof j=="string"&&j!==""||typeof j=="number")return O=O.get(b)||null,p(R,O,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case to:return O=O.get(j.key===null?b:j.key)||null,x(R,O,j,Z);case ua:return O=O.get(j.key===null?b:j.key)||null,v(R,O,j,Z);case ai:var B=j._init;return A(O,R,b,B(j._payload),Z)}if(os(j)||$a(j))return O=O.get(b)||null,E(R,O,j,Z,null);ho(R,j)}return null}function M(O,R,b,j){for(var Z=null,B=null,H=R,Q=R=0,z=null;H!==null&&Q<b.length;Q++){H.index>Q?(z=H,H=null):z=H.sibling;var ae=I(O,H,b[Q],j);if(ae===null){H===null&&(H=z);break}t&&H&&ae.alternate===null&&e(O,H),R=c(ae,R,Q),B===null?Z=ae:B.sibling=ae,B=ae,H=z}if(Q===b.length)return n(O,H),Ut&&Pi(O,Q),Z;if(H===null){for(;Q<b.length;Q++)H=y(O,b[Q],j),H!==null&&(R=c(H,R,Q),B===null?Z=H:B.sibling=H,B=H);return Ut&&Pi(O,Q),Z}for(H=o(O,H);Q<b.length;Q++)z=A(H,O,Q,b[Q],j),z!==null&&(t&&z.alternate!==null&&H.delete(z.key===null?Q:z.key),R=c(z,R,Q),B===null?Z=z:B.sibling=z,B=z);return t&&H.forEach(function(ce){return e(O,ce)}),Ut&&Pi(O,Q),Z}function D(O,R,b,j){var Z=$a(b);if(typeof Z!="function")throw Error(pe(150));if(b=Z.call(b),b==null)throw Error(pe(151));for(var B=Z=null,H=R,Q=R=0,z=null,ae=b.next();H!==null&&!ae.done;Q++,ae=b.next()){H.index>Q?(z=H,H=null):z=H.sibling;var ce=I(O,H,ae.value,j);if(ce===null){H===null&&(H=z);break}t&&H&&ce.alternate===null&&e(O,H),R=c(ce,R,Q),B===null?Z=ce:B.sibling=ce,B=ce,H=z}if(ae.done)return n(O,H),Ut&&Pi(O,Q),Z;if(H===null){for(;!ae.done;Q++,ae=b.next())ae=y(O,ae.value,j),ae!==null&&(R=c(ae,R,Q),B===null?Z=ae:B.sibling=ae,B=ae);return Ut&&Pi(O,Q),Z}for(H=o(O,H);!ae.done;Q++,ae=b.next())ae=A(H,O,Q,ae.value,j),ae!==null&&(t&&ae.alternate!==null&&H.delete(ae.key===null?Q:ae.key),R=c(ae,R,Q),B===null?Z=ae:B.sibling=ae,B=ae);return t&&H.forEach(function(ne){return e(O,ne)}),Ut&&Pi(O,Q),Z}function k(O,R,b,j){if(typeof b=="object"&&b!==null&&b.type===ca&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case to:e:{for(var Z=b.key,B=R;B!==null;){if(B.key===Z){if(Z=b.type,Z===ca){if(B.tag===7){n(O,B.sibling),R=a(B,b.props.children),R.return=O,O=R;break e}}else if(B.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===ai&&Hd(Z)===B.type){n(O,B.sibling),R=a(B,b.props),R.ref=es(O,B,b),R.return=O,O=R;break e}n(O,B);break}else e(O,B);B=B.sibling}b.type===ca?(R=Hi(b.props.children,O.mode,j,b.key),R.return=O,O=R):(j=Mo(b.type,b.key,b.props,null,O.mode,j),j.ref=es(O,R,b),j.return=O,O=j)}return h(O);case ua:e:{for(B=b.key;R!==null;){if(R.key===B)if(R.tag===4&&R.stateNode.containerInfo===b.containerInfo&&R.stateNode.implementation===b.implementation){n(O,R.sibling),R=a(R,b.children||[]),R.return=O,O=R;break e}else{n(O,R);break}else e(O,R);R=R.sibling}R=Su(b,O.mode,j),R.return=O,O=R}return h(O);case ai:return B=b._init,k(O,R,B(b._payload),j)}if(os(b))return M(O,R,b,j);if($a(b))return D(O,R,b,j);ho(O,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,R!==null&&R.tag===6?(n(O,R.sibling),R=a(R,b),R.return=O,O=R):(n(O,R),R=Cu(b,O.mode,j),R.return=O,O=R),h(O)):n(O,R)}return k}var Ma=A0(!0),I0=A0(!1),Qo=Ti(null),$o=null,xa=null,sf=null;function of(){sf=xa=$o=null}function lf(t){var e=Qo.current;bt(Qo),t._currentValue=e}function sc(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function _a(t,e){$o=t,sf=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zr=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(sf!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if($o===null)throw Error(pe(308));xa=t,$o.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var Fi=null;function uf(t){Fi===null?Fi=[t]:Fi.push(t)}function T0(t,e,n,o){var a=e.interleaved;return a===null?(n.next=n,uf(e)):(n.next=a.next,a.next=n),e.interleaved=n,Qn(t,o)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,ft&2){var a=o.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),o.pending=e,Qn(t,n)}return a=o.interleaved,a===null?(e.next=e,uf(o)):(e.next=a.next,a.next=e),o.interleaved=e,Qn(t,n)}function To(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Qc(t,n)}}function Wd(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var a=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?a=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?a=c=e:c=c.next=e}else a=c=e;n={baseState:o.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zo(t,e,n,o){var a=t.updateQueue;si=!1;var c=a.firstBaseUpdate,h=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var x=p,v=x.next;x.next=null,h===null?c=v:h.next=v,h=x;var E=t.alternate;E!==null&&(E=E.updateQueue,p=E.lastBaseUpdate,p!==h&&(p===null?E.firstBaseUpdate=v:p.next=v,E.lastBaseUpdate=x))}if(c!==null){var y=a.baseState;h=0,E=v=x=null,p=c;do{var I=p.lane,A=p.eventTime;if((o&I)===I){E!==null&&(E=E.next={eventTime:A,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var M=t,D=p;switch(I=e,A=n,D.tag){case 1:if(M=D.payload,typeof M=="function"){y=M.call(A,y,I);break e}y=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=D.payload,I=typeof M=="function"?M.call(A,y,I):M,I==null)break e;y=Wt({},y,I);break e;case 2:si=!0}}p.callback!==null&&p.lane!==0&&(t.flags|=64,I=a.effects,I===null?a.effects=[p]:I.push(p))}else A={eventTime:A,lane:I,tag:p.tag,payload:p.payload,callback:p.callback,next:null},E===null?(v=E=A,x=y):E=E.next=A,h|=I;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;I=p,p=I.next,I.next=null,a.lastBaseUpdate=I,a.shared.pending=null}}while(!0);if(E===null&&(x=y),a.baseState=x,a.firstBaseUpdate=v,a.lastBaseUpdate=E,e=a.shared.interleaved,e!==null){a=e;do h|=a.lane,a=a.next;while(a!==e)}else c===null&&(a.shared.lanes=0);Qi|=h,t.lanes=h,t.memoizedState=y}}function Gd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],a=o.callback;if(a!==null){if(o.callback=null,o=n,typeof a!="function")throw Error(pe(191,a));a.call(o)}}}var Hs={},Un=Ti(Hs),Os=Ti(Hs),Ms=Ti(Hs);function Ui(t){if(t===Hs)throw Error(pe(174));return t}function ff(t,e){switch(Nt(Ms,e),Nt(Os,t),Nt(Un,Hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ju(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ju(e,t)}bt(Un),Nt(Un,e)}function ba(){bt(Un),bt(Os),bt(Ms)}function N0(t){Ui(Ms.current);var e=Ui(Un.current),n=ju(e,t.type);e!==n&&(Nt(Os,t),Nt(Un,n))}function df(t){Os.current===t&&(bt(Un),bt(Os))}var Vt=Ti(0);function Ko(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mu=[];function hf(){for(var t=0;t<mu.length;t++)mu[t]._workInProgressVersionPrimary=null;mu.length=0}var _o=Zn.ReactCurrentDispatcher,vu=Zn.ReactCurrentBatchConfig,Xi=0,Ht=null,ar=null,cr=null,qo=!1,ms=!1,bs=0,H2=0;function Cr(){throw Error(pe(321))}function gf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function pf(t,e,n,o,a,c){if(Xi=c,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_o.current=t===null||t.memoizedState===null?X2:Q2,t=n(o,a),ms){c=0;do{if(ms=!1,bs=0,25<=c)throw Error(pe(301));c+=1,cr=ar=null,e.updateQueue=null,_o.current=$2,t=n(o,a)}while(ms)}if(_o.current=Jo,e=ar!==null&&ar.next!==null,Xi=0,cr=ar=Ht=null,qo=!1,e)throw Error(pe(300));return t}function mf(){var t=bs!==0;return bs=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Ht.memoizedState=cr=t:cr=cr.next=t,cr}function gn(){if(ar===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=cr===null?Ht.memoizedState:cr.next;if(e!==null)cr=e,ar=t;else{if(t===null)throw Error(pe(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},cr===null?Ht.memoizedState=cr=t:cr=cr.next=t}return cr}function Ps(t,e){return typeof e=="function"?e(t):e}function xu(t){var e=gn(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var o=ar,a=o.baseQueue,c=n.pending;if(c!==null){if(a!==null){var h=a.next;a.next=c.next,c.next=h}o.baseQueue=a=c,n.pending=null}if(a!==null){c=a.next,o=o.baseState;var p=h=null,x=null,v=c;do{var E=v.lane;if((Xi&E)===E)x!==null&&(x=x.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),o=v.hasEagerState?v.eagerState:t(o,v.action);else{var y={lane:E,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};x===null?(p=x=y,h=o):x=x.next=y,Ht.lanes|=E,Qi|=E}v=v.next}while(v!==null&&v!==c);x===null?h=o:x.next=p,_n(o,e.memoizedState)||(zr=!0),e.memoizedState=o,e.baseState=h,e.baseQueue=x,n.lastRenderedState=o}if(t=n.interleaved,t!==null){a=t;do c=a.lane,Ht.lanes|=c,Qi|=c,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yu(t){var e=gn(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var o=n.dispatch,a=n.pending,c=e.memoizedState;if(a!==null){n.pending=null;var h=a=a.next;do c=t(c,h.action),h=h.next;while(h!==a);_n(c,e.memoizedState)||(zr=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),n.lastRenderedState=c}return[c,o]}function R0(){}function D0(t,e){var n=Ht,o=gn(),a=e(),c=!_n(o.memoizedState,a);if(c&&(o.memoizedState=a,zr=!0),o=o.queue,vf(b0.bind(null,n,o,t),[t]),o.getSnapshot!==e||c||cr!==null&&cr.memoizedState.tag&1){if(n.flags|=2048,Ls(9,M0.bind(null,n,o,a,e),void 0,null),fr===null)throw Error(pe(349));Xi&30||O0(n,e,a)}return a}function O0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M0(t,e,n,o){e.value=n,e.getSnapshot=o,P0(e)&&L0(t)}function b0(t,e,n){return n(function(){P0(e)&&L0(t)})}function P0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function L0(t){var e=Qn(t,1);e!==null&&Tn(e,t,1,-1)}function Yd(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},e.queue=t,t=t.dispatch=Y2.bind(null,Ht,t),[e.memoizedState,t]}function Ls(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function k0(){return gn().memoizedState}function No(t,e,n,o){var a=Ln();Ht.flags|=t,a.memoizedState=Ls(1|e,n,void 0,o===void 0?null:o)}function Sl(t,e,n,o){var a=gn();o=o===void 0?null:o;var c=void 0;if(ar!==null){var h=ar.memoizedState;if(c=h.destroy,o!==null&&gf(o,h.deps)){a.memoizedState=Ls(e,n,c,o);return}}Ht.flags|=t,a.memoizedState=Ls(1|e,n,c,o)}function Xd(t,e){return No(8390656,8,t,e)}function vf(t,e){return Sl(2048,8,t,e)}function B0(t,e){return Sl(4,2,t,e)}function F0(t,e){return Sl(4,4,t,e)}function U0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j0(t,e,n){return n=n!=null?n.concat([t]):null,Sl(4,4,U0.bind(null,e,t),n)}function xf(){}function z0(t,e){var n=gn();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&gf(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function V0(t,e){var n=gn();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&gf(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function H0(t,e,n){return Xi&21?(_n(n,e)||(n=Qh(),Ht.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zr=!0),t.memoizedState=n)}function W2(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var o=vu.transition;vu.transition={};try{t(!1),e()}finally{xt=n,vu.transition=o}}function W0(){return gn().memoizedState}function G2(t,e,n){var o=xi(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},G0(t))Y0(e,n);else if(n=T0(t,e,n,o),n!==null){var a=Rr();Tn(n,t,o,a),X0(n,e,o)}}function Y2(t,e,n){var o=xi(t),a={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(G0(t))Y0(e,a);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var h=e.lastRenderedState,p=c(h,n);if(a.hasEagerState=!0,a.eagerState=p,_n(p,h)){var x=e.interleaved;x===null?(a.next=a,uf(e)):(a.next=x.next,x.next=a),e.interleaved=a;return}}catch{}finally{}n=T0(t,e,a,o),n!==null&&(a=Rr(),Tn(n,t,o,a),X0(n,e,o))}}function G0(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function Y0(t,e){ms=qo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X0(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Qc(t,n)}}var Jo={readContext:hn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},X2={readContext:hn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:Xd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,No(4194308,4,U0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=Ln();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=G2.bind(null,Ht,t),[o.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Yd,useDebugValue:xf,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Yd(!1),e=t[0];return t=W2.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=Ht,a=Ln();if(Ut){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),fr===null)throw Error(pe(349));Xi&30||O0(o,e,n)}a.memoizedState=n;var c={value:n,getSnapshot:e};return a.queue=c,Xd(b0.bind(null,o,c,t),[t]),o.flags|=2048,Ls(9,M0.bind(null,o,c,n,e),void 0,null),n},useId:function(){var t=Ln(),e=fr.identifierPrefix;if(Ut){var n=Hn,o=Vn;n=(o&~(1<<32-In(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=bs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Q2={readContext:hn,useCallback:z0,useContext:hn,useEffect:vf,useImperativeHandle:j0,useInsertionEffect:B0,useLayoutEffect:F0,useMemo:V0,useReducer:xu,useRef:k0,useState:function(){return xu(Ps)},useDebugValue:xf,useDeferredValue:function(t){var e=gn();return H0(e,ar.memoizedState,t)},useTransition:function(){var t=xu(Ps)[0],e=gn().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:D0,useId:W0,unstable_isNewReconciler:!1},$2={readContext:hn,useCallback:z0,useContext:hn,useEffect:vf,useImperativeHandle:j0,useInsertionEffect:B0,useLayoutEffect:F0,useMemo:V0,useReducer:yu,useRef:k0,useState:function(){return yu(Ps)},useDebugValue:xf,useDeferredValue:function(t){var e=gn();return ar===null?e.memoizedState=t:H0(e,ar.memoizedState,t)},useTransition:function(){var t=yu(Ps)[0],e=gn().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:D0,useId:W0,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oc(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:Wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Al={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Rr(),a=xi(t),c=Gn(o,a);c.payload=e,n!=null&&(c.callback=n),e=mi(t,c,a),e!==null&&(Tn(e,t,a,o),To(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Rr(),a=xi(t),c=Gn(o,a);c.tag=1,c.payload=e,n!=null&&(c.callback=n),e=mi(t,c,a),e!==null&&(Tn(e,t,a,o),To(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rr(),o=xi(t),a=Gn(n,o);a.tag=2,e!=null&&(a.callback=e),e=mi(t,a,o),e!==null&&(Tn(e,t,o,n),To(e,t,o))}};function Qd(t,e,n,o,a,c,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,c,h):e.prototype&&e.prototype.isPureReactComponent?!_s(n,o)||!_s(a,c):!0}function Q0(t,e,n){var o=!1,a=Si,c=e.contextType;return typeof c=="object"&&c!==null?c=hn(c):(a=Hr(e)?Gi:Ir.current,o=e.contextTypes,c=(o=o!=null)?Da(t,a):Si),e=new e(n,c),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Al,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=c),e}function $d(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Al.enqueueReplaceState(e,e.state,null)}function lc(t,e,n,o){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},cf(t);var c=e.contextType;typeof c=="object"&&c!==null?a.context=hn(c):(c=Hr(e)?Gi:Ir.current,a.context=Da(t,c)),a.state=t.memoizedState,c=e.getDerivedStateFromProps,typeof c=="function"&&(oc(t,e,c,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Al.enqueueReplaceState(a,a.state,null),Zo(t,n,a,o),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e){try{var n="",o=e;do n+=Sm(o),o=o.return;while(o);var a=n}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:t,source:e,stack:a,digest:null}}function wu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z2=typeof WeakMap=="function"?WeakMap:Map;function $0(t,e,n){n=Gn(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){tl||(tl=!0,yc=o),uc(t,e)},n}function Z0(t,e,n){n=Gn(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var a=e.value;n.payload=function(){return o(a)},n.callback=function(){uc(t,e)}}var c=t.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){uc(t,e),typeof o!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var h=e.stack;this.componentDidCatch(e.value,{componentStack:h!==null?h:""})}),n}function Zd(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new Z2;var a=new Set;o.set(e,a)}else a=o.get(e),a===void 0&&(a=new Set,o.set(e,a));a.has(n)||(a.add(n),t=cv.bind(null,t,e,n),e.then(t,t))}function Kd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qd(t,e,n,o,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gn(-1,1),e.tag=2,mi(n,e,1))),n.lanes|=1),t)}var K2=Zn.ReactCurrentOwner,zr=!1;function Nr(t,e,n,o){e.child=t===null?I0(e,null,n,o):Ma(e,t.child,n,o)}function Jd(t,e,n,o,a){n=n.render;var c=e.ref;return _a(e,a),o=pf(t,e,n,o,c,a),n=mf(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,$n(t,e,a)):(Ut&&n&&rf(e),e.flags|=1,Nr(t,e,o,a),e.child)}function e1(t,e,n,o,a){if(t===null){var c=n.type;return typeof c=="function"&&!Tf(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=c,K0(t,e,c,o,a)):(t=Mo(n.type,null,o,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!(t.lanes&a)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:_s,n(h,o)&&t.ref===e.ref)return $n(t,e,a)}return e.flags|=1,t=yi(c,o),t.ref=e.ref,t.return=e,e.child=t}function K0(t,e,n,o,a){if(t!==null){var c=t.memoizedProps;if(_s(c,o)&&t.ref===e.ref)if(zr=!1,e.pendingProps=o=c,(t.lanes&a)!==0)t.flags&131072&&(zr=!0);else return e.lanes=t.lanes,$n(t,e,a)}return cc(t,e,n,o,a)}function q0(t,e,n){var o=e.pendingProps,a=o.children,c=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(wa,$r),$r|=n;else{if(!(n&1073741824))return t=c!==null?c.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(wa,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:n,Nt(wa,$r),$r|=o}else c!==null?(o=c.baseLanes|n,e.memoizedState=null):o=n,Nt(wa,$r),$r|=o;return Nr(t,e,a,n),e.child}function J0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,o,a){var c=Hr(n)?Gi:Ir.current;return c=Da(e,c),_a(e,a),n=pf(t,e,n,o,c,a),o=mf(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,$n(t,e,a)):(Ut&&o&&rf(e),e.flags|=1,Nr(t,e,n,a),e.child)}function t1(t,e,n,o,a){if(Hr(n)){var c=!0;Go(e)}else c=!1;if(_a(e,a),e.stateNode===null)Ro(t,e),Q0(e,n,o),lc(e,n,o,a),o=!0;else if(t===null){var h=e.stateNode,p=e.memoizedProps;h.props=p;var x=h.context,v=n.contextType;typeof v=="object"&&v!==null?v=hn(v):(v=Hr(n)?Gi:Ir.current,v=Da(e,v));var E=n.getDerivedStateFromProps,y=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function";y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==o||x!==v)&&$d(e,h,o,v),si=!1;var I=e.memoizedState;h.state=I,Zo(e,o,h,a),x=e.memoizedState,p!==o||I!==x||Vr.current||si?(typeof E=="function"&&(oc(e,n,E,o),x=e.memoizedState),(p=si||Qd(e,n,p,o,I,x,v))?(y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=x),h.props=o,h.state=x,h.context=v,o=p):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{h=e.stateNode,_0(t,e),p=e.memoizedProps,v=e.type===e.elementType?p:wn(e.type,p),h.props=v,y=e.pendingProps,I=h.context,x=n.contextType,typeof x=="object"&&x!==null?x=hn(x):(x=Hr(n)?Gi:Ir.current,x=Da(e,x));var A=n.getDerivedStateFromProps;(E=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==y||I!==x)&&$d(e,h,o,x),si=!1,I=e.memoizedState,h.state=I,Zo(e,o,h,a);var M=e.memoizedState;p!==y||I!==M||Vr.current||si?(typeof A=="function"&&(oc(e,n,A,o),M=e.memoizedState),(v=si||Qd(e,n,v,o,I,M,x)||!1)?(E||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,M,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,M,x)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=M),h.props=o,h.state=M,h.context=x,o=v):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),o=!1)}return fc(t,e,n,o,c,a)}function fc(t,e,n,o,a,c){J0(t,e);var h=(e.flags&128)!==0;if(!o&&!h)return a&&jd(e,n,!1),$n(t,e,c);o=e.stateNode,K2.current=e;var p=h&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&h?(e.child=Ma(e,t.child,null,c),e.child=Ma(e,null,p,c)):Nr(t,e,p,c),e.memoizedState=o.state,a&&jd(e,n,!0),e.child}function eg(t){var e=t.stateNode;e.pendingContext?Ud(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ud(t,e.context,!1),ff(t,e.containerInfo)}function r1(t,e,n,o,a){return Oa(),af(a),e.flags|=256,Nr(t,e,n,o),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function hc(t){return{baseLanes:t,cachePool:null,transitions:null}}function tg(t,e,n){var o=e.pendingProps,a=Vt.current,c=!1,h=(e.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(a&2)!==0),p?(c=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Nt(Vt,a&1),t===null)return ac(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(h=o.children,t=o.fallback,c?(o=e.mode,c=e.child,h={mode:"hidden",children:h},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=h):c=_l(h,o,0,null),t=Hi(t,o,n,null),c.return=e,t.return=e,c.sibling=t,e.child=c,e.child.memoizedState=hc(n),e.memoizedState=dc,t):yf(e,h));if(a=t.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return q2(t,e,h,o,p,a,n);if(c){c=o.fallback,h=e.mode,a=t.child,p=a.sibling;var x={mode:"hidden",children:o.children};return!(h&1)&&e.child!==a?(o=e.child,o.childLanes=0,o.pendingProps=x,e.deletions=null):(o=yi(a,x),o.subtreeFlags=a.subtreeFlags&14680064),p!==null?c=yi(p,c):(c=Hi(c,h,n,null),c.flags|=2),c.return=e,o.return=e,o.sibling=c,e.child=o,o=c,c=e.child,h=t.child.memoizedState,h=h===null?hc(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},c.memoizedState=h,c.childLanes=t.childLanes&~n,e.memoizedState=dc,o}return c=t.child,t=c.sibling,o=yi(c,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function yf(t,e){return e=_l({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,n,o){return o!==null&&af(o),Ma(e,t.child,null,n),t=yf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q2(t,e,n,o,a,c,h){if(n)return e.flags&256?(e.flags&=-257,o=wu(Error(pe(422))),go(t,e,h,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(c=o.fallback,a=e.mode,o=_l({mode:"visible",children:o.children},a,0,null),c=Hi(c,a,h,null),c.flags|=2,o.return=e,c.return=e,o.sibling=c,e.child=o,e.mode&1&&Ma(e,t.child,null,h),e.child.memoizedState=hc(h),e.memoizedState=dc,c);if(!(e.mode&1))return go(t,e,h,null);if(a.data==="$!"){if(o=a.nextSibling&&a.nextSibling.dataset,o)var p=o.dgst;return o=p,c=Error(pe(419)),o=wu(c,o,void 0),go(t,e,h,o)}if(p=(h&t.childLanes)!==0,zr||p){if(o=fr,o!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(o.suspendedLanes|h)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,Qn(t,a),Tn(o,t,a,-1))}return If(),o=wu(Error(pe(421))),go(t,e,h,o)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=fv.bind(null,t),a._reactRetry=e,null):(t=c.treeContext,qr=pi(a.nextSibling),Jr=e,Ut=!0,An=null,t!==null&&(un[cn++]=Vn,un[cn++]=Hn,un[cn++]=Yi,Vn=t.id,Hn=t.overflow,Yi=e),e=yf(e,o.children),e.flags|=4096,e)}function n1(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),sc(t.return,e,n)}function Eu(t,e,n,o,a){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:a}:(c.isBackwards=e,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=n,c.tailMode=a)}function rg(t,e,n){var o=e.pendingProps,a=o.revealOrder,c=o.tail;if(Nr(t,e,o.children,n),o=Vt.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n1(t,n,e);else if(t.tag===19)n1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Nt(Vt,o),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&Ko(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Eu(e,!1,a,n,c);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Ko(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Eu(e,!0,n,null,c);break;case"together":Eu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ro(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=yi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function J2(t,e,n){switch(e.tag){case 3:eg(e),Oa();break;case 5:N0(e);break;case 1:Hr(e.type)&&Go(e);break;case 4:ff(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,a=e.memoizedProps.value;Nt(Qo,o._currentValue),o._currentValue=a;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Nt(Vt,Vt.current&1),e.flags|=128,null):n&e.child.childLanes?tg(t,e,n):(Nt(Vt,Vt.current&1),t=$n(t,e,n),t!==null?t.sibling:null);Nt(Vt,Vt.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return rg(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Nt(Vt,Vt.current),o)break;return null;case 22:case 23:return e.lanes=0,q0(t,e,n)}return $n(t,e,n)}var ng,gc,ig,ag;ng=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gc=function(){};ig=function(t,e,n,o){var a=t.memoizedProps;if(a!==o){t=e.stateNode,Ui(Un.current);var c=null;switch(n){case"input":a=ku(t,a),o=ku(t,o),c=[];break;case"select":a=Wt({},a,{value:void 0}),o=Wt({},o,{value:void 0}),c=[];break;case"textarea":a=Uu(t,a),o=Uu(t,o),c=[];break;default:typeof a.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Ho)}zu(n,o);var h;n=null;for(v in a)if(!o.hasOwnProperty(v)&&a.hasOwnProperty(v)&&a[v]!=null)if(v==="style"){var p=a[v];for(h in p)p.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(ws.hasOwnProperty(v)?c||(c=[]):(c=c||[]).push(v,null));for(v in o){var x=o[v];if(p=a!=null?a[v]:void 0,o.hasOwnProperty(v)&&x!==p&&(x!=null||p!=null))if(v==="style")if(p){for(h in p)!p.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in x)x.hasOwnProperty(h)&&p[h]!==x[h]&&(n||(n={}),n[h]=x[h])}else n||(c||(c=[]),c.push(v,n)),n=x;else v==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,p=p?p.__html:void 0,x!=null&&p!==x&&(c=c||[]).push(v,x)):v==="children"?typeof x!="string"&&typeof x!="number"||(c=c||[]).push(v,""+x):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(ws.hasOwnProperty(v)?(x!=null&&v==="onScroll"&&Ot("scroll",t),c||p===x||(c=[])):(c=c||[]).push(v,x))}n&&(c=c||[]).push("style",n);var v=c;(e.updateQueue=v)&&(e.flags|=4)}};ag=function(t,e,n,o){n!==o&&(e.flags|=4)};function ts(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,o|=a.subtreeFlags&14680064,o|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,o|=a.subtreeFlags,o|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function ev(t,e,n){var o=e.pendingProps;switch(nf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return Hr(e.type)&&Wo(),Sr(e),null;case 3:return o=e.stateNode,ba(),bt(Vr),bt(Ir),hf(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(fo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Cc(An),An=null))),gc(t,e),Sr(e),null;case 5:df(e);var a=Ui(Ms.current);if(n=e.type,t!==null&&e.stateNode!=null)ig(t,e,n,o,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(pe(166));return Sr(e),null}if(t=Ui(Un.current),fo(e)){o=e.stateNode,n=e.type;var c=e.memoizedProps;switch(o[Bn]=e,o[Ds]=c,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",o),Ot("close",o);break;case"iframe":case"object":case"embed":Ot("load",o);break;case"video":case"audio":for(a=0;a<us.length;a++)Ot(us[a],o);break;case"source":Ot("error",o);break;case"img":case"image":case"link":Ot("error",o),Ot("load",o);break;case"details":Ot("toggle",o);break;case"input":dd(o,c),Ot("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Ot("invalid",o);break;case"textarea":gd(o,c),Ot("invalid",o)}zu(n,c),a=null;for(var h in c)if(c.hasOwnProperty(h)){var p=c[h];h==="children"?typeof p=="string"?o.textContent!==p&&(c.suppressHydrationWarning!==!0&&co(o.textContent,p,t),a=["children",p]):typeof p=="number"&&o.textContent!==""+p&&(c.suppressHydrationWarning!==!0&&co(o.textContent,p,t),a=["children",""+p]):ws.hasOwnProperty(h)&&p!=null&&h==="onScroll"&&Ot("scroll",o)}switch(n){case"input":ro(o),hd(o,c,!0);break;case"textarea":ro(o),pd(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=Ho)}o=a,e.updateQueue=o,o!==null&&(e.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=h.createElement(n,{is:o.is}):(t=h.createElement(n),n==="select"&&(h=t,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):t=h.createElementNS(t,n),t[Bn]=e,t[Ds]=o,ng(t,e,!1,!1),e.stateNode=t;e:{switch(h=Vu(n,o),n){case"dialog":Ot("cancel",t),Ot("close",t),a=o;break;case"iframe":case"object":case"embed":Ot("load",t),a=o;break;case"video":case"audio":for(a=0;a<us.length;a++)Ot(us[a],t);a=o;break;case"source":Ot("error",t),a=o;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),a=o;break;case"details":Ot("toggle",t),a=o;break;case"input":dd(t,o),a=ku(t,o),Ot("invalid",t);break;case"option":a=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},a=Wt({},o,{value:void 0}),Ot("invalid",t);break;case"textarea":gd(t,o),a=Uu(t,o),Ot("invalid",t);break;default:a=o}zu(n,a),p=a;for(c in p)if(p.hasOwnProperty(c)){var x=p[c];c==="style"?kh(t,x):c==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Ph(t,x)):c==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&Es(t,x):typeof x=="number"&&Es(t,""+x):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ws.hasOwnProperty(c)?x!=null&&c==="onScroll"&&Ot("scroll",t):x!=null&&Vc(t,c,x,h))}switch(n){case"input":ro(t),hd(t,o,!1);break;case"textarea":ro(t),pd(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ci(o.value));break;case"select":t.multiple=!!o.multiple,c=o.value,c!=null?Sa(t,!!o.multiple,c,!1):o.defaultValue!=null&&Sa(t,!!o.multiple,o.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Ho)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(t&&e.stateNode!=null)ag(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Ui(Ms.current),Ui(Un.current),fo(e)){if(o=e.stateNode,n=e.memoizedProps,o[Bn]=e,(c=o.nodeValue!==n)&&(t=Jr,t!==null))switch(t.tag){case 3:co(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&co(o.nodeValue,n,(t.mode&1)!==0)}c&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Bn]=e,e.stateNode=o}return Sr(e),null;case 13:if(bt(Vt),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&qr!==null&&e.mode&1&&!(e.flags&128))S0(),Oa(),e.flags|=98560,c=!1;else if(c=fo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(pe(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(pe(317));c[Bn]=e}else Oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),c=!1}else An!==null&&(Cc(An),An=null),c=!0;if(!c)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||Vt.current&1?sr===0&&(sr=3):If())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return ba(),gc(t,e),t===null&&Ns(e.stateNode.containerInfo),Sr(e),null;case 10:return lf(e.type._context),Sr(e),null;case 17:return Hr(e.type)&&Wo(),Sr(e),null;case 19:if(bt(Vt),c=e.memoizedState,c===null)return Sr(e),null;if(o=(e.flags&128)!==0,h=c.rendering,h===null)if(o)ts(c,!1);else{if(sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(h=Ko(t),h!==null){for(e.flags|=128,ts(c,!1),o=h.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)c=n,t=o,c.flags&=14680066,h=c.alternate,h===null?(c.childLanes=0,c.lanes=t,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=h.childLanes,c.lanes=h.lanes,c.child=h.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=h.memoizedProps,c.memoizedState=h.memoizedState,c.updateQueue=h.updateQueue,c.type=h.type,t=h.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nt(Vt,Vt.current&1|2),e.child}t=t.sibling}c.tail!==null&&qt()>La&&(e.flags|=128,o=!0,ts(c,!1),e.lanes=4194304)}else{if(!o)if(t=Ko(h),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ts(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ut)return Sr(e),null}else 2*qt()-c.renderingStartTime>La&&n!==1073741824&&(e.flags|=128,o=!0,ts(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(n=c.last,n!==null?n.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=qt(),e.sibling=null,n=Vt.current,Nt(Vt,o?n&1|2:n&1),e):(Sr(e),null);case 22:case 23:return Af(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?$r&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function tv(t,e){switch(nf(e),e.tag){case 1:return Hr(e.type)&&Wo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ba(),bt(Vr),bt(Ir),hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return df(e),null;case 13:if(bt(Vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(Vt),null;case 4:return ba(),null;case 10:return lf(e.type._context),null;case 22:case 23:return Af(),null;case 24:return null;default:return null}}var po=!1,Ar=!1,rv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function ya(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Xt(t,e,o)}else n.current=null}function pc(t,e,n){try{n()}catch(o){Xt(t,e,o)}}var i1=!1;function nv(t,e){if(qu=jo,t=c0(),tf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var a=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,p=-1,x=-1,v=0,E=0,y=t,I=null;t:for(;;){for(var A;y!==n||a!==0&&y.nodeType!==3||(p=h+a),y!==c||o!==0&&y.nodeType!==3||(x=h+o),y.nodeType===3&&(h+=y.nodeValue.length),(A=y.firstChild)!==null;)I=y,y=A;for(;;){if(y===t)break t;if(I===n&&++v===a&&(p=h),I===c&&++E===o&&(x=h),(A=y.nextSibling)!==null)break;y=I,I=y.parentNode}y=A}n=p===-1||x===-1?null:{start:p,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ju={focusedElem:t,selectionRange:n},jo=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var D=M.memoizedProps,k=M.memoizedState,O=e.stateNode,R=O.getSnapshotBeforeUpdate(e.elementType===e.type?D:wn(e.type,D),k);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(j){Xt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return M=i1,i1=!1,M}function vs(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&t)===t){var c=a.destroy;a.destroy=void 0,c!==void 0&&pc(e,n,c)}a=a.next}while(a!==o)}}function Il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function mc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sg(t){var e=t.alternate;e!==null&&(t.alternate=null,sg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[Ds],delete e[rc],delete e[U2],delete e[j2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function og(t){return t.tag===5||t.tag===3||t.tag===4}function a1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vc(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ho));else if(o!==4&&(t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}function xc(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}var mr=null,En=!1;function ri(t,e,n){for(n=n.child;n!==null;)lg(t,e,n),n=n.sibling}function lg(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(vl,n)}catch{}switch(n.tag){case 5:Ar||ya(n,e);case 6:var o=mr,a=En;mr=null,ri(t,e,n),mr=o,En=a,mr!==null&&(En?(t=mr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mr.removeChild(n.stateNode));break;case 18:mr!==null&&(En?(t=mr,n=n.stateNode,t.nodeType===8?gu(t.parentNode,n):t.nodeType===1&&gu(t,n),Is(t)):gu(mr,n.stateNode));break;case 4:o=mr,a=En,mr=n.stateNode.containerInfo,En=!0,ri(t,e,n),mr=o,En=a;break;case 0:case 11:case 14:case 15:if(!Ar&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){a=o=o.next;do{var c=a,h=c.destroy;c=c.tag,h!==void 0&&(c&2||c&4)&&pc(n,e,h),a=a.next}while(a!==o)}ri(t,e,n);break;case 1:if(!Ar&&(ya(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(p){Xt(n,e,p)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Ar=(o=Ar)||n.memoizedState!==null,ri(t,e,n),Ar=o):ri(t,e,n);break;default:ri(t,e,n)}}function s1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rv),e.forEach(function(o){var a=dv.bind(null,t,o);n.has(o)||(n.add(o),o.then(a,a))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];try{var c=t,h=e,p=h;e:for(;p!==null;){switch(p.tag){case 5:mr=p.stateNode,En=!1;break e;case 3:mr=p.stateNode.containerInfo,En=!0;break e;case 4:mr=p.stateNode.containerInfo,En=!0;break e}p=p.return}if(mr===null)throw Error(pe(160));lg(c,h,a),mr=null,En=!1;var x=a.alternate;x!==null&&(x.return=null),a.return=null}catch(v){Xt(a,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ug(e,t),e=e.sibling}function ug(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Pn(t),o&4){try{vs(3,t,t.return),Il(3,t)}catch(D){Xt(t,t.return,D)}try{vs(5,t,t.return)}catch(D){Xt(t,t.return,D)}}break;case 1:yn(e,t),Pn(t),o&512&&n!==null&&ya(n,n.return);break;case 5:if(yn(e,t),Pn(t),o&512&&n!==null&&ya(n,n.return),t.flags&32){var a=t.stateNode;try{Es(a,"")}catch(D){Xt(t,t.return,D)}}if(o&4&&(a=t.stateNode,a!=null)){var c=t.memoizedProps,h=n!==null?n.memoizedProps:c,p=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{p==="input"&&c.type==="radio"&&c.name!=null&&Oh(a,c),Vu(p,h);var v=Vu(p,c);for(h=0;h<x.length;h+=2){var E=x[h],y=x[h+1];E==="style"?kh(a,y):E==="dangerouslySetInnerHTML"?Ph(a,y):E==="children"?Es(a,y):Vc(a,E,y,v)}switch(p){case"input":Bu(a,c);break;case"textarea":Mh(a,c);break;case"select":var I=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var A=c.value;A!=null?Sa(a,!!c.multiple,A,!1):I!==!!c.multiple&&(c.defaultValue!=null?Sa(a,!!c.multiple,c.defaultValue,!0):Sa(a,!!c.multiple,c.multiple?[]:"",!1))}a[Ds]=c}catch(D){Xt(t,t.return,D)}}break;case 6:if(yn(e,t),Pn(t),o&4){if(t.stateNode===null)throw Error(pe(162));a=t.stateNode,c=t.memoizedProps;try{a.nodeValue=c}catch(D){Xt(t,t.return,D)}}break;case 3:if(yn(e,t),Pn(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(e.containerInfo)}catch(D){Xt(t,t.return,D)}break;case 4:yn(e,t),Pn(t);break;case 13:yn(e,t),Pn(t),a=t.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(Cf=qt())),o&4&&s1(t);break;case 22:if(E=n!==null&&n.memoizedState!==null,t.mode&1?(Ar=(v=Ar)||E,yn(e,t),Ar=v):yn(e,t),Pn(t),o&8192){if(v=t.memoizedState!==null,(t.stateNode.isHidden=v)&&!E&&t.mode&1)for(_e=t,E=t.child;E!==null;){for(y=_e=E;_e!==null;){switch(I=_e,A=I.child,I.tag){case 0:case 11:case 14:case 15:vs(4,I,I.return);break;case 1:ya(I,I.return);var M=I.stateNode;if(typeof M.componentWillUnmount=="function"){o=I,n=I.return;try{e=o,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(D){Xt(o,n,D)}}break;case 5:ya(I,I.return);break;case 22:if(I.memoizedState!==null){l1(y);continue}}A!==null?(A.return=I,_e=A):l1(y)}E=E.sibling}e:for(E=null,y=t;;){if(y.tag===5){if(E===null){E=y;try{a=y.stateNode,v?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(p=y.stateNode,x=y.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,p.style.display=Lh("display",h))}catch(D){Xt(t,t.return,D)}}}else if(y.tag===6){if(E===null)try{y.stateNode.nodeValue=v?"":y.memoizedProps}catch(D){Xt(t,t.return,D)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;E===y&&(E=null),y=y.return}E===y&&(E=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:yn(e,t),Pn(t),o&4&&s1(t);break;case 21:break;default:yn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(og(n)){var o=n;break e}n=n.return}throw Error(pe(160))}switch(o.tag){case 5:var a=o.stateNode;o.flags&32&&(Es(a,""),o.flags&=-33);var c=a1(t);xc(t,c,a);break;case 3:case 4:var h=o.stateNode.containerInfo,p=a1(t);vc(t,p,h);break;default:throw Error(pe(161))}}catch(x){Xt(t,t.return,x)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iv(t,e,n){_e=t,cg(t)}function cg(t,e,n){for(var o=(t.mode&1)!==0;_e!==null;){var a=_e,c=a.child;if(a.tag===22&&o){var h=a.memoizedState!==null||po;if(!h){var p=a.alternate,x=p!==null&&p.memoizedState!==null||Ar;p=po;var v=Ar;if(po=h,(Ar=x)&&!v)for(_e=a;_e!==null;)h=_e,x=h.child,h.tag===22&&h.memoizedState!==null?u1(a):x!==null?(x.return=h,_e=x):u1(a);for(;c!==null;)_e=c,cg(c),c=c.sibling;_e=a,po=p,Ar=v}o1(t)}else a.subtreeFlags&8772&&c!==null?(c.return=a,_e=c):o1(t)}}function o1(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ar||Il(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Ar)if(n===null)o.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);o.componentDidUpdate(a,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=e.updateQueue;c!==null&&Gd(e,c,o);break;case 3:var h=e.updateQueue;if(h!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gd(e,h,n)}break;case 5:var p=e.stateNode;if(n===null&&e.flags&4){n=p;var x=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var E=v.memoizedState;if(E!==null){var y=E.dehydrated;y!==null&&Is(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Ar||e.flags&512&&mc(e)}catch(I){Xt(e,e.return,I)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function l1(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function u1(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Il(4,e)}catch(x){Xt(e,n,x)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var a=e.return;try{o.componentDidMount()}catch(x){Xt(e,a,x)}}var c=e.return;try{mc(e)}catch(x){Xt(e,c,x)}break;case 5:var h=e.return;try{mc(e)}catch(x){Xt(e,h,x)}}}catch(x){Xt(e,e.return,x)}if(e===t){_e=null;break}var p=e.sibling;if(p!==null){p.return=e.return,_e=p;break}_e=e.return}}var av=Math.ceil,el=Zn.ReactCurrentDispatcher,wf=Zn.ReactCurrentOwner,dn=Zn.ReactCurrentBatchConfig,ft=0,fr=null,tr=null,vr=0,$r=0,wa=Ti(0),sr=0,ks=null,Qi=0,Tl=0,Ef=0,xs=null,jr=null,Cf=0,La=1/0,jn=null,tl=!1,yc=null,vi=null,mo=!1,ci=null,rl=0,ys=0,wc=null,Do=-1,Oo=0;function Rr(){return ft&6?qt():Do!==-1?Do:Do=qt()}function xi(t){return t.mode&1?ft&2&&vr!==0?vr&-vr:V2.transition!==null?(Oo===0&&(Oo=Qh()),Oo):(t=xt,t!==0||(t=window.event,t=t===void 0?16:t0(t.type)),t):1}function Tn(t,e,n,o){if(50<ys)throw ys=0,wc=null,Error(pe(185));js(t,n,o),(!(ft&2)||t!==fr)&&(t===fr&&(!(ft&2)&&(Tl|=n),sr===4&&li(t,vr)),Wr(t,o),n===1&&ft===0&&!(e.mode&1)&&(La=qt()+500,Cl&&_i()))}function Wr(t,e){var n=t.callbackNode;Vm(t,e);var o=Uo(t,t===fr?vr:0);if(o===0)n!==null&&xd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&xd(n),e===1)t.tag===0?z2(c1.bind(null,t)):w0(c1.bind(null,t)),B2(function(){!(ft&6)&&_i()}),n=null;else{switch($h(o)){case 1:n=Xc;break;case 4:n=Yh;break;case 16:n=Fo;break;case 536870912:n=Xh;break;default:n=Fo}n=xg(n,fg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fg(t,e){if(Do=-1,Oo=0,ft&6)throw Error(pe(327));var n=t.callbackNode;if(Na()&&t.callbackNode!==n)return null;var o=Uo(t,t===fr?vr:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=nl(t,o);else{e=o;var a=ft;ft|=2;var c=hg();(fr!==t||vr!==e)&&(jn=null,La=qt()+500,Vi(t,e));do try{lv();break}catch(p){dg(t,p)}while(!0);of(),el.current=c,ft=a,tr!==null?e=0:(fr=null,vr=0,e=sr)}if(e!==0){if(e===2&&(a=Xu(t),a!==0&&(o=a,e=Ec(t,a))),e===1)throw n=ks,Vi(t,0),li(t,o),Wr(t,qt()),n;if(e===6)li(t,o);else{if(a=t.current.alternate,!(o&30)&&!sv(a)&&(e=nl(t,o),e===2&&(c=Xu(t),c!==0&&(o=c,e=Ec(t,c))),e===1))throw n=ks,Vi(t,0),li(t,o),Wr(t,qt()),n;switch(t.finishedWork=a,t.finishedLanes=o,e){case 0:case 1:throw Error(pe(345));case 2:Li(t,jr,jn);break;case 3:if(li(t,o),(o&130023424)===o&&(e=Cf+500-qt(),10<e)){if(Uo(t,0)!==0)break;if(a=t.suspendedLanes,(a&o)!==o){Rr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=tc(Li.bind(null,t,jr,jn),e);break}Li(t,jr,jn);break;case 4:if(li(t,o),(o&4194240)===o)break;for(e=t.eventTimes,a=-1;0<o;){var h=31-In(o);c=1<<h,h=e[h],h>a&&(a=h),o&=~c}if(o=a,o=qt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*av(o/1960))-o,10<o){t.timeoutHandle=tc(Li.bind(null,t,jr,jn),o);break}Li(t,jr,jn);break;case 5:Li(t,jr,jn);break;default:throw Error(pe(329))}}}return Wr(t,qt()),t.callbackNode===n?fg.bind(null,t):null}function Ec(t,e){var n=xs;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=nl(t,e),t!==2&&(e=jr,jr=n,e!==null&&Cc(e)),t}function Cc(t){jr===null?jr=t:jr.push.apply(jr,t)}function sv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var a=n[o],c=a.getSnapshot;a=a.value;try{if(!_n(c(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~Ef,e&=~Tl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),o=1<<n;t[n]=-1,e&=~o}}function c1(t){if(ft&6)throw Error(pe(327));Na();var e=Uo(t,0);if(!(e&1))return Wr(t,qt()),null;var n=nl(t,e);if(t.tag!==0&&n===2){var o=Xu(t);o!==0&&(e=o,n=Ec(t,o))}if(n===1)throw n=ks,Vi(t,0),li(t,e),Wr(t,qt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,jr,jn),Wr(t,qt()),null}function Sf(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(La=qt()+500,Cl&&_i())}}function $i(t){ci!==null&&ci.tag===0&&!(ft&6)&&Na();var e=ft;ft|=1;var n=dn.transition,o=xt;try{if(dn.transition=null,xt=1,t)return t()}finally{xt=o,dn.transition=n,ft=e,!(ft&6)&&_i()}}function Af(){$r=wa.current,bt(wa)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k2(n)),tr!==null)for(n=tr.return;n!==null;){var o=n;switch(nf(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Wo();break;case 3:ba(),bt(Vr),bt(Ir),hf();break;case 5:df(o);break;case 4:ba();break;case 13:bt(Vt);break;case 19:bt(Vt);break;case 10:lf(o.type._context);break;case 22:case 23:Af()}n=n.return}if(fr=t,tr=t=yi(t.current,null),vr=$r=e,sr=0,ks=null,Ef=Tl=Qi=0,jr=xs=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],o=n.interleaved,o!==null){n.interleaved=null;var a=o.next,c=n.pending;if(c!==null){var h=c.next;c.next=a,o.next=h}n.pending=o}Fi=null}return t}function dg(t,e){do{var n=tr;try{if(of(),_o.current=Jo,qo){for(var o=Ht.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}qo=!1}if(Xi=0,cr=ar=Ht=null,ms=!1,bs=0,wf.current=null,n===null||n.return===null){sr=1,ks=e,tr=null;break}e:{var c=t,h=n.return,p=n,x=e;if(e=vr,p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var v=x,E=p,y=E.tag;if(!(E.mode&1)&&(y===0||y===11||y===15)){var I=E.alternate;I?(E.updateQueue=I.updateQueue,E.memoizedState=I.memoizedState,E.lanes=I.lanes):(E.updateQueue=null,E.memoizedState=null)}var A=Kd(h);if(A!==null){A.flags&=-257,qd(A,h,p,c,e),A.mode&1&&Zd(c,v,e),e=A,x=v;var M=e.updateQueue;if(M===null){var D=new Set;D.add(x),e.updateQueue=D}else M.add(x);break e}else{if(!(e&1)){Zd(c,v,e),If();break e}x=Error(pe(426))}}else if(Ut&&p.mode&1){var k=Kd(h);if(k!==null){!(k.flags&65536)&&(k.flags|=256),qd(k,h,p,c,e),af(Pa(x,p));break e}}c=x=Pa(x,p),sr!==4&&(sr=2),xs===null?xs=[c]:xs.push(c),c=h;do{switch(c.tag){case 3:c.flags|=65536,e&=-e,c.lanes|=e;var O=$0(c,x,e);Wd(c,O);break e;case 1:p=x;var R=c.type,b=c.stateNode;if(!(c.flags&128)&&(typeof R.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vi===null||!vi.has(b)))){c.flags|=65536,e&=-e,c.lanes|=e;var j=Z0(c,p,e);Wd(c,j);break e}}c=c.return}while(c!==null)}pg(n)}catch(Z){e=Z,tr===n&&n!==null&&(tr=n=n.return);continue}break}while(!0)}function hg(){var t=el.current;return el.current=Jo,t===null?Jo:t}function If(){(sr===0||sr===3||sr===2)&&(sr=4),fr===null||!(Qi&268435455)&&!(Tl&268435455)||li(fr,vr)}function nl(t,e){var n=ft;ft|=2;var o=hg();(fr!==t||vr!==e)&&(jn=null,Vi(t,e));do try{ov();break}catch(a){dg(t,a)}while(!0);if(of(),ft=n,el.current=o,tr!==null)throw Error(pe(261));return fr=null,vr=0,sr}function ov(){for(;tr!==null;)gg(tr)}function lv(){for(;tr!==null&&!bm();)gg(tr)}function gg(t){var e=vg(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?pg(t):tr=e,wf.current=null}function pg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tv(n,e),n!==null){n.flags&=32767,tr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sr=6,tr=null;return}}else if(n=ev(n,e,$r),n!==null){tr=n;return}if(e=e.sibling,e!==null){tr=e;return}tr=e=t}while(e!==null);sr===0&&(sr=5)}function Li(t,e,n){var o=xt,a=dn.transition;try{dn.transition=null,xt=1,uv(t,e,n,o)}finally{dn.transition=a,xt=o}return null}function uv(t,e,n,o){do Na();while(ci!==null);if(ft&6)throw Error(pe(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var c=n.lanes|n.childLanes;if(Hm(t,c),t===fr&&(tr=fr=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mo||(mo=!0,xg(Fo,function(){return Na(),null})),c=(n.flags&15990)!==0,n.subtreeFlags&15990||c){c=dn.transition,dn.transition=null;var h=xt;xt=1;var p=ft;ft|=4,wf.current=null,nv(t,n),ug(n,t),R2(Ju),jo=!!qu,Ju=qu=null,t.current=n,iv(n),Pm(),ft=p,xt=h,dn.transition=c}else t.current=n;if(mo&&(mo=!1,ci=t,rl=a),c=t.pendingLanes,c===0&&(vi=null),Bm(n.stateNode),Wr(t,qt()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],o(a.value,{componentStack:a.stack,digest:a.digest});if(tl)throw tl=!1,t=yc,yc=null,t;return rl&1&&t.tag!==0&&Na(),c=t.pendingLanes,c&1?t===wc?ys++:(ys=0,wc=t):ys=0,_i(),null}function Na(){if(ci!==null){var t=$h(rl),e=dn.transition,n=xt;try{if(dn.transition=null,xt=16>t?16:t,ci===null)var o=!1;else{if(t=ci,ci=null,rl=0,ft&6)throw Error(pe(331));var a=ft;for(ft|=4,_e=t.current;_e!==null;){var c=_e,h=c.child;if(_e.flags&16){var p=c.deletions;if(p!==null){for(var x=0;x<p.length;x++){var v=p[x];for(_e=v;_e!==null;){var E=_e;switch(E.tag){case 0:case 11:case 15:vs(8,E,c)}var y=E.child;if(y!==null)y.return=E,_e=y;else for(;_e!==null;){E=_e;var I=E.sibling,A=E.return;if(sg(E),E===v){_e=null;break}if(I!==null){I.return=A,_e=I;break}_e=A}}}var M=c.alternate;if(M!==null){var D=M.child;if(D!==null){M.child=null;do{var k=D.sibling;D.sibling=null,D=k}while(D!==null)}}_e=c}}if(c.subtreeFlags&2064&&h!==null)h.return=c,_e=h;else e:for(;_e!==null;){if(c=_e,c.flags&2048)switch(c.tag){case 0:case 11:case 15:vs(9,c,c.return)}var O=c.sibling;if(O!==null){O.return=c.return,_e=O;break e}_e=c.return}}var R=t.current;for(_e=R;_e!==null;){h=_e;var b=h.child;if(h.subtreeFlags&2064&&b!==null)b.return=h,_e=b;else e:for(h=R;_e!==null;){if(p=_e,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Il(9,p)}}catch(Z){Xt(p,p.return,Z)}if(p===h){_e=null;break e}var j=p.sibling;if(j!==null){j.return=p.return,_e=j;break e}_e=p.return}}if(ft=a,_i(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(vl,t)}catch{}o=!0}return o}finally{xt=n,dn.transition=e}}return!1}function f1(t,e,n){e=Pa(n,e),e=$0(t,e,1),t=mi(t,e,1),e=Rr(),t!==null&&(js(t,1,e),Wr(t,e))}function Xt(t,e,n){if(t.tag===3)f1(t,t,n);else for(;e!==null;){if(e.tag===3){f1(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vi===null||!vi.has(o))){t=Pa(n,t),t=Z0(e,t,1),e=mi(e,t,1),t=Rr(),e!==null&&(js(e,1,t),Wr(e,t));break}}e=e.return}}function cv(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&n,fr===t&&(vr&n)===n&&(sr===4||sr===3&&(vr&130023424)===vr&&500>qt()-Cf?Vi(t,0):Ef|=n),Wr(t,e)}function mg(t,e){e===0&&(t.mode&1?(e=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):e=1);var n=Rr();t=Qn(t,e),t!==null&&(js(t,e,n),Wr(t,n))}function fv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mg(t,n)}function dv(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(pe(314))}o!==null&&o.delete(e),mg(t,n)}var vg;vg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)zr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zr=!1,J2(t,e,n);zr=!!(t.flags&131072)}else zr=!1,Ut&&e.flags&1048576&&E0(e,Xo,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Ro(t,e),t=e.pendingProps;var a=Da(e,Ir.current);_a(e,n),a=pf(null,e,o,t,a,n);var c=mf();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(o)?(c=!0,Go(e)):c=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cf(e),a.updater=Al,e.stateNode=a,a._reactInternals=e,lc(e,o,t,n),e=fc(null,e,o,!0,c,n)):(e.tag=0,Ut&&c&&rf(e),Nr(null,e,a,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Ro(t,e),t=e.pendingProps,a=o._init,o=a(o._payload),e.type=o,a=e.tag=gv(o),t=wn(o,t),a){case 0:e=cc(null,e,o,t,n);break e;case 1:e=t1(null,e,o,t,n);break e;case 11:e=Jd(null,e,o,t,n);break e;case 14:e=e1(null,e,o,wn(o.type,t),n);break e}throw Error(pe(306,o,""))}return e;case 0:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:wn(o,a),cc(t,e,o,a,n);case 1:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:wn(o,a),t1(t,e,o,a,n);case 3:e:{if(eg(e),t===null)throw Error(pe(387));o=e.pendingProps,c=e.memoizedState,a=c.element,_0(t,e),Zo(e,o,null,n);var h=e.memoizedState;if(o=h.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){a=Pa(Error(pe(423)),e),e=r1(t,e,o,n,a);break e}else if(o!==a){a=Pa(Error(pe(424)),e),e=r1(t,e,o,n,a);break e}else for(qr=pi(e.stateNode.containerInfo.firstChild),Jr=e,Ut=!0,An=null,n=I0(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oa(),o===a){e=$n(t,e,n);break e}Nr(t,e,o,n)}e=e.child}return e;case 5:return N0(e),t===null&&ac(e),o=e.type,a=e.pendingProps,c=t!==null?t.memoizedProps:null,h=a.children,ec(o,a)?h=null:c!==null&&ec(o,c)&&(e.flags|=32),J0(t,e),Nr(t,e,h,n),e.child;case 6:return t===null&&ac(e),null;case 13:return tg(t,e,n);case 4:return ff(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Ma(e,null,o,n):Nr(t,e,o,n),e.child;case 11:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:wn(o,a),Jd(t,e,o,a,n);case 7:return Nr(t,e,e.pendingProps,n),e.child;case 8:return Nr(t,e,e.pendingProps.children,n),e.child;case 12:return Nr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,a=e.pendingProps,c=e.memoizedProps,h=a.value,Nt(Qo,o._currentValue),o._currentValue=h,c!==null)if(_n(c.value,h)){if(c.children===a.children&&!Vr.current){e=$n(t,e,n);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var p=c.dependencies;if(p!==null){h=c.child;for(var x=p.firstContext;x!==null;){if(x.context===o){if(c.tag===1){x=Gn(-1,n&-n),x.tag=2;var v=c.updateQueue;if(v!==null){v=v.shared;var E=v.pending;E===null?x.next=x:(x.next=E.next,E.next=x),v.pending=x}}c.lanes|=n,x=c.alternate,x!==null&&(x.lanes|=n),sc(c.return,n,e),p.lanes|=n;break}x=x.next}}else if(c.tag===10)h=c.type===e.type?null:c.child;else if(c.tag===18){if(h=c.return,h===null)throw Error(pe(341));h.lanes|=n,p=h.alternate,p!==null&&(p.lanes|=n),sc(h,n,e),h=c.sibling}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===e){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}Nr(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,o=e.pendingProps.children,_a(e,n),a=hn(a),o=o(a),e.flags|=1,Nr(t,e,o,n),e.child;case 14:return o=e.type,a=wn(o,e.pendingProps),a=wn(o.type,a),e1(t,e,o,a,n);case 15:return K0(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,a=e.pendingProps,a=e.elementType===o?a:wn(o,a),Ro(t,e),e.tag=1,Hr(o)?(t=!0,Go(e)):t=!1,_a(e,n),Q0(e,o,a),lc(e,o,a,n),fc(null,e,o,!0,t,n);case 19:return rg(t,e,n);case 22:return q0(t,e,n)}throw Error(pe(156,e.tag))};function xg(t,e){return Gh(t,e)}function hv(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,o){return new hv(t,e,n,o)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gv(t){if(typeof t=="function")return Tf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wc)return 11;if(t===Gc)return 14}return 2}function yi(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mo(t,e,n,o,a,c){var h=2;if(o=t,typeof t=="function")Tf(t)&&(h=1);else if(typeof t=="string")h=5;else e:switch(t){case ca:return Hi(n.children,a,c,e);case Hc:h=8,a|=8;break;case Mu:return t=fn(12,n,e,a|2),t.elementType=Mu,t.lanes=c,t;case bu:return t=fn(13,n,e,a),t.elementType=bu,t.lanes=c,t;case Pu:return t=fn(19,n,e,a),t.elementType=Pu,t.lanes=c,t;case Nh:return _l(n,a,c,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Th:h=10;break e;case _h:h=9;break e;case Wc:h=11;break e;case Gc:h=14;break e;case ai:h=16,o=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=fn(h,n,e,a),e.elementType=t,e.type=o,e.lanes=c,e}function Hi(t,e,n,o){return t=fn(7,t,o,e),t.lanes=n,t}function _l(t,e,n,o){return t=fn(22,t,o,e),t.elementType=Nh,t.lanes=n,t.stateNode={isHidden:!1},t}function Cu(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Su(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pv(t,e,n,o,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nu(0),this.expirationTimes=nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nu(0),this.identifierPrefix=o,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _f(t,e,n,o,a,c,h,p,x){return t=new pv(t,e,n,p,x),e===1?(e=1,c===!0&&(e|=8)):e=0,c=fn(3,null,null,e),t.current=c,c.stateNode=t,c.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cf(c),t}function mv(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function yg(t){if(!t)return Si;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(Hr(n))return y0(t,n,e)}return e}function wg(t,e,n,o,a,c,h,p,x){return t=_f(n,o,!0,t,a,c,h,p,x),t.context=yg(null),n=t.current,o=Rr(),a=xi(n),c=Gn(o,a),c.callback=e??null,mi(n,c,a),t.current.lanes=a,js(t,a,o),Wr(t,o),t}function Nl(t,e,n,o){var a=e.current,c=Rr(),h=xi(a);return n=yg(n),e.context===null?e.context=n:e.pendingContext=n,e=Gn(c,h),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=mi(a,e,h),t!==null&&(Tn(t,a,h,c),To(t,a,h)),h}function il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nf(t,e){d1(t,e),(t=t.alternate)&&d1(t,e)}function vv(){return null}var Eg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Rf(t){this._internalRoot=t}Rl.prototype.render=Rf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Nl(t,e,null,null)};Rl.prototype.unmount=Rf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Nl(null,t,null,null)}),e[Xn]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var e=qh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&e0(t)}};function Df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h1(){}function xv(t,e,n,o,a){if(a){if(typeof o=="function"){var c=o;o=function(){var v=il(h);c.call(v)}}var h=wg(e,o,t,0,null,!1,!1,"",h1);return t._reactRootContainer=h,t[Xn]=h.current,Ns(t.nodeType===8?t.parentNode:t),$i(),h}for(;a=t.lastChild;)t.removeChild(a);if(typeof o=="function"){var p=o;o=function(){var v=il(x);p.call(v)}}var x=_f(t,0,!1,null,null,!1,!1,"",h1);return t._reactRootContainer=x,t[Xn]=x.current,Ns(t.nodeType===8?t.parentNode:t),$i(function(){Nl(e,x,n,o)}),x}function Ol(t,e,n,o,a){var c=n._reactRootContainer;if(c){var h=c;if(typeof a=="function"){var p=a;a=function(){var x=il(h);p.call(x)}}Nl(e,h,t,a)}else h=xv(n,e,t,a,o);return il(h)}Zh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ls(e.pendingLanes);n!==0&&(Qc(e,n|1),Wr(e,qt()),!(ft&6)&&(La=qt()+500,_i()))}break;case 13:$i(function(){var o=Qn(t,1);if(o!==null){var a=Rr();Tn(o,t,1,a)}}),Nf(t,1)}};$c=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=Rr();Tn(e,t,134217728,n)}Nf(t,134217728)}};Kh=function(t){if(t.tag===13){var e=xi(t),n=Qn(t,e);if(n!==null){var o=Rr();Tn(n,t,e,o)}Nf(t,e)}};qh=function(){return xt};Jh=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};Wu=function(t,e,n){switch(e){case"input":if(Bu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var a=El(o);if(!a)throw Error(pe(90));Dh(o),Bu(o,a)}}}break;case"textarea":Mh(t,n);break;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}};Uh=Sf;jh=$i;var yv={usingClientEntryPoint:!1,Events:[Vs,ga,El,Bh,Fh,Sf]},rs={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wv={bundleType:rs.bundleType,version:rs.version,rendererPackageName:rs.rendererPackageName,rendererConfig:rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hh(t),t===null?null:t.stateNode},findFiberByHostInstance:rs.findFiberByHostInstance||vv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{vl=vo.inject(wv),Fn=vo}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yv;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(e))throw Error(pe(200));return mv(t,e,null,n)};tn.createRoot=function(t,e){if(!Df(t))throw Error(pe(299));var n=!1,o="",a=Eg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=_f(t,1,!1,null,null,n,!1,o,a),t[Xn]=e.current,Ns(t.nodeType===8?t.parentNode:t),new Rf(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=Hh(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return $i(t)};tn.hydrate=function(t,e,n){if(!Dl(e))throw Error(pe(200));return Ol(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Df(t))throw Error(pe(405));var o=n!=null&&n.hydratedSources||null,a=!1,c="",h=Eg;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),e=wg(e,null,t,1,n??null,a,!1,c,h),t[Xn]=e.current,Ns(t),o)for(t=0;t<o.length;t++)n=o[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Rl(e)};tn.render=function(t,e,n){if(!Dl(e))throw Error(pe(200));return Ol(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Dl(t))throw Error(pe(40));return t._reactRootContainer?($i(function(){Ol(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};tn.unstable_batchedUpdates=Sf;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!Dl(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Ol(t,e,n,!1,o)};tn.version="18.3.1-next-f1338f8080-20240426";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(t){console.error(t)}}Cg(),Ch.exports=tn;var Of=Ch.exports;const Ev=pl(Of),Cv=Lc({__proto__:null,default:Ev},[Of]);var g1=Of;Du.createRoot=g1.createRoot,Du.hydrateRoot=g1.hydrateRoot;var Te;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var p1=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),m1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(m1||(m1={}));function Sv(t){return Object.values(Te).includes(t)}var Ai;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ai||(Ai={}));var Cn=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Ai.SCAN_TYPE_CAMERA,Ai.SCAN_TYPE_FILE],t}(),Sg=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!p1.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,p1.get(e))},t}(),v1=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Sc;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sc||(Sc={}));var Ag=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Sc.UNKWOWN_ERROR}},t}(),Ig=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function kn(t){return typeof t>"u"||t===null}function Av(t,e,n){return t>n?n:t<e?e:t}var Ea=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),vt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),x1=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),Tg=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var o=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],c=new Set(a),h=Object.keys(e),p=0,x=h;p<x.length;p++){var v=x[p];if(c.has(v))return n.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},t}(),Ac={exports:{}};(function(t,e){(function(n,o){o(e)})(la,function(n){function o(C){return C==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,r){C.__proto__=r}||function(C,r){for(var i in r)r.hasOwnProperty(i)&&(C[i]=r[i])};function c(C,r){a(C,r);function i(){this.constructor=C}C.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function h(C,r){var i=Object.setPrototypeOf;i?i(C,r):C.__proto__=r}function p(C,r){r===void 0&&(r=C.constructor);var i=Error.captureStackTrace;i&&i(C,r)}var x=function(C){c(r,C);function r(i){var s=this.constructor,l=C.call(this,i)||this;return Object.defineProperty(l,"name",{value:s.name,enumerable:!1}),h(l,s.prototype),p(l),l}return r}(Error);class v extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}v.kind="Exception";class E extends v{}E.kind="ArgumentException";class y extends v{}y.kind="IllegalArgumentException";class I{constructor(r){if(this.binarizer=r,r===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,s,l){const u=this.binarizer.getLuminanceSource().crop(r,i,s,l);return new I(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends v{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class M{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(r,i,s,l,u){for(;u--;)s[l++]=r[i++]}static currentTimeMillis(){return Date.now()}}class k extends v{}k.kind="IndexOutOfBoundsException";class O extends k{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}O.kind="ArrayIndexOutOfBoundsException";class R{static fill(r,i){for(let s=0,l=r.length;s<l;s++)r[s]=i}static fillWithin(r,i,s,l){R.rangeCheck(r.length,i,s);for(let u=i;u<s;u++)r[u]=l}static rangeCheck(r,i,s){if(i>s)throw new y("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new O(i);if(s>r)throw new O(s)}static asList(...r){return r}static create(r,i,s){return Array.from({length:r}).map(u=>Array.from({length:i}).fill(s))}static createInt32Array(r,i,s){return Array.from({length:r}).map(u=>Int32Array.from({length:i}).fill(s))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let s=0,l=r.length;s<l;s++)if(r[s]!==i[s])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const s of r)i=31*i+s;return i}static fillUint8Array(r,i){for(let s=0;s!==r.length;s++)r[s]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const s=new Uint8Array(i);return s.set(r),s}return r.slice(0,i)}static copyOfRange(r,i,s){const l=s-i,u=new Int32Array(l);return D.arraycopy(r,i,u,0,l),u}static binarySearch(r,i,s){s===void 0&&(s=R.numberComparator);let l=0,u=r.length-1;for(;l<=u;){const f=u+l>>1,d=s(i,r[f]);if(d>0)l=f+1;else if(d<0)u=f-1;else return f}return-l-1}static numberComparator(r,i){return r-i}}class b{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let s=31;return i=r<<16,i!==0&&(s-=16,r=i),i=r<<8,i!==0&&(s-=8,r=i),i=r<<4,i!==0&&(s-=4,r=i),i=r<<2,i!==0&&(s-=2,r=i),s-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=j.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=j.makeArray(r);D.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const s=this.bits;let l=Math.floor(r/32),u=s[l];u&=~((1<<(r&31))-1);const f=s.length;for(;u===0;){if(++l===f)return i;u=s[l]}const d=l*32+b.numberOfTrailingZeros(u);return d>i?i:d}getNextUnset(r){const i=this.size;if(r>=i)return i;const s=this.bits;let l=Math.floor(r/32),u=~s[l];u&=~((1<<(r&31))-1);const f=s.length;for(;u===0;){if(++l===f)return i;u=~s[l]}const d=l*32+b.numberOfTrailingZeros(u);return d>i?i:d}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new y;if(i===r)return;i--;const s=Math.floor(r/32),l=Math.floor(i/32),u=this.bits;for(let f=s;f<=l;f++){const d=f>s?0:r&31,m=(2<<(f<l?31:i&31))-(1<<d);u[f]|=m}}clear(){const r=this.bits.length,i=this.bits;for(let s=0;s<r;s++)i[s]=0}isRange(r,i,s){if(i<r||r<0||i>this.size)throw new y;if(i===r)return!0;i--;const l=Math.floor(r/32),u=Math.floor(i/32),f=this.bits;for(let d=l;d<=u;d++){const g=d>l?0:r&31,w=(2<<(d<u?31:i&31))-(1<<g)&4294967295;if((f[d]&w)!==(s?w:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((r>>s-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(r.get(s))}xor(r){if(this.size!==r.size)throw new y("Sizes don't match");const i=this.bits;for(let s=0,l=i.length;s<l;s++)i[s]^=r.bits[s]}toBytes(r,i,s,l){for(let u=0;u<l;u++){let f=0;for(let d=0;d<8;d++)this.get(r)&&(f|=1<<7-d),r++;i[s+u]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,l=this.bits;for(let u=0;u<s;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[i-u]=f}if(this.size!==s*32){const u=s*32-this.size;let f=r[0]>>>u;for(let d=1;d<s;d++){const g=r[d];f|=g<<32-u,r[d-1]=f,f=g>>>u}r[s-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof j))return!1;const i=r;return this.size===i.size&&R.equals(this.bits,i.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let r="";for(let i=0,s=this.size;i<s;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new j(this.size,this.bits.slice())}}var Z;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Z||(Z={}));var B=Z;class H extends v{static getFormatInstance(){return new H}}H.kind="FormatException";var Q;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class z{constructor(r,i,s,...l){this.valueIdentifier=r,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,z.VALUE_IDENTIFIER_TO_ECI.set(r,this),z.NAME_TO_ECI.set(s,this);const u=this.values;for(let f=0,d=u.length;f!==d;f++){const g=u[f];z.VALUES_TO_ECI.set(g,this)}for(const f of l)z.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new H("incorect value");const i=z.VALUES_TO_ECI.get(r);if(i===void 0)throw new H("incorect value");return i}static getCharacterSetECIByName(r){const i=z.NAME_TO_ECI.get(r);if(i===void 0)throw new H("incorect value");return i}equals(r){if(!(r instanceof z))return!1;const i=r;return this.getName()===i.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(Q.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(Q.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(Q.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(Q.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(Q.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(Q.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(Q.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(Q.Big5,28,"Big5"),z.GB18030=new z(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(Q.EUC_KR,30,"EUC_KR","EUC-KR");class ae extends v{}ae.kind="UnsupportedOperationException";class ce{static decode(r,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(r,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(r,s):new TextDecoder(s).decode(r)}static shouldDecodeOnFallback(r){return!ce.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(r,s):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof z?r:z.getCharacterSetECIByName(r)}static decodeFallback(r,i){const s=this.encodingCharacterSet(i);if(ce.isDecodeFallbackSupported(s)){let l="";for(let u=0,f=r.length;u<f;u++){let d=r[u].toString(16);d.length<2&&(d="0"+d),l+="%"+d}return decodeURIComponent(l)}if(s.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new ae(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(z.UTF8)||r.equals(z.ISO8859_1)||r.equals(z.ASCII)}static encodeFallback(r){const s=btoa(unescape(encodeURIComponent(r))).split(""),l=[];for(let u=0;u<s.length;u++)l.push(s[u].charCodeAt(0));return new Uint8Array(l)}}class ne{static castAsNonUtf8Char(r,i=null){const s=i?i.getName():this.ISO88591;return ce.decode(new Uint8Array([r]),s)}static guessEncoding(r,i){if(i!=null&&i.get(B.CHARACTER_SET)!==void 0)return i.get(B.CHARACTER_SET).toString();const s=r.length;let l=!0,u=!0,f=!0,d=0,g=0,m=0,w=0,S=0,N=0,F=0,V=0,G=0,K=0,te=0;const me=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let ve=0;ve<s&&(l||u||f);ve++){const de=r[ve]&255;f&&(d>0?de&128?d--:f=!1:de&128&&(de&64?(d++,de&32?(d++,de&16?(d++,de&8?f=!1:w++):m++):g++):f=!1)),l&&(de>127&&de<160?l=!1:de>159&&(de<192||de===215||de===247)&&te++),u&&(S>0?de<64||de===127||de>252?u=!1:S--:de===128||de===160||de>239?u=!1:de>160&&de<224?(N++,V=0,F++,F>G&&(G=F)):de>127?(S++,F=0,V++,V>K&&(K=V)):(F=0,V=0))}return f&&d>0&&(f=!1),u&&S>0&&(u=!1),f&&(me||g+m+w>0)?ne.UTF8:u&&(ne.ASSUME_SHIFT_JIS||G>=3||K>=3)?ne.SHIFT_JIS:l&&u?G===2&&N===2||te*10>=s?ne.SHIFT_JIS:ne.ISO88591:l?ne.ISO88591:u?ne.SHIFT_JIS:f?ne.UTF8:ne.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let s=-1;function l(f,d,g,m,w,S){if(f==="%%")return"%";if(i[++s]===void 0)return;f=m?parseInt(m.substr(1)):void 0;let N=w?parseInt(w.substr(1)):void 0,F;switch(S){case"s":F=i[s];break;case"c":F=i[s][0];break;case"f":F=parseFloat(i[s]).toFixed(f);break;case"p":F=parseFloat(i[s]).toPrecision(f);break;case"e":F=parseFloat(i[s]).toExponential(f);break;case"x":F=parseInt(i[s]).toString(N||16);break;case"d":F=parseFloat(parseInt(i[s],N||10).toPrecision(f)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(N);let V=parseInt(g),G=g&&g[0]+""=="0"?"0":" ";for(;F.length<V;)F=d!==void 0?F+G:G+F;return F}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,l)}static getBytes(r,i){return ce.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}ne.SHIFT_JIS=z.SJIS.getName(),ne.GB2312="GB2312",ne.ISO88591=z.ISO8859_1.getName(),ne.EUC_JP="EUC_JP",ne.UTF8=z.UTF8.getName(),ne.PLATFORM_DEFAULT_ENCODING=ne.UTF8,ne.ASSUME_SHIFT_JIS=!1;class ie{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,s){for(let l=i;i<i+s;l++)this.append(r[l]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class J{constructor(r,i,s,l){if(this.width=r,this.height=i,this.rowSize=s,this.bits=l,i==null&&(i=r),this.height=i,r<1||i<1)throw new y("Both dimensions must be greater than 0");s==null&&(s=Math.floor((r+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,s=r[0].length,l=new J(s,i);for(let u=0;u<i;u++){const f=r[u];for(let d=0;d<s;d++)f[d]&&l.set(d,u)}return l}static parseFromString(r,i,s){if(r===null)throw new y("stringRepresentation cannot be null");const l=new Array(r.length);let u=0,f=0,d=-1,g=0,m=0;for(;m<r.length;)if(r.charAt(m)===`
`||r.charAt(m)==="\r"){if(u>f){if(d===-1)d=u-f;else if(u-f!==d)throw new y("row lengths do not match");f=u,g++}m++}else if(r.substring(m,m+i.length)===i)m+=i.length,l[u]=!0,u++;else if(r.substring(m,m+s.length)===s)m+=s.length,l[u]=!1,u++;else throw new y("illegal character encountered: "+r.substring(m));if(u>f){if(d===-1)d=u-f;else if(u-f!==d)throw new y("row lengths do not match");g++}const w=new J(d,g);for(let S=0;S<u;S++)l[S]&&w.set(Math.floor(S%d),Math.floor(S/d));return w}get(r,i){const s=i*this.rowSize+Math.floor(r/32);return(this.bits[s]>>>(r&31)&1)!==0}set(r,i){const s=i*this.rowSize+Math.floor(r/32);this.bits[s]|=1<<(r&31)&4294967295}unset(r,i){const s=i*this.rowSize+Math.floor(r/32);this.bits[s]&=~(1<<(r&31)&4294967295)}flip(r,i){const s=i*this.rowSize+Math.floor(r/32);this.bits[s]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new y("input matrix dimensions do not match");const i=new j(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const d=u*s,g=r.getRow(u,i).getBitArray();for(let m=0;m<s;m++)l[d+m]^=g[m]}}clear(){const r=this.bits,i=r.length;for(let s=0;s<i;s++)r[s]=0}setRegion(r,i,s,l){if(i<0||r<0)throw new y("Left and top must be nonnegative");if(l<1||s<1)throw new y("Height and width must be at least 1");const u=r+s,f=i+l;if(f>this.height||u>this.width)throw new y("The region must fit inside the matrix");const d=this.rowSize,g=this.bits;for(let m=i;m<f;m++){const w=m*d;for(let S=r;S<u;S++)g[w+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new j(this.width):i.clear();const s=this.rowSize,l=this.bits,u=r*s;for(let f=0;f<s;f++)i.setBulk(f*32,l[u+f]);return i}setRow(r,i){D.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let s=new j(r),l=new j(r);for(let u=0,f=Math.floor((i+1)/2);u<f;u++)s=this.getRow(u,s),l=this.getRow(i-1-u,l),s.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,s)}getEnclosingRectangle(){const r=this.width,i=this.height,s=this.rowSize,l=this.bits;let u=r,f=i,d=-1,g=-1;for(let m=0;m<i;m++)for(let w=0;w<s;w++){const S=l[m*s+w];if(S!==0){if(m<f&&(f=m),m>g&&(g=m),w*32<u){let N=0;for(;!(S<<31-N&4294967295);)N++;w*32+N<u&&(u=w*32+N)}if(w*32+31>d){let N=31;for(;!(S>>>N);)N--;w*32+N>d&&(d=w*32+N)}}}return d<u||g<f?null:Int32Array.from([u,f,d-u+1,g-f+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const l=s/r;let u=s%r*32;const f=i[s];let d=0;for(;!(f<<31-d&4294967295);)d++;return u+=d,Int32Array.from([u,l])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const l=Math.floor(s/r);let u=Math.floor(s%r)*32;const f=i[s];let d=31;for(;!(f>>>d);)d--;return u+=d,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof J))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&R.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+R.hashCode(this.bits),r}toString(r="X ",i="  ",s=`
`){return this.buildToString(r,i,s)}buildToString(r,i,s){let l=new ie;for(let u=0,f=this.height;u<f;u++){for(let d=0,g=this.width;d<g;d++)l.append(this.get(d,u)?r:i);l.append(s)}return l.toString()}clone(){return new J(this.width,this.height,this.rowSize,this.bits.slice())}}class X extends v{static getNotFoundInstance(){return new X}}X.kind="NotFoundException";class Re extends M{constructor(r){super(r),this.luminances=Re.EMPTY,this.buckets=new Int32Array(Re.LUMINANCE_BUCKETS)}getBlackRow(r,i){const s=this.getLuminanceSource(),l=s.getWidth();i==null||i.getSize()<l?i=new j(l):i.clear(),this.initArrays(l);const u=s.getRow(r,this.luminances),f=this.buckets;for(let g=0;g<l;g++)f[(u[g]&255)>>Re.LUMINANCE_SHIFT]++;const d=Re.estimateBlackPoint(f);if(l<3)for(let g=0;g<l;g++)(u[g]&255)<d&&i.set(g);else{let g=u[0]&255,m=u[1]&255;for(let w=1;w<l-1;w++){const S=u[w+1]&255;(m*4-g-S)/2<d&&i.set(w),g=m,m=S}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),s=r.getHeight(),l=new J(i,s);this.initArrays(i);const u=this.buckets;for(let g=1;g<5;g++){const m=Math.floor(s*g/5),w=r.getRow(m,this.luminances),S=Math.floor(i*4/5);for(let N=Math.floor(i/5);N<S;N++){const F=w[N]&255;u[F>>Re.LUMINANCE_SHIFT]++}}const f=Re.estimateBlackPoint(u),d=r.getMatrix();for(let g=0;g<s;g++){const m=g*i;for(let w=0;w<i;w++)(d[m+w]&255)<f&&l.set(w,g)}return l}createBinarizer(r){return new Re(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let s=0;s<Re.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(r){const i=r.length;let s=0,l=0,u=0;for(let w=0;w<i;w++)r[w]>u&&(l=w,u=r[w]),r[w]>s&&(s=r[w]);let f=0,d=0;for(let w=0;w<i;w++){const S=w-l,N=r[w]*S*S;N>d&&(f=w,d=N)}if(l>f){const w=l;l=f,f=w}if(f-l<=i/16)throw new X;let g=f-1,m=-1;for(let w=f-1;w>l;w--){const S=w-l,N=S*S*(f-w)*(s-r[w]);N>m&&(g=w,m=N)}return g<<Re.LUMINANCE_SHIFT}}Re.LUMINANCE_BITS=5,Re.LUMINANCE_SHIFT=8-Re.LUMINANCE_BITS,Re.LUMINANCE_BUCKETS=1<<Re.LUMINANCE_BITS,Re.EMPTY=Uint8ClampedArray.from([0]);class fe extends Re{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),s=r.getHeight();if(i>=fe.MINIMUM_DIMENSION&&s>=fe.MINIMUM_DIMENSION){const l=r.getMatrix();let u=i>>fe.BLOCK_SIZE_POWER;i&fe.BLOCK_SIZE_MASK&&u++;let f=s>>fe.BLOCK_SIZE_POWER;s&fe.BLOCK_SIZE_MASK&&f++;const d=fe.calculateBlackPoints(l,u,f,i,s),g=new J(i,s);fe.calculateThresholdForBlock(l,u,f,i,s,d,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new fe(r)}static calculateThresholdForBlock(r,i,s,l,u,f,d){const g=u-fe.BLOCK_SIZE,m=l-fe.BLOCK_SIZE;for(let w=0;w<s;w++){let S=w<<fe.BLOCK_SIZE_POWER;S>g&&(S=g);const N=fe.cap(w,2,s-3);for(let F=0;F<i;F++){let V=F<<fe.BLOCK_SIZE_POWER;V>m&&(V=m);const G=fe.cap(F,2,i-3);let K=0;for(let me=-2;me<=2;me++){const ve=f[N+me];K+=ve[G-2]+ve[G-1]+ve[G]+ve[G+1]+ve[G+2]}const te=K/25;fe.thresholdBlock(r,V,S,te,l,d)}}}static cap(r,i,s){return r<i?i:r>s?s:r}static thresholdBlock(r,i,s,l,u,f){for(let d=0,g=s*u+i;d<fe.BLOCK_SIZE;d++,g+=u)for(let m=0;m<fe.BLOCK_SIZE;m++)(r[g+m]&255)<=l&&f.set(i+m,s+d)}static calculateBlackPoints(r,i,s,l,u){const f=u-fe.BLOCK_SIZE,d=l-fe.BLOCK_SIZE,g=new Array(s);for(let m=0;m<s;m++){g[m]=new Int32Array(i);let w=m<<fe.BLOCK_SIZE_POWER;w>f&&(w=f);for(let S=0;S<i;S++){let N=S<<fe.BLOCK_SIZE_POWER;N>d&&(N=d);let F=0,V=255,G=0;for(let te=0,me=w*l+N;te<fe.BLOCK_SIZE;te++,me+=l){for(let ve=0;ve<fe.BLOCK_SIZE;ve++){const de=r[me+ve]&255;F+=de,de<V&&(V=de),de>G&&(G=de)}if(G-V>fe.MIN_DYNAMIC_RANGE)for(te++,me+=l;te<fe.BLOCK_SIZE;te++,me+=l)for(let ve=0;ve<fe.BLOCK_SIZE;ve++)F+=r[me+ve]&255}let K=F>>fe.BLOCK_SIZE_POWER*2;if(G-V<=fe.MIN_DYNAMIC_RANGE&&(K=V/2,m>0&&S>0)){const te=(g[m-1][S]+2*g[m][S-1]+g[m-1][S-1])/4;V<te&&(K=te)}g[m][S]=K}}return g}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class le{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,s,l){throw new ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ae("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new ie;for(let s=0;s<this.height;s++){const l=this.getRow(s,r);for(let u=0;u<this.width;u++){const f=l[u]&255;let d;f<64?d="#":f<128?d="+":f<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class ge extends le{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const s=this.delegate.getRow(r,i),l=this.getWidth();for(let u=0;u<l;u++)s[u]=255-(s[u]&255);return s}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let l=0;l<i;l++)s[l]=255-(r[l]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,s,l){return new ge(this.delegate.crop(r,i,s,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class ue extends le{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ue.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ue.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,s){const l=new Uint8ClampedArray(i*s);for(let u=0,f=0,d=r.length;u<d;u+=4,f++){let g;if(r[u+3]===0)g=255;else{const w=r[u],S=r[u+1],N=r[u+2];g=306*w+601*S+117*N+512>>10}l[f]=g}return l}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const s=this.getWidth(),l=r*s;return i===null?i=this.buffer.slice(l,l+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(l,l+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,s,l){return super.crop(r,i,s,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),s=i.getContext("2d"),l=r*ue.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),g=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return i.width=d,i.height=g,s.translate(d/2,g/2),s.rotate(l),s.drawImage(this.canvas,u/-2,f/-2),this.buffer=ue.makeBufferFromCanvasImageData(i),this}invert(){return new ge(this)}}ue.DEGREE_TO_RADIANS=Math.PI/180;class ke{constructor(r,i,s){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Me=(globalThis||la||self||window||void 0)&&(globalThis||la||self||window||void 0).__awaiter||function(C,r,i,s){function l(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(w){try{m(s.next(w))}catch(S){f(S)}}function g(w){try{m(s.throw(w))}catch(S){f(S)}}function m(w){w.done?u(w.value):l(w.value).then(d,g)}m((s=s.apply(C,r||[])).next())})};class nt{constructor(r,i=500,s){this.reader=r,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of r){const l=s.kind==="video"?"videoinput":s.kind;if(l!=="videoinput")continue;const u=s.deviceId||s.id,f=s.label||`Video device ${i.length+1}`,d=s.groupId,g={deviceId:u,label:f,kind:l,groupId:d};i.push(g)}return i})}getVideoInputDevices(){return Me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new ke(i.deviceId,i.label))})}findDeviceById(r){return Me(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return Me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return Me(this,void 0,void 0,function*(){this.reset();let s;r?s={deviceId:{exact:r}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(r,i){return Me(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(r,i){return Me(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(r,i,s){return Me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,s)})}decodeFromVideoDevice(r,i,s){return Me(this,void 0,void 0,function*(){let l;r?l={deviceId:{exact:r}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,s)})}decodeFromConstraints(r,i,s){return Me(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(l,i,s)})}decodeFromStream(r,i,s){return Me(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(l,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return Me(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,r),this.videoElement=s,this.stream=r,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(r){return new Promise((i,s)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Me(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const s=document.getElementById(r);if(!s)throw new E(`element with id '${r}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new E(`element with id '${r}' must be an ${i} element`);return s}decodeFromImage(r,i){if(!r&&!i)throw new E("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new E("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,s){if(r===void 0&&i===void 0)throw new E("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(r,s)}decodeFromImageElement(r){if(!r)throw new E("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(r){if(!r)throw new E("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=r,s}decodeFromVideoUrl(r){if(!r)throw new E("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=r,s}decodeFromVideoUrlContinuously(r,i){if(!r)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,i);return s.src=r,l}_decodeOnLoadImage(r){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,s),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return Me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,s=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new X("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(r);u(d)}catch(d){const g=i&&d instanceof X,w=(d instanceof A||d instanceof H)&&s;if(g||w)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(d)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(r);i(l,null),setTimeout(s,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof A||l instanceof H,f=l instanceof X;(u||f)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,s){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),s=new ue(i),l=new fe(s);return new I(l)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,l;return typeof r<"u"&&(r instanceof HTMLVideoElement?(s=r.videoWidth,l=r.videoHeight):r instanceof HTMLImageElement&&(s=r.naturalWidth||r.width,l=r.naturalHeight||r.height)),i.style.width=s+"px",i.style.height=l+"px",i.width=s,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(r,i,s=i==null?0:8*i.length,l,u,f=D.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=s,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=r,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=D.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const s=new Array(i.length+r.length);D.arraycopy(i,0,s,0,i.length),D.arraycopy(r,0,s,i.length,r.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Rt;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Rt||(Rt={}));var we=Rt,dt;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dt||(dt={}));var Ze=dt;class Jt{constructor(r,i,s,l,u=-1,f=-1){this.rawBytes=r,this.text=i,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class yt{exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class Xe{constructor(r,i){if(i.length===0)throw new y;this.field=r;const s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),D.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(r===1){s=0;for(let f=0,d=i.length;f!==d;f++){const g=i[f];s=yt.addOrSubtract(s,g)}return s}s=i[0];const l=i.length,u=this.field;for(let f=1;f<l;f++)s=yt.addOrSubtract(u.multiply(r,s),i[f]);return s}addOrSubtract(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,s=r.coefficients;if(i.length>s.length){const f=i;i=s,s=f}let l=new Int32Array(s.length);const u=s.length-i.length;D.arraycopy(s,0,l,0,u);for(let f=u;f<s.length;f++)l[f]=yt.addOrSubtract(i[f-u],s[f]);return new Xe(this.field,l)}multiply(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,l=r.coefficients,u=l.length,f=new Int32Array(s+u-1),d=this.field;for(let g=0;g<s;g++){const m=i[g];for(let w=0;w<u;w++)f[g+w]=yt.addOrSubtract(f[g+w],d.multiply(m,l[w]))}return new Xe(d,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,s=this.field,l=new Int32Array(i),u=this.coefficients;for(let f=0;f<i;f++)l[f]=s.multiply(u[f],r);return new Xe(s,l)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return this.field.getZero();const s=this.coefficients,l=s.length,u=new Int32Array(l+r),f=this.field;for(let d=0;d<l;d++)u[d]=f.multiply(s[d],i);return new Xe(f,u)}divide(r){if(!this.field.equals(r.field))throw new y("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new y("Divide by 0");const i=this.field;let s=i.getZero(),l=this;const u=r.getCoefficient(r.getDegree()),f=i.inverse(u);for(;l.getDegree()>=r.getDegree()&&!l.isZero();){const d=l.getDegree()-r.getDegree(),g=i.multiply(l.getCoefficient(l.getDegree()),f),m=r.multiplyByMonomial(d,g),w=i.buildMonomial(d,g);s=s.addOrSubtract(w),l=l.addOrSubtract(m)}return[s,l]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(r+=" - ",s=-s):r.length>0&&(r+=" + "),i===0||s!==1){const l=this.field.log(s);l===0?r+="1":l===1?r+="a":(r+="a^",r+=l)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class gt extends v{}gt.kind="ArithmeticException";class be extends yt{constructor(r,i,s){super(),this.primitive=r,this.size=i,this.generatorBase=s;const l=new Int32Array(i);let u=1;for(let d=0;d<i;d++)l[d]=u,u*=2,u>=i&&(u^=r,u&=i-1);this.expTable=l;const f=new Int32Array(i);for(let d=0;d<i-1;d++)f[l[d]]=d;this.logTable=f,this.zero=new Xe(this,Int32Array.from([0])),this.one=new Xe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;const s=new Int32Array(r+1);return s[0]=i,new Xe(this,s)}inverse(r){if(r===0)throw new gt;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}be.AZTEC_DATA_12=new be(4201,4096,1),be.AZTEC_DATA_10=new be(1033,1024,1),be.AZTEC_DATA_6=new be(67,64,1),be.AZTEC_PARAM=new be(19,16,1),be.QR_CODE_FIELD_256=new be(285,256,0),be.DATA_MATRIX_FIELD_256=new be(301,256,1),be.AZTEC_DATA_8=be.DATA_MATRIX_FIELD_256,be.MAXICODE_FIELD_64=be.AZTEC_DATA_6;class lt extends v{}lt.kind="ReedSolomonException";class $t extends v{}$t.kind="IllegalStateException";class pt{constructor(r){this.field=r}decode(r,i){const s=this.field,l=new Xe(s,r),u=new Int32Array(i);let f=!0;for(let F=0;F<i;F++){const V=l.evaluateAt(s.exp(F+s.getGeneratorBase()));u[u.length-1-F]=V,V!==0&&(f=!1)}if(f)return;const d=new Xe(s,u),g=this.runEuclideanAlgorithm(s.buildMonomial(i,1),d,i),m=g[0],w=g[1],S=this.findErrorLocations(m),N=this.findErrorMagnitudes(w,S);for(let F=0;F<S.length;F++){const V=r.length-1-s.log(S[F]);if(V<0)throw new lt("Bad error location");r[V]=be.addOrSubtract(r[V],N[F])}}runEuclideanAlgorithm(r,i,s){if(r.getDegree()<i.getDegree()){const F=r;r=i,i=F}const l=this.field;let u=r,f=i,d=l.getZero(),g=l.getOne();for(;f.getDegree()>=(s/2|0);){let F=u,V=d;if(u=f,d=g,u.isZero())throw new lt("r_{i-1} was zero");f=F;let G=l.getZero();const K=u.getCoefficient(u.getDegree()),te=l.inverse(K);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const me=f.getDegree()-u.getDegree(),ve=l.multiply(f.getCoefficient(f.getDegree()),te);G=G.addOrSubtract(l.buildMonomial(me,ve)),f=f.addOrSubtract(u.multiplyByMonomial(me,ve))}if(g=G.multiply(d).addOrSubtract(V),f.getDegree()>=u.getDegree())throw new $t("Division algorithm failed to reduce polynomial?")}const m=g.getCoefficient(0);if(m===0)throw new lt("sigmaTilde(0) was zero");const w=l.inverse(m),S=g.multiplyScalar(w),N=f.multiplyScalar(w);return[S,N]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const s=new Int32Array(i);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<i;f++)r.evaluateAt(f)===0&&(s[l]=u.inverse(f),l++);if(l!==i)throw new lt("Error locator degree does not match number of roots");return s}findErrorMagnitudes(r,i){const s=i.length,l=new Int32Array(s),u=this.field;for(let f=0;f<s;f++){const d=u.inverse(i[f]);let g=1;for(let m=0;m<s;m++)if(f!==m){const w=u.multiply(i[m],d),S=w&1?w&-2:w|1;g=u.multiply(g,S)}l[f]=u.multiply(r.evaluateAt(d),u.inverse(g)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],d))}return l}}var St;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(St||(St={}));class et{decode(r){this.ddata=r;let i=r.getBits(),s=this.extractBits(i),l=this.correctBits(s),u=et.convertBoolArrayToByteArray(l),f=et.getEncodedData(l),d=new Jt(u,f,null,null);return d.setNumBits(l.length),d}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,s=St.UPPER,l=St.UPPER,u="",f=0;for(;f<i;)if(l===St.BINARY){if(i-f<5)break;let d=et.readCode(r,f,5);if(f+=5,d===0){if(i-f<11)break;d=et.readCode(r,f,11)+31,f+=11}for(let g=0;g<d;g++){if(i-f<8){f=i;break}const m=et.readCode(r,f,8);u+=ne.castAsNonUtf8Char(m),f+=8}l=s}else{let d=l===St.DIGIT?4:5;if(i-f<d)break;let g=et.readCode(r,f,d);f+=d;let m=et.getCharacter(l,g);m.startsWith("CTRL_")?(s=l,l=et.getTable(m.charAt(5)),m.charAt(6)==="L"&&(s=l)):(u+=m,l=s)}return u}static getTable(r){switch(r){case"L":return St.LOWER;case"P":return St.PUNCT;case"M":return St.MIXED;case"D":return St.DIGIT;case"B":return St.BINARY;case"U":default:return St.UPPER}}static getCharacter(r,i){switch(r){case St.UPPER:return et.UPPER_TABLE[i];case St.LOWER:return et.LOWER_TABLE[i];case St.MIXED:return et.MIXED_TABLE[i];case St.PUNCT:return et.PUNCT_TABLE[i];case St.DIGIT:return et.DIGIT_TABLE[i];default:throw new $t("Bad table")}}correctBits(r){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=be.AZTEC_DATA_10):(s=12,i=be.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=r.length/s;if(u<l)throw new H;let f=r.length%s,d=new Int32Array(u);for(let N=0;N<u;N++,f+=s)d[N]=et.readCode(r,f,s);try{new pt(i).decode(d,u-l)}catch(N){throw new H(N)}let g=(1<<s)-1,m=0;for(let N=0;N<l;N++){let F=d[N];if(F===0||F===g)throw new H;(F===1||F===g-1)&&m++}let w=new Array(l*s-m),S=0;for(let N=0;N<l;N++){let F=d[N];if(F===1||F===g-1)w.fill(F>1,S,S+s-1),S+=s-1;else for(let V=s-1;V>=0;--V)w[S++]=(F&1<<V)!==0}return w}extractBits(r){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),l=(i?11:14)+s*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(s,i));if(i)for(let d=0;d<u.length;d++)u[d]=d;else{let d=l+1+2*b.truncDivision(b.truncDivision(l,2)-1,15),g=l/2,m=b.truncDivision(d,2);for(let w=0;w<g;w++){let S=w+b.truncDivision(w,15);u[g-w-1]=m-S-1,u[g+w]=m+S+1}}for(let d=0,g=0;d<s;d++){let m=(s-d)*4+(i?9:12),w=d*2,S=l-1-w;for(let N=0;N<m;N++){let F=N*2;for(let V=0;V<2;V++)f[g+F+V]=r.get(u[w+V],u[w+N]),f[g+2*m+F+V]=r.get(u[w+N],u[S-V]),f[g+4*m+F+V]=r.get(u[S-V],u[S-N]),f[g+6*m+F+V]=r.get(u[S-N],u[w+V])}g+=m*8}return f}static readCode(r,i,s){let l=0;for(let u=i;u<i+s;u++)l<<=1,r[u]&&(l|=1);return l}static readByte(r,i){let s=r.length-i;return s>=8?et.readCode(r,i,8):et.readCode(r,i,s)<<8-s}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let s=0;s<i.length;s++)i[s]=et.readByte(r,8*s);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Be{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,s,l){const u=r-s,f=i-l;return Math.sqrt(u*u+f*f)}static sum(r){let i=0;for(let s=0,l=r.length;s!==l;s++){const u=r[s];i+=u}return i}}class Tr{static floatToIntBits(r){return r}}Tr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof Ie){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Tr.floatToIntBits(this.x)+Tr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),s=this.distance(r[1],r[2]),l=this.distance(r[0],r[2]);let u,f,d;if(s>=i&&s>=l?(f=r[0],u=r[1],d=r[2]):l>=s&&l>=i?(f=r[1],u=r[0],d=r[2]):(f=r[2],u=r[0],d=r[1]),this.crossProductZ(u,f,d)<0){const g=u;u=d,d=g}r[0]=u,r[1]=f,r[2]=d}static distance(r,i){return Be.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,s){const l=i.x,u=i.y;return(s.x-l)*(r.y-u)-(s.y-u)*(r.x-l)}}class At{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Pt extends At{constructor(r,i,s,l,u){super(r,i),this.compact=s,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mt{constructor(r,i,s,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=mt.INIT_SIZE),s==null&&(s=r.getWidth()/2|0),l==null&&(l=r.getHeight()/2|0);const u=i/2|0;if(this.leftInit=s-u,this.rightInit=s+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}detect(){let r=this.leftInit,i=this.rightInit,s=this.upInit,l=this.downInit,u=!1,f=!0,d=!1,g=!1,m=!1,w=!1,S=!1;const N=this.width,F=this.height;for(;f;){f=!1;let V=!0;for(;(V||!g)&&i<N;)V=this.containsBlackPoint(s,l,i,!1),V?(i++,f=!0,g=!0):g||i++;if(i>=N){u=!0;break}let G=!0;for(;(G||!m)&&l<F;)G=this.containsBlackPoint(r,i,l,!0),G?(l++,f=!0,m=!0):m||l++;if(l>=F){u=!0;break}let K=!0;for(;(K||!w)&&r>=0;)K=this.containsBlackPoint(s,l,r,!1),K?(r--,f=!0,w=!0):w||r--;if(r<0){u=!0;break}let te=!0;for(;(te||!S)&&s>=0;)te=this.containsBlackPoint(r,i,s,!0),te?(s--,f=!0,S=!0):S||s--;if(s<0){u=!0;break}f&&(d=!0)}if(!u&&d){const V=i-r;let G=null;for(let ve=1;G===null&&ve<V;ve++)G=this.getBlackPointOnSegment(r,l-ve,r+ve,l);if(G==null)throw new X;let K=null;for(let ve=1;K===null&&ve<V;ve++)K=this.getBlackPointOnSegment(r,s+ve,r+ve,s);if(K==null)throw new X;let te=null;for(let ve=1;te===null&&ve<V;ve++)te=this.getBlackPointOnSegment(i,s+ve,i-ve,s);if(te==null)throw new X;let me=null;for(let ve=1;me===null&&ve<V;ve++)me=this.getBlackPointOnSegment(i,l-ve,i-ve,l);if(me==null)throw new X;return this.centerEdges(me,G,te,K)}else throw new X}getBlackPointOnSegment(r,i,s,l){const u=Be.round(Be.distance(r,i,s,l)),f=(s-r)/u,d=(l-i)/u,g=this.image;for(let m=0;m<u;m++){const w=Be.round(r+m*f),S=Be.round(i+m*d);if(g.get(w,S))return new Ie(w,S)}return null}centerEdges(r,i,s,l){const u=r.getX(),f=r.getY(),d=i.getX(),g=i.getY(),m=s.getX(),w=s.getY(),S=l.getX(),N=l.getY(),F=mt.CORR;return u<this.width/2?[new Ie(S-F,N+F),new Ie(d+F,g+F),new Ie(m-F,w-F),new Ie(u+F,f-F)]:[new Ie(S+F,N+F),new Ie(d+F,g-F),new Ie(m-F,w+F),new Ie(u-F,f-F)]}containsBlackPoint(r,i,s,l){const u=this.image;if(l){for(let f=r;f<=i;f++)if(u.get(f,s))return!0}else for(let f=r;f<=i;f++)if(u.get(s,f))return!0;return!1}}mt.INIT_SIZE=10,mt.CORR=1;class Mr{static checkAndNudgePoints(r,i){const s=r.getWidth(),l=r.getHeight();let u=!0;for(let f=0;f<i.length&&u;f+=2){const d=Math.floor(i[f]),g=Math.floor(i[f+1]);if(d<-1||d>s||g<-1||g>l)throw new X;u=!1,d===-1?(i[f]=0,u=!0):d===s&&(i[f]=s-1,u=!0),g===-1?(i[f+1]=0,u=!0):g===l&&(i[f+1]=l-1,u=!0)}u=!0;for(let f=i.length-2;f>=0&&u;f-=2){const d=Math.floor(i[f]),g=Math.floor(i[f+1]);if(d<-1||d>s||g<-1||g>l)throw new X;u=!1,d===-1?(i[f]=0,u=!0):d===s&&(i[f]=s-1,u=!0),g===-1?(i[f+1]=0,u=!0):g===l&&(i[f+1]=l-1,u=!0)}}}class or{constructor(r,i,s,l,u,f,d,g,m){this.a11=r,this.a21=i,this.a31=s,this.a12=l,this.a22=u,this.a32=f,this.a13=d,this.a23=g,this.a33=m}static quadrilateralToQuadrilateral(r,i,s,l,u,f,d,g,m,w,S,N,F,V,G,K){const te=or.quadrilateralToSquare(r,i,s,l,u,f,d,g);return or.squareToQuadrilateral(m,w,S,N,F,V,G,K).times(te)}transformPoints(r){const i=r.length,s=this.a11,l=this.a12,u=this.a13,f=this.a21,d=this.a22,g=this.a23,m=this.a31,w=this.a32,S=this.a33;for(let N=0;N<i;N+=2){const F=r[N],V=r[N+1],G=u*F+g*V+S;r[N]=(s*F+f*V+m)/G,r[N+1]=(l*F+d*V+w)/G}}transformPointsWithValues(r,i){const s=this.a11,l=this.a12,u=this.a13,f=this.a21,d=this.a22,g=this.a23,m=this.a31,w=this.a32,S=this.a33,N=r.length;for(let F=0;F<N;F++){const V=r[F],G=i[F],K=u*V+g*G+S;r[F]=(s*V+f*G+m)/K,i[F]=(l*V+d*G+w)/K}}static squareToQuadrilateral(r,i,s,l,u,f,d,g){const m=r-s+u-d,w=i-l+f-g;if(m===0&&w===0)return new or(s-r,u-s,r,l-i,f-l,i,0,0,1);{const S=s-u,N=d-u,F=l-f,V=g-f,G=S*V-N*F,K=(m*V-N*w)/G,te=(S*w-m*F)/G;return new or(s-r+K*s,d-r+te*d,r,l-i+K*l,g-i+te*g,i,K,te,1)}}static quadrilateralToSquare(r,i,s,l,u,f,d,g){return or.squareToQuadrilateral(r,i,s,l,u,f,d,g).buildAdjoint()}buildAdjoint(){return new or(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new or(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Nn extends Mr{sampleGrid(r,i,s,l,u,f,d,g,m,w,S,N,F,V,G,K,te,me,ve){const de=or.quadrilateralToQuadrilateral(l,u,f,d,g,m,w,S,N,F,V,G,K,te,me,ve);return this.sampleGridWithTransform(r,i,s,de)}sampleGridWithTransform(r,i,s,l){if(i<=0||s<=0)throw new X;const u=new J(i,s),f=new Float32Array(2*i);for(let d=0;d<s;d++){const g=f.length,m=d+.5;for(let w=0;w<g;w+=2)f[w]=w/2+.5,f[w+1]=m;l.transformPoints(f),Mr.checkAndNudgePoints(r,f);try{for(let w=0;w<g;w+=2)r.get(Math.floor(f[w]),Math.floor(f[w+1]))&&u.set(w/2,d)}catch{throw new X}}return u}}class rr{static setGridSampler(r){rr.gridSampler=r}static getInstance(){return rr.gridSampler}}rr.gridSampler=new Nn;class it{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class pn{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(r){let f=s[0];s[0]=s[2],s[2]=f}this.extractParameters(s);let l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),u=this.getMatrixCornerPoints(s);return new Pt(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new X;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(s,i);let l=0;for(let f=0;f<4;f++){let d=s[(this.shift+f)%4];this.compact?(l<<=7,l+=d>>1&127):(l<<=10,l+=(d>>2&992)+(d>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,i){let s=0;r.forEach((l,u,f)=>{let d=(l>>i-2<<1)+(l&1);s=(s<<3)+d}),s=((s&1)<<11)+(s>>1);for(let l=0;l<4;l++)if(b.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new X}getCorrectedParameterData(r,i){let s,l;i?(s=7,l=2):(s=10,l=4);let u=s-l,f=new Int32Array(s);for(let g=s-1;g>=0;--g)f[g]=r&15,r>>=4;try{new pt(be.AZTEC_PARAM).decode(f,u)}catch{throw new X}let d=0;for(let g=0;g<l;g++)d=(d<<4)+f[g];return d}getBullsEyeCorners(r){let i=r,s=r,l=r,u=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(i,f,1,-1),N=this.getFirstDifferent(s,f,1,1),F=this.getFirstDifferent(l,f,-1,1),V=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let G=this.distancePoint(V,S)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(G<.75||G>1.25||!this.isWhiteOrBlackRectangle(S,N,F,V))break}i=S,s=N,l=F,u=V,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;let d=new Ie(i.getX()+.5,i.getY()-.5),g=new Ie(s.getX()+.5,s.getY()+.5),m=new Ie(l.getX()-.5,l.getY()+.5),w=new Ie(u.getX()-.5,u.getY()-.5);return this.expandSquare([d,g,m,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,s,l;try{let d=new mt(this.image).detect();r=d[0],i=d[1],s=d[2],l=d[3]}catch{let g=this.image.getWidth()/2,m=this.image.getHeight()/2;r=this.getFirstDifferent(new it(g+7,m-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new it(g+7,m+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new it(g-7,m+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new it(g-7,m-7),!1,-1,-1).toResultPoint()}let u=Be.round((r.getX()+l.getX()+i.getX()+s.getX())/4),f=Be.round((r.getY()+l.getY()+i.getY()+s.getY())/4);try{let d=new mt(this.image,15,u,f).detect();r=d[0],i=d[1],s=d[2],l=d[3]}catch{r=this.getFirstDifferent(new it(u+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new it(u+7,f+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new it(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new it(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Be.round((r.getX()+l.getX()+i.getX()+s.getX())/4),f=Be.round((r.getY()+l.getY()+i.getY()+s.getY())/4),new it(u,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,s,l,u){let f=rr.getInstance(),d=this.getDimension(),g=d/2-this.nbCenterLayers,m=d/2+this.nbCenterLayers;return f.sampleGrid(r,d,d,g,g,m,g,m,m,g,m,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(r,i,s){let l=0,u=this.distanceResultPoint(r,i),f=u/s,d=r.getX(),g=r.getY(),m=f*(i.getX()-r.getX())/u,w=f*(i.getY()-r.getY())/u;for(let S=0;S<s;S++)this.image.get(Be.round(d+S*m),Be.round(g+S*w))&&(l|=1<<s-S-1);return l}isWhiteOrBlackRectangle(r,i,s,l){let u=3;r=new it(r.getX()-u,r.getY()+u),i=new it(i.getX()-u,i.getY()-u),s=new it(s.getX()+u,s.getY()-u),l=new it(l.getX()+u,l.getY()+u);let f=this.getColor(l,r);if(f===0)return!1;let d=this.getColor(r,i);return d!==f||(d=this.getColor(i,s),d!==f)?!1:(d=this.getColor(s,l),d===f)}getColor(r,i){let s=this.distancePoint(r,i),l=(i.getX()-r.getX())/s,u=(i.getY()-r.getY())/s,f=0,d=r.getX(),g=r.getY(),m=this.image.get(r.getX(),r.getY()),w=Math.ceil(s);for(let N=0;N<w;N++)d+=l,g+=u,this.image.get(Be.round(d),Be.round(g))!==m&&f++;let S=f/s;return S>.1&&S<.9?0:S<=.1===m?1:-1}getFirstDifferent(r,i,s,l){let u=r.getX()+s,f=r.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=s,f+=l;for(u-=s,f-=l;this.isValid(u,f)&&this.image.get(u,f)===i;)u+=s;for(u-=s;this.isValid(u,f)&&this.image.get(u,f)===i;)f+=l;return f-=l,new it(u,f)}expandSquare(r,i,s){let l=s/(2*i),u=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),d=(r[0].getX()+r[2].getX())/2,g=(r[0].getY()+r[2].getY())/2,m=new Ie(d+l*u,g+l*f),w=new Ie(d-l*u,g-l*f);u=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),d=(r[1].getX()+r[3].getX())/2,g=(r[1].getY()+r[3].getY())/2;let S=new Ie(d+l*u,g+l*f),N=new Ie(d-l*u,g-l*f);return[m,S,w,N]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=Be.round(r.getX()),s=Be.round(r.getY());return this.isValid(i,s)}distancePoint(r,i){return Be.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return Be.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class nn{decode(r,i=null){let s=null,l=new pn(r.getBlackMatrix()),u=null,f=null;try{let w=l.detectMirror(!1);u=w.getPoints(),this.reportFoundResultPoints(i,u),f=new et().decode(w)}catch(w){s=w}if(f==null)try{let w=l.detectMirror(!0);u=w.getPoints(),this.reportFoundResultPoints(i,u),f=new et().decode(w)}catch(w){throw s??w}let d=new De(f.getText(),f.getRawBytes(),f.getNumBits(),u,we.AZTEC,D.currentTimeMillis()),g=f.getByteSegments();g!=null&&d.putMetadata(Ze.BYTE_SEGMENTS,g);let m=f.getECLevel();return m!=null&&d.putMetadata(Ze.ERROR_CORRECTION_LEVEL,m),d}reportFoundResultPoints(r,i){if(r!=null){let s=r.get(B.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((l,u,f)=>{s.foundPossibleResultPoint(l)})}}reset(){}}class Ji extends nt{constructor(r=500){super(new nn,r)}}class at{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(B.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),f=this.doDecode(u,i),d=f.getResultMetadata();let g=270;d!==null&&d.get(Ze.ORIENTATION)===!0&&(g=g+d.get(Ze.ORIENTATION)%360),f.putMetadata(Ze.ORIENTATION,g);const m=f.getResultPoints();if(m!==null){const w=u.getHeight();for(let S=0;S<m.length;S++)m[S]=new Ie(w-m[S].getY()-1,m[S].getX())}return f}else throw new X}}reset(){}doDecode(r,i){const s=r.getWidth(),l=r.getHeight();let u=new j(s);const f=i&&i.get(B.TRY_HARDER)===!0,d=Math.max(1,l>>(f?8:5));let g;f?g=l:g=15;const m=Math.trunc(l/2);for(let w=0;w<g;w++){const S=Math.trunc((w+1)/2),N=(w&1)===0,F=m+d*(N?S:-S);if(F<0||F>=l)break;try{u=r.getBlackRow(F,u)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(u.reverse(),i&&i.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const G=new Map;i.forEach((K,te)=>G.set(te,K)),G.delete(B.NEED_RESULT_POINT_CALLBACK),i=G}try{const G=this.decodeRow(F,u,i);if(V===1){G.putMetadata(Ze.ORIENTATION,180);const K=G.getResultPoints();K!==null&&(K[0]=new Ie(s-K[0].getX()-1,K[0].getY()),K[1]=new Ie(s-K[1].getX()-1,K[1].getY()))}return G}catch{}}}throw new X}static recordPattern(r,i,s){const l=s.length;for(let m=0;m<l;m++)s[m]=0;const u=r.getSize();if(i>=u)throw new X;let f=!r.get(i),d=0,g=i;for(;g<u;){if(r.get(g)!==f)s[d]++;else{if(++d===l)break;s[d]=1,f=!f}g++}if(!(d===l||d===l-1&&g===u))throw new X}static recordPatternInReverse(r,i,s){let l=s.length,u=r.get(i);for(;i>0&&l>=0;)r.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new X;at.recordPattern(r,i+1,s)}static patternMatchVariance(r,i,s){const l=r.length;let u=0,f=0;for(let m=0;m<l;m++)u+=r[m],f+=i[m];if(u<f)return Number.POSITIVE_INFINITY;const d=u/f;s*=d;let g=0;for(let m=0;m<l;m++){const w=r[m],S=i[m]*d,N=w>S?w-S:S-w;if(N>s)return Number.POSITIVE_INFINITY;g+=N}return g/u}}class xe extends at{static findStartPattern(r){const i=r.getSize(),s=r.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=s,d=!1;const g=6;for(let m=s;m<i;m++)if(r.get(m)!==d)u[l]++;else{if(l===g-1){let w=xe.MAX_AVG_VARIANCE,S=-1;for(let N=xe.CODE_START_A;N<=xe.CODE_START_C;N++){const F=at.patternMatchVariance(u,xe.CODE_PATTERNS[N],xe.MAX_INDIVIDUAL_VARIANCE);F<w&&(w=F,S=N)}if(S>=0&&r.isRange(Math.max(0,f-(m-f)/2),f,!1))return Int32Array.from([f,m,S]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,d=!d}throw new X}static decodeCode(r,i,s){at.recordPattern(r,s,i);let l=xe.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<xe.CODE_PATTERNS.length;f++){const d=xe.CODE_PATTERNS[f],g=this.patternMatchVariance(i,d,xe.MAX_INDIVIDUAL_VARIANCE);g<l&&(l=g,u=f)}if(u>=0)return u;throw new X}decodeRow(r,i,s){const l=s&&s.get(B.ASSUME_GS1)===!0,u=xe.findStartPattern(i),f=u[2];let d=0;const g=new Uint8Array(20);g[d++]=f;let m;switch(f){case xe.CODE_START_A:m=xe.CODE_CODE_A;break;case xe.CODE_START_B:m=xe.CODE_CODE_B;break;case xe.CODE_START_C:m=xe.CODE_CODE_C;break;default:throw new H}let w=!1,S=!1,N="",F=u[0],V=u[1];const G=Int32Array.from([0,0,0,0,0,0]);let K=0,te=0,me=f,ve=0,de=!0,rt=!1,Ye=!1;for(;!w;){const aa=S;switch(S=!1,K=te,te=xe.decodeCode(i,G,V),g[d++]=te,te!==xe.CODE_STOP&&(de=!0),te!==xe.CODE_STOP&&(ve++,me+=ve*te),F=V,V+=G.reduce((Yp,Xp)=>Yp+Xp,0),te){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new H}switch(m){case xe.CODE_CODE_A:if(te<64)Ye===rt?N+=String.fromCharCode(32+te):N+=String.fromCharCode(32+te+128),Ye=!1;else if(te<96)Ye===rt?N+=String.fromCharCode(te-64):N+=String.fromCharCode(te+64),Ye=!1;else switch(te!==xe.CODE_STOP&&(de=!1),te){case xe.CODE_FNC_1:l&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!rt&&Ye?(rt=!0,Ye=!1):rt&&Ye?(rt=!1,Ye=!1):Ye=!0;break;case xe.CODE_SHIFT:S=!0,m=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:m=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:m=xe.CODE_CODE_C;break;case xe.CODE_STOP:w=!0;break}break;case xe.CODE_CODE_B:if(te<96)Ye===rt?N+=String.fromCharCode(32+te):N+=String.fromCharCode(32+te+128),Ye=!1;else switch(te!==xe.CODE_STOP&&(de=!1),te){case xe.CODE_FNC_1:l&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!rt&&Ye?(rt=!0,Ye=!1):rt&&Ye?(rt=!1,Ye=!1):Ye=!0;break;case xe.CODE_SHIFT:S=!0,m=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:m=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:m=xe.CODE_CODE_C;break;case xe.CODE_STOP:w=!0;break}break;case xe.CODE_CODE_C:if(te<100)te<10&&(N+="0"),N+=te;else switch(te!==xe.CODE_STOP&&(de=!1),te){case xe.CODE_FNC_1:l&&(N.length===0?N+="]C1":N+="");break;case xe.CODE_CODE_A:m=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:m=xe.CODE_CODE_B;break;case xe.CODE_STOP:w=!0;break}break}aa&&(m=m===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const Fr=V-F;if(V=i.getNextUnset(V),!i.isRange(V,Math.min(i.getSize(),V+(V-F)/2),!1))throw new X;if(me-=ve*K,me%103!==K)throw new A;const xn=N.length;if(xn===0)throw new X;xn>0&&de&&(m===xe.CODE_CODE_C?N=N.substring(0,xn-2):N=N.substring(0,xn-1));const Ur=(u[1]+u[0])/2,Ct=F+Fr/2,pr=g.length,Yr=new Uint8Array(pr);for(let aa=0;aa<pr;aa++)Yr[aa]=g[aa];const ia=[new Ie(Ur,r),new Ie(Ct,r)];return new De(N,Yr,0,ia,we.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Lt extends at{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,s){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Lt.findAsteriskPattern(i,l),f=i.getNextSet(u[1]),d=i.getSize(),g,m;do{Lt.recordPattern(i,f,l);let G=Lt.toNarrowWidePattern(l);if(G<0)throw new X;g=Lt.patternToChar(G),this.decodeRowResult+=g,m=f;for(let K of l)f+=K;f=i.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let G of l)w+=G;let S=f-m-w;if(f!==d&&S*2<w)throw new X;if(this.usingCheckDigit){let G=this.decodeRowResult.length-1,K=0;for(let te=0;te<G;te++)K+=Lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt(G)!==Lt.ALPHABET_STRING.charAt(K%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,G)}if(this.decodeRowResult.length===0)throw new X;let N;this.extendedMode?N=Lt.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let F=(u[1]+u[0])/2,V=m+w/2;return new De(N,null,0,[new Ie(F,r),new Ie(V,r)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let s=r.getSize(),l=r.getNextSet(0),u=0,f=l,d=!1,g=i.length;for(let m=l;m<s;m++)if(r.get(m)!==d)i[u]++;else{if(u===g-1){if(this.toNarrowWidePattern(i)===Lt.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((m-f)/2)),f,!1))return[f,m];f+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,d=!d}throw new X}static toNarrowWidePattern(r){let i=r.length,s=0,l;do{let u=2147483647;for(let g of r)g<u&&g>s&&(u=g);s=u,l=0;let f=0,d=0;for(let g=0;g<i;g++){let m=r[g];m>s&&(d|=1<<i-1-g,l++,f+=m)}if(l===3){for(let g=0;g<i&&l>0;g++){let m=r[g];if(m>s&&(l--,m*2>=f))return-1}return d}}while(l>3);return-1}static patternToChar(r){for(let i=0;i<Lt.CHARACTER_ENCODINGS.length;i++)if(Lt.CHARACTER_ENCODINGS[i]===r)return Lt.ALPHABET_STRING.charAt(i);if(r===Lt.ASTERISK_ENCODING)return"*";throw new X}static decodeExtended(r){let i=r.length,s="";for(let l=0;l<i;l++){let u=r.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=r.charAt(l+1),d="\0";switch(u){case"+":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)+32);else throw new H;break;case"$":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)-64);else throw new H;break;case"%":if(f>="A"&&f<="E")d=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")d=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")d=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")d="\0";else if(f==="V")d="@";else if(f==="W")d="`";else if(f==="X"||f==="Y"||f==="Z")d="";else throw new H;break;case"/":if(f>="A"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")d=":";else throw new H;break}s+=d,l++}else s+=u}return s}}Lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Lt.ASTERISK_ENCODING=148;class ut extends at{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,s){let l=this.decodeStart(i),u=this.decodeEnd(i),f=new ie;ut.decodeMiddle(i,l[1],u[0],f);let d=f.toString(),g=null;s!=null&&(g=s.get(B.ALLOWED_LENGTHS)),g==null&&(g=ut.DEFAULT_ALLOWED_LENGTHS);let m=d.length,w=!1,S=0;for(let V of g){if(m===V){w=!0;break}V>S&&(S=V)}if(!w&&m>S&&(w=!0),!w)throw new H;const N=[new Ie(l[1],r),new Ie(u[0],r)];return new De(d,null,0,N,we.ITF,new Date().getTime())}static decodeMiddle(r,i,s,l){let u=new Int32Array(10),f=new Int32Array(5),d=new Int32Array(5);for(u.fill(0),f.fill(0),d.fill(0);i<s;){at.recordPattern(r,i,u);for(let m=0;m<5;m++){let w=2*m;f[m]=u[w],d[m]=u[w+1]}let g=ut.decodeDigit(f);l.append(g.toString()),g=this.decodeDigit(d),l.append(g.toString()),u.forEach(function(m){i+=m})}}decodeStart(r){let i=ut.skipWhiteSpace(r),s=ut.findGuardPattern(r,i,ut.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(r,s[0]),s}validateQuietZone(r,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let l=i-1;s>0&&l>=0&&!r.get(l);l--)s--;if(s!==0)throw new X}static skipWhiteSpace(r){const i=r.getSize(),s=r.getNextSet(0);if(s===i)throw new X;return s}decodeEnd(r){r.reverse();try{let i=ut.skipWhiteSpace(r),s;try{s=ut.findGuardPattern(r,i,ut.END_PATTERN_REVERSED[0])}catch(u){u instanceof X&&(s=ut.findGuardPattern(r,i,ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,s[0]);let l=s[0];return s[0]=r.getSize()-s[1],s[1]=r.getSize()-l,s}finally{r.reverse()}}static findGuardPattern(r,i,s){let l=s.length,u=new Int32Array(l),f=r.getSize(),d=!1,g=0,m=i;u.fill(0);for(let w=i;w<f;w++)if(r.get(w)!==d)u[g]++;else{if(g===l-1){if(at.patternMatchVariance(u,s,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return[m,w];m+=u[0]+u[1],D.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,d=!d}throw new X}static decodeDigit(r){let i=ut.MAX_AVG_VARIANCE,s=-1,l=ut.PATTERNS.length;for(let u=0;u<l;u++){let f=ut.PATTERNS[u],d=at.patternMatchVariance(r,f,ut.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,s=u):d===i&&(s=-1)}if(s>=0)return s%10;throw new X}}ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ut.MAX_AVG_VARIANCE=.38,ut.MAX_INDIVIDUAL_VARIANCE=.5,ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ut.START_PATTERN=Int32Array.from([1,1,1,1]),ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends at{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,s,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),s=st.findGuardPattern(r,l,!1,this.START_END_PATTERN,u);let f=s[0];l=s[1];let d=f-(l-f);d>=0&&(i=r.isRange(d,f,!1))}return s}static checkChecksum(r){return st.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let s=parseInt(r.charAt(i-1),10);return st.getStandardUPCEANChecksum(r.substring(0,i-1))===s}static getStandardUPCEANChecksum(r){let i=r.length,s=0;for(let l=i-1;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;s+=u}s*=3;for(let l=i-2;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;s+=u}return(1e3-s)%10}static decodeEnd(r,i){return st.findGuardPattern(r,i,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,s,l){return this.findGuardPattern(r,i,s,l,new Int32Array(l.length))}static findGuardPattern(r,i,s,l,u){let f=r.getSize();i=s?r.getNextUnset(i):r.getNextSet(i);let d=0,g=i,m=l.length,w=s;for(let S=i;S<f;S++)if(r.get(S)!==w)u[d]++;else{if(d===m-1){if(at.patternMatchVariance(u,l,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([g,S]);g+=u[0]+u[1];let N=u.slice(2,u.length-1);for(let F=0;F<d-1;F++)u[F]=N[F];u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,w=!w}throw new X}static decodeDigit(r,i,s,l){this.recordPattern(r,s,i);let u=this.MAX_AVG_VARIANCE,f=-1,d=l.length;for(let g=0;g<d;g++){let m=l[g],w=at.patternMatchVariance(i,m,st.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,f=g)}if(f>=0)return f;throw new X}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Rn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,s){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,l),f=l.toString(),d=Rn.parseExtensionString(f),g=[new Ie((s[0]+s[1])/2,r),new Ie(u,r)],m=new De(f,null,0,g,we.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&m.putAllMetadata(d),m}decodeMiddle(r,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1],d=0;for(let m=0;m<5&&f<u;m++){let w=st.decodeDigit(r,l,f,st.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let S of l)f+=S;w>=10&&(d|=1<<4-m),m!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(s.length!==5)throw new X;let g=this.determineCheckDigit(d);if(Rn.extensionChecksum(s.toString())!==g)throw new X;return f}static extensionChecksum(r){let i=r.length,s=0;for(let l=i-2;l>=0;l-=2)s+=r.charAt(l).charCodeAt(0)-48;s*=3;for(let l=i-1;l>=0;l-=2)s+=r.charAt(l).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new X}static parseExtensionString(r){if(r.length!==5)return null;let i=Rn.parseExtension5String(r);return i==null?null:new Map([[Ze.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(r.substring(1)),l=(s/100).toString(),u=s%100,f=u<10?"0"+u:u.toString();return i+l+"."+f}}class Dn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,s){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,s,l),f=l.toString(),d=Dn.parseExtensionString(f),g=[new Ie((s[0]+s[1])/2,r),new Ie(u,r)],m=new De(f,null,0,g,we.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&m.putAllMetadata(d),m}decodeMiddle(r,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1],d=0;for(let g=0;g<2&&f<u;g++){let m=st.decodeDigit(r,l,f,st.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let w of l)f+=w;m>=10&&(d|=1<<1-g),g!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(s.length!==2)throw new X;if(parseInt(s.toString())%4!==d)throw new X;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(r)]])}}class Di{static decodeRow(r,i,s){let l=st.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Rn().decodeRow(r,i,l)}catch{return new Dn().decodeRow(r,i,l)}}}Di.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ke extends st{constructor(){super(),this.decodeRowStringBuffer="",Ke.L_AND_G_PATTERNS=Ke.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=Ke.L_PATTERNS[r-10],s=new Int32Array(i.length);for(let l=0;l<i.length;l++)s[l]=i[i.length-l-1];Ke.L_AND_G_PATTERNS[r]=s}}decodeRow(r,i,s){let l=Ke.findStartGuardPattern(i),u=s==null?null:s.get(B.NEED_RESULT_POINT_CALLBACK);if(u!=null){const de=new Ie((l[0]+l[1])/2,r);u.foundPossibleResultPoint(de)}let f=this.decodeMiddle(i,l,this.decodeRowStringBuffer),d=f.rowOffset,g=f.resultString;if(u!=null){const de=new Ie(d,r);u.foundPossibleResultPoint(de)}let m=this.decodeEnd(i,d);if(u!=null){const de=new Ie((m[0]+m[1])/2,r);u.foundPossibleResultPoint(de)}let w=m[1],S=w+(w-m[0]);if(S>=i.getSize()||!i.isRange(w,S,!1))throw new X;let N=g.toString();if(N.length<8)throw new H;if(!Ke.checkChecksum(N))throw new A;let F=(l[1]+l[0])/2,V=(m[1]+m[0])/2,G=this.getBarcodeFormat(),K=[new Ie(F,r),new Ie(V,r)],te=new De(N,null,0,K,G,new Date().getTime()),me=0;try{let de=Di.decodeRow(r,i,m[1]);te.putMetadata(Ze.UPC_EAN_EXTENSION,de.getText()),te.putAllMetadata(de.getResultMetadata()),te.addResultPoints(de.getResultPoints()),me=de.getText().length}catch{}let ve=s==null?null:s.get(B.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let de=!1;for(let rt in ve)if(me.toString()===rt){de=!0;break}if(!de)throw new X}return te}decodeEnd(r,i){return Ke.findGuardPattern(r,i,!1,Ke.START_END_PATTERN,new Int32Array(Ke.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ke.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let s=parseInt(r.charAt(i-1),10);return Ke.getStandardUPCEANChecksum(r.substring(0,i-1))===s}static getStandardUPCEANChecksum(r){let i=r.length,s=0;for(let l=i-1;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;s+=u}s*=3;for(let l=i-2;l>=0;l-=2){let u=r.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new H;s+=u}return(1e3-s)%10}}class br extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1],d=0;for(let m=0;m<6&&f<u;m++){let w=Ke.decodeDigit(r,l,f,Ke.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let S of l)f+=S;w>=10&&(d|=1<<5-m)}s=br.determineFirstDigit(s,d),f=Ke.findGuardPattern(r,f,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&f<u;m++){let w=Ke.decodeDigit(r,l,f,Ke.L_PATTERNS);s+=String.fromCharCode(48+w);for(let S of l)f+=S}return{rowOffset:f,resultString:s}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(r,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return r=String.fromCharCode(48+s)+r,r;throw new X}}br.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Kn extends Ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,s){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f=i[1];for(let g=0;g<4&&f<u;g++){let m=Ke.decodeDigit(r,l,f,Ke.L_PATTERNS);s+=String.fromCharCode(48+m);for(let w of l)f+=w}f=Ke.findGuardPattern(r,f,!0,Ke.MIDDLE_PATTERN,new Int32Array(Ke.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&f<u;g++){let m=Ke.decodeDigit(r,l,f,Ke.L_PATTERNS);s+=String.fromCharCode(48+m);for(let w of l)f+=w}return{rowOffset:f,resultString:s}}getBarcodeFormat(){return we.EAN_8}}class mn extends Ke{constructor(){super(...arguments),this.ean13Reader=new br}getBarcodeFormat(){return we.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,s))}decodeMiddle(r,i,s){return this.ean13Reader.decodeMiddle(r,i,s)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let s=new De(i.substring(1),null,null,r.getResultPoints(),we.UPC_A);return r.getResultMetadata()!=null&&s.putAllMetadata(r.getResultMetadata()),s}else throw new X}reset(){this.ean13Reader.reset()}}class yr extends Ke{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,s){const l=this.decodeMiddleCounters.map(m=>m);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=r.getSize();let f=i[1],d=0;for(let m=0;m<6&&f<u;m++){const w=yr.decodeDigit(r,l,f,yr.L_AND_G_PATTERNS);s+=String.fromCharCode(48+w%10);for(let S of l)f+=S;w>=10&&(d|=1<<5-m)}let g=yr.determineNumSysAndCheckDigit(s,d);return{rowOffset:f,resultString:g}}decodeEnd(r,i){return yr.findGuardPatternWithoutCounters(r,i,!0,yr.MIDDLE_END_PATTERN)}checkChecksum(r){return Ke.checkChecksum(yr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let s=0;s<=1;s++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][l]){let u=String.fromCharCode(48+s),f=String.fromCharCode(48+l);return u+r+f}throw X.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),s=new ie;s.append(r.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(l),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(l);break}return r.length>=8&&s.append(r.charAt(7)),s.toString()}}yr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class qn extends at{constructor(r){super();let i=r==null?null:r.get(B.POSSIBLE_FORMATS),s=[];o(i)?(s.push(new br),s.push(new mn),s.push(new Kn),s.push(new yr)):(i.indexOf(we.EAN_13)>-1&&s.push(new br),i.indexOf(we.UPC_A)>-1&&s.push(new mn),i.indexOf(we.EAN_8)>-1&&s.push(new Kn),i.indexOf(we.UPC_E)>-1&&s.push(new yr)),this.readers=s}decodeRow(r,i,s){for(let l of this.readers)try{const u=l.decodeRow(r,i,s),f=u.getBarcodeFormat()===we.EAN_13&&u.getText().charAt(0)==="0",d=s==null?null:s.get(B.POSSIBLE_FORMATS),g=d==null||d.includes(we.UPC_A);if(f&&g){const m=u.getRawBytes(),w=new De(u.getText().substring(1),m,m?m.length:null,u.getResultPoints(),we.UPC_A);return w.putAllMetadata(u.getResultMetadata()),w}return u}catch{}throw new X}reset(){for(let r of this.readers)r.reset()}}class Zt extends at{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let s=0;s<i.length;s++)if(at.patternMatchVariance(r,i[s],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return s;throw new X}static count(r){return Be.sum(new Int32Array(r))}static increment(r,i){let s=0,l=i[0];for(let u=1;u<r.length;u++)i[u]>l&&(l=i[u],s=u);r[s]++}static decrement(r,i){let s=0,l=i[0];for(let u=1;u<r.length;u++)i[u]<l&&(l=i[u],s=u);r[s]--}static isFinderPattern(r){let i=r[0]+r[1],s=i+r[2]+r[3],l=i/s;if(l>=Zt.MIN_FINDER_PATTERN_RATIO&&l<=Zt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let d of r)d>f&&(f=d),d<u&&(u=d);return f<10*u}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Pr{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Pr))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class an{constructor(r,i,s,l,u){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Ie(s,u)),this.resultPoints.push(new Ie(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof an))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class Lr{constructor(){}static getRSSvalue(r,i,s){let l=0;for(let g of r)l+=g;let u=0,f=0,d=r.length;for(let g=0;g<d-1;g++){let m;for(m=1,f|=1<<g;m<r[g];m++,f&=~(1<<g)){let w=Lr.combins(l-m-1,d-g-2);if(s&&f===0&&l-m-(d-g-1)>=d-g-1&&(w-=Lr.combins(l-m-(d-g),d-g-2)),d-g-1>1){let S=0;for(let N=l-m-(d-g-2);N>i;N--)S+=Lr.combins(l-m-N-1,d-g-3);w-=S*(d-1-g)}else l-m>i&&w--;u+=w}l-=m}return u}static combins(r,i){let s,l;r-i>i?(l=i,s=r-i):(l=r-i,s=i);let u=1,f=1;for(let d=r;d>s;d--)u*=d,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class ea{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let s=12*i,l=new j(s),u=0,d=r[0].getRightChar().getValue();for(let g=11;g>=0;--g)d&1<<g&&l.set(u),u++;for(let g=1;g<r.length;++g){let m=r[g],w=m.getLeftChar().getValue();for(let S=11;S>=0;--S)w&1<<S&&l.set(u),u++;if(m.getRightChar()!=null){let S=m.getRightChar().getValue();for(let N=11;N>=0;--N)S&1<<N&&l.set(u),u++}}return l}}class W{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ${constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class _ extends ${constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===_.FNC1}}_.FNC1="$";class T extends ${constructor(r,i,s){super(r),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class L extends ${constructor(r,i,s){if(super(r),i<0||i>10||s<0||s>10)throw new H;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===L.FNC1}isSecondDigitFNC1(){return this.secondDigit===L.FNC1}isAnyFNC1(){return this.firstDigit===L.FNC1||this.secondDigit===L.FNC1}}L.FNC1=10;class U{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new X;let i=r.substring(0,2);for(let u of U.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===U.VARIABLE_LENGTH?U.processVariableAI(2,u[2],r):U.processFixedAI(2,u[1],r);if(r.length<3)throw new X;let s=r.substring(0,3);for(let u of U.THREE_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===U.VARIABLE_LENGTH?U.processVariableAI(3,u[2],r):U.processFixedAI(3,u[1],r);for(let u of U.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===U.VARIABLE_LENGTH?U.processVariableAI(4,u[2],r):U.processFixedAI(4,u[1],r);if(r.length<4)throw new X;let l=r.substring(0,4);for(let u of U.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===U.VARIABLE_LENGTH?U.processVariableAI(4,u[2],r):U.processFixedAI(4,u[1],r);throw new X}static processFixedAI(r,i,s){if(s.length<r)throw new X;let l=s.substring(0,r);if(s.length<r+i)throw new X;let u=s.substring(r,r+i),f=s.substring(r+i),d="("+l+")"+u,g=U.parseFieldsInGeneralPurpose(f);return g==null?d:d+g}static processVariableAI(r,i,s){let l=s.substring(0,r),u;s.length<r+i?u=s.length:u=r+i;let f=s.substring(r,u),d=s.substring(u),g="("+l+")"+f,m=U.parseFieldsInGeneralPurpose(d);return m==null?g:g+m}}U.VARIABLE_LENGTH=[],U.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",U.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",U.VARIABLE_LENGTH,20],["22",U.VARIABLE_LENGTH,29],["30",U.VARIABLE_LENGTH,8],["37",U.VARIABLE_LENGTH,8],["90",U.VARIABLE_LENGTH,30],["91",U.VARIABLE_LENGTH,30],["92",U.VARIABLE_LENGTH,30],["93",U.VARIABLE_LENGTH,30],["94",U.VARIABLE_LENGTH,30],["95",U.VARIABLE_LENGTH,30],["96",U.VARIABLE_LENGTH,30],["97",U.VARIABLE_LENGTH,3],["98",U.VARIABLE_LENGTH,30],["99",U.VARIABLE_LENGTH,30]],U.THREE_DIGIT_DATA_LENGTH=[["240",U.VARIABLE_LENGTH,30],["241",U.VARIABLE_LENGTH,30],["242",U.VARIABLE_LENGTH,6],["250",U.VARIABLE_LENGTH,30],["251",U.VARIABLE_LENGTH,30],["253",U.VARIABLE_LENGTH,17],["254",U.VARIABLE_LENGTH,20],["400",U.VARIABLE_LENGTH,30],["401",U.VARIABLE_LENGTH,30],["402",17],["403",U.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",U.VARIABLE_LENGTH,20],["421",U.VARIABLE_LENGTH,15],["422",3],["423",U.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],U.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",U.VARIABLE_LENGTH,15],["391",U.VARIABLE_LENGTH,18],["392",U.VARIABLE_LENGTH,15],["393",U.VARIABLE_LENGTH,18],["703",U.VARIABLE_LENGTH,30]],U.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",U.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",U.VARIABLE_LENGTH,20],["8003",U.VARIABLE_LENGTH,30],["8004",U.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",U.VARIABLE_LENGTH,30],["8008",U.VARIABLE_LENGTH,12],["8018",18],["8020",U.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",U.VARIABLE_LENGTH,70],["8200",U.VARIABLE_LENGTH,70]];class Y{constructor(r){this.buffer=new ie,this.information=r}decodeAllCodes(r,i){let s=i,l=null;do{let u=this.decodeGeneralPurposeField(s,l),f=U.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&r.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,s===u.getNewPosition())break;s=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new L(this.information.getSize(),L.FNC1,L.FNC1):new L(this.information.getSize(),u-1,L.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),s=(i-8)/11,l=(i-8)%11;return new L(r+7,s,l)}extractNumericValueFromBitArray(r,i){return Y.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,s){let l=0;for(let u=0;u<s;++u)r.get(i+u)&&(l|=1<<s-u-1);return l}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new T(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new T(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(s!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new T(this.current.getPosition(),this.buffer.toString()):i=new T(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new W(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new T(this.current.getPosition(),this.buffer.toString());return new W(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new W(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new T(this.current.getPosition(),this.buffer.toString());return new W(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new W(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new T(this.current.getPosition(),this.buffer.toString());return new W(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new W(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<116)return!0;if(r+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(r,8);return l>=232&&l<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new _(r+5,_.FNC1);if(i>=5&&i<15)return new _(r+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<90)return new _(r+7,""+(s+1));if(s>=90&&s<116)return new _(r+7,""+(s+7));let l=this.extractNumericValueFromBitArray(r,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new H}return new _(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,6);return s>=16&&s<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new _(r+5,_.FNC1);if(i>=5&&i<15)return new _(r+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(r,6);if(s>=32&&s<58)return new _(r+6,""+(s+33));let l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new $t("Decoding invalid alphanumeric value: "+s)}return new _(r+6,l)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class re{constructor(r){this.information=r,this.generalDecoder=new Y(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class oe extends re{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let s=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,s)}encodeCompressedGtinWithoutAI(r,i,s){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}oe.appendCheckDigit(r,s)}static appendCheckDigit(r,i){let s=0;for(let l=0;l<13;l++){let u=r.charAt(l+i).charCodeAt(0)-48;s+=l&1?u:3*u}s=10-s%10,s===10&&(s=0),r.append(s)}}oe.GTIN_SIZE=40;class he extends oe{constructor(r){super(r)}parseInformation(){let r=new ie;r.append("(01)");let i=r.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(he.HEADER_SIZE,4);return r.append(s),this.encodeCompressedGtinWithoutAI(r,he.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,he.HEADER_SIZE+44)}}he.HEADER_SIZE=4;class ye extends re{constructor(r){super(r)}parseInformation(){let r=new ie;return this.getGeneralDecoder().decodeAllCodes(r,ye.HEADER_SIZE)}}ye.HEADER_SIZE=5;class Fe extends oe{constructor(r){super(r)}encodeCompressedWeight(r,i,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(r,l);let u=this.checkWeight(l),f=1e5;for(let d=0;d<5;++d)u/f===0&&r.append("0"),f/=10;r.append(u)}}class Se extends Fe{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=Se.HEADER_SIZE+Fe.GTIN_SIZE+Se.WEIGHT_SIZE)throw new X;let r=new ie;return this.encodeCompressedGtin(r,Se.HEADER_SIZE),this.encodeCompressedWeight(r,Se.HEADER_SIZE+Fe.GTIN_SIZE,Se.WEIGHT_SIZE),r.toString()}}Se.HEADER_SIZE=5,Se.WEIGHT_SIZE=15;class Pe extends Se{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class je extends Se{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Ae extends oe{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Ae.HEADER_SIZE+oe.GTIN_SIZE)throw new X;let r=new ie;this.encodeCompressedGtin(r,Ae.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ae.HEADER_SIZE+oe.GTIN_SIZE,Ae.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Ae.HEADER_SIZE+oe.GTIN_SIZE+Ae.LAST_DIGIT_SIZE,null);return r.append(s.getNewString()),r.toString()}}Ae.HEADER_SIZE=8,Ae.LAST_DIGIT_SIZE=2;class Oe extends oe{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Oe.HEADER_SIZE+oe.GTIN_SIZE)throw new X;let r=new ie;this.encodeCompressedGtin(r,Oe.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+oe.GTIN_SIZE,Oe.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Oe.HEADER_SIZE+oe.GTIN_SIZE+Oe.LAST_DIGIT_SIZE,Oe.FIRST_THREE_DIGITS_SIZE);s/100==0&&r.append("0"),s/10==0&&r.append("0"),r.append(s);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Oe.HEADER_SIZE+oe.GTIN_SIZE+Oe.LAST_DIGIT_SIZE+Oe.FIRST_THREE_DIGITS_SIZE,null);return r.append(l.getNewString()),r.toString()}}Oe.HEADER_SIZE=8,Oe.LAST_DIGIT_SIZE=2,Oe.FIRST_THREE_DIGITS_SIZE=10;class He extends Fe{constructor(r,i,s){super(r),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE+He.DATE_SIZE)throw new X;let r=new ie;return this.encodeCompressedGtin(r,He.HEADER_SIZE),this.encodeCompressedWeight(r,He.HEADER_SIZE+He.GTIN_SIZE,He.WEIGHT_SIZE),this.encodeCompressedDate(r,He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,He.DATE_SIZE);if(s==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let l=s%32;s/=32;let u=s%12+1;s/=12;let f=s;f/10==0&&r.append("0"),r.append(f),u/10==0&&r.append("0"),r.append(u),l/10==0&&r.append("0"),r.append(l)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}He.HEADER_SIZE=8,He.WEIGHT_SIZE=20,He.DATE_SIZE=16;function tt(C){try{if(C.get(1))return new he(C);if(!C.get(2))return new ye(C);switch(Y.extractNumericValueFromBitArray(C,1,4)){case 4:return new Pe(C);case 5:return new je(C)}switch(Y.extractNumericValueFromBitArray(C,1,5)){case 12:return new Ae(C);case 13:return new Oe(C)}switch(Y.extractNumericValueFromBitArray(C,1,7)){case 56:return new He(C,"310","11");case 57:return new He(C,"320","11");case 58:return new He(C,"310","13");case 59:return new He(C,"320","13");case 60:return new He(C,"310","15");case 61:return new He(C,"320","15");case 62:return new He(C,"310","17");case 63:return new He(C,"320","17")}}catch(r){throw console.log(r),new $t("unknown decoder: "+C)}}class kt{constructor(r,i,s,l){this.leftchar=r,this.rightchar=i,this.finderpattern=s,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof kt?kt.equalsOrNull(r.leftchar,i.leftchar)&&kt.equalsOrNull(r.rightchar,i.rightchar)&&kt.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:kt.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Kt{constructor(r,i,s){this.pairs=r,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof Kt?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let s;return r.forEach((l,u)=>{i.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(s=!0)})}),s}}class se extends Zt{constructor(r){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,s){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(r,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(u){if(u instanceof X){if(!this.pairs.length)throw new X;s=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(r,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new X}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let s=i;s<this.rows.length;s++){let l=this.rows[s];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(l);try{return this.checkRows(u,s+1)}catch(f){this.verbose&&console.log(f)}}throw new X}static isValidSequence(r){for(let i of se.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let s=!0;for(let l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!=i[l]){s=!1;break}if(s)return!0}return!1}storeRow(r,i){let s=0,l=!1,u=!1;for(;s<this.rows.length;){let f=this.rows[s];if(f.getRowNumber()>r){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),s++}u||l||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Kt(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let s of i)if(s.getPairs().length!==r.length){for(let l of s.getPairs())for(let u of r)if(kt.equals(l,u))break}}static isPartialRow(r,i){for(let s of i){let l=!0;for(let u of r){let f=!1;for(let d of s.getPairs())if(u.equals(d)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=ea.buildBitArray(r),l=tt(i).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),d=[u[0],u[1],f[0],f[1]];return new De(l,null,null,d,we.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),s=r.getRightChar();if(s==null)return!1;let l=s.getChecksumPortion(),u=2;for(let d=1;d<this.pairs.size();++d){let g=this.pairs.get(d);l+=g.getLeftChar().getChecksumPortion(),u++;let m=g.getRightChar();m!=null&&(l+=m.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(r,i){let s;return r.get(i)?(s=r.getNextUnset(i),s=r.getNextSet(s)):(s=r.getNextSet(i),s=r.getNextUnset(s)),s}retrieveNextPair(r,i,s){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,d=-1;do this.findNextPair(r,i,d),u=this.parseFoundFinderPattern(r,s,l),u==null?d=se.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let g=this.decodeDataCharacter(r,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new X;let m;try{m=this.decodeDataCharacter(r,u,l,!1)}catch(w){m=null,this.verbose&&console.log(w)}return new kt(g,m,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=r.getSize(),f;s>=0?f=s:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let g=!1;for(;f<u&&(g=!r.get(f),!!g);)f++;let m=0,w=f;for(let S=f;S<u;S++)if(r.get(S)!=g)l[m]++;else{if(m==3){if(d&&se.reverseCounters(l),se.isFinderPattern(l)){this.startEnd[0]=w,this.startEnd[1]=S;return}d&&se.reverseCounters(l),w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,g=!g}throw new X}static reverseCounters(r){let i=r.length;for(let s=0;s<i/2;++s){let l=r[s];r[s]=r[i-s-1],r[i-s-1]=l}}parseFoundFinderPattern(r,i,s){let l,u,f;if(s){let m=this.startEnd[0]-1;for(;m>=0&&!r.get(m);)m--;m++,l=this.startEnd[0]-m,u=m,f=this.startEnd[1]}else u=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let d=this.getDecodeFinderCounters();D.arraycopy(d,0,d,1,d.length-1),d[0]=l;let g;try{g=this.parseFinderValue(d,se.FINDER_PATTERNS)}catch{return null}return new an(g,[u,f],u,f,i)}decodeDataCharacter(r,i,s,l){let u=this.getDataCharacterCounters();for(let Ct=0;Ct<u.length;Ct++)u[Ct]=0;if(l)se.recordPatternInReverse(r,i.getStartEnd()[0],u);else{se.recordPattern(r,i.getStartEnd()[1],u);for(let Ct=0,pr=u.length-1;Ct<pr;Ct++,pr--){let Yr=u[Ct];u[Ct]=u[pr],u[pr]=Yr}}let f=17,d=Be.sum(new Int32Array(u))/f,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-g)/g>.3)throw new X;let m=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Ct=0;Ct<u.length;Ct++){let pr=1*u[Ct]/d,Yr=pr+.5;if(Yr<1){if(pr<.3)throw new X;Yr=1}else if(Yr>8){if(pr>8.7)throw new X;Yr=8}let ia=Ct/2;Ct&1?(w[ia]=Yr,N[ia]=pr-Yr):(m[ia]=Yr,S[ia]=pr-Yr)}this.adjustOddEvenCounts(f);let F=4*i.getValue()+(s?0:2)+(l?0:1)-1,V=0,G=0;for(let Ct=m.length-1;Ct>=0;Ct--){if(se.isNotA1left(i,s,l)){let pr=se.WEIGHTS[F][2*Ct];G+=m[Ct]*pr}V+=m[Ct]}let K=0;for(let Ct=w.length-1;Ct>=0;Ct--)if(se.isNotA1left(i,s,l)){let pr=se.WEIGHTS[F][2*Ct+1];K+=w[Ct]*pr}let te=G+K;if(V&1||V>13||V<4)throw new X;let me=(13-V)/2,ve=se.SYMBOL_WIDEST[me],de=9-ve,rt=Lr.getRSSvalue(m,ve,!0),Ye=Lr.getRSSvalue(w,de,!1),Fr=se.EVEN_TOTAL_SUBSET[me],xn=se.GSUM[me],Ur=rt*Fr+Ye+xn;return new Pr(Ur,te)}static isNotA1left(r,i,s){return!(r.getValue()==0&&i&&s)}adjustOddEvenCounts(r){let i=Be.sum(new Int32Array(this.getOddCounts())),s=Be.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let f=!1,d=!1;s>13?d=!0:s<4&&(f=!0);let g=i+s-r,m=(i&1)==1,w=(s&1)==0;if(g==1)if(m){if(w)throw new X;u=!0}else{if(!w)throw new X;d=!0}else if(g==-1)if(m){if(w)throw new X;l=!0}else{if(!w)throw new X;f=!0}else if(g==0){if(m){if(!w)throw new X;i<s?(l=!0,d=!0):(u=!0,f=!0)}else if(w)throw new X}else throw new X;if(l){if(u)throw new X;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new X;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class nr extends Pr{constructor(r,i,s){super(r,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,s){const l=this.decodePair(i,!1,r,s);ot.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,r,s);ot.addOrTally(this.possibleRightPairs,u),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ot.checkChecksum(f,d))return ot.constructResult(f,d)}throw new X}static addOrTally(r,i){if(i==null)return;let s=!1;for(let l of r)if(l.getValue()===i.getValue()){l.incrementCount(),s=!0;break}s||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let s=4537077*r.getValue()+i.getValue(),l=new String(s).toString(),u=new ie;for(let m=13-l.length;m>0;m--)u.append("0");u.append(l);let f=0;for(let m=0;m<13;m++){let w=u.charAt(m).charCodeAt(0)-48;f+=m&1?w:3*w}f=10-f%10,f===10&&(f=0),u.append(f.toString());let d=r.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new De(u.toString(),null,0,[d[0],d[1],g[0],g[1]],we.RSS_14,new Date().getTime())}static checkChecksum(r,i){let s=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,s===l}decodePair(r,i,s,l){try{let u=this.findFinderPattern(r,i),f=this.parseFoundFinderPattern(r,s,i,u),d=l==null?null:l.get(B.NEED_RESULT_POINT_CALLBACK);if(d!=null){let w=(u[0]+u[1])/2;i&&(w=r.getSize()-1-w),d.foundPossibleResultPoint(new Ie(w,s))}let g=this.decodeDataCharacter(r,f,!0),m=this.decodeDataCharacter(r,f,!1);return new nr(1597*g.getValue()+m.getValue(),g.getChecksumPortion()+4*m.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,i,s){let l=this.getDataCharacterCounters();for(let K=0;K<l.length;K++)l[K]=0;if(s)at.recordPatternInReverse(r,i.getStartEnd()[0],l);else{at.recordPattern(r,i.getStartEnd()[1]+1,l);for(let K=0,te=l.length-1;K<te;K++,te--){let me=l[K];l[K]=l[te],l[te]=me}}let u=s?16:15,f=Be.sum(new Int32Array(l))/u,d=this.getOddCounts(),g=this.getEvenCounts(),m=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let K=0;K<l.length;K++){let te=l[K]/f,me=Math.floor(te+.5);me<1?me=1:me>8&&(me=8);let ve=Math.floor(K/2);K&1?(g[ve]=me,w[ve]=te-me):(d[ve]=me,m[ve]=te-me)}this.adjustOddEvenCounts(s,u);let S=0,N=0;for(let K=d.length-1;K>=0;K--)N*=9,N+=d[K],S+=d[K];let F=0,V=0;for(let K=g.length-1;K>=0;K--)F*=9,F+=g[K],V+=g[K];let G=N+3*F;if(s){if(S&1||S>12||S<4)throw new X;let K=(12-S)/2,te=ot.OUTSIDE_ODD_WIDEST[K],me=9-te,ve=Lr.getRSSvalue(d,te,!1),de=Lr.getRSSvalue(g,me,!0),rt=ot.OUTSIDE_EVEN_TOTAL_SUBSET[K],Ye=ot.OUTSIDE_GSUM[K];return new Pr(ve*rt+de+Ye,G)}else{if(V&1||V>10||V<4)throw new X;let K=(10-V)/2,te=ot.INSIDE_ODD_WIDEST[K],me=9-te,ve=Lr.getRSSvalue(d,te,!0),de=Lr.getRSSvalue(g,me,!1),rt=ot.INSIDE_ODD_TOTAL_SUBSET[K],Ye=ot.INSIDE_GSUM[K];return new Pr(de*rt+ve+Ye,G)}}findFinderPattern(r,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=r.getSize(),u=!1,f=0;for(;f<l&&(u=!r.get(f),i!==u);)f++;let d=0,g=f;for(let m=f;m<l;m++)if(r.get(m)!==u)s[d]++;else{if(d===3){if(Zt.isFinderPattern(s))return[g,m];g+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,u=!u}throw new X}parseFoundFinderPattern(r,i,s,l){let u=r.get(l[0]),f=l[0]-1;for(;f>=0&&u!==r.get(f);)f--;f++;const d=l[0]-f,g=this.getDecodeFinderCounters(),m=new Int32Array(g.length);D.arraycopy(g,0,m,1,g.length-1),m[0]=d;const w=this.parseFinderValue(m,ot.FINDER_PATTERNS);let S=f,N=l[1];return s&&(S=r.getSize()-1-S,N=r.getSize()-1-N),new an(w,[f,l[1]],S,N,i)}adjustOddEvenCounts(r,i){let s=Be.sum(new Int32Array(this.getOddCounts())),l=Be.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,d=!1,g=!1;r?(s>12?f=!0:s<4&&(u=!0),l>12?g=!0:l<4&&(d=!0)):(s>11?f=!0:s<5&&(u=!0),l>10?g=!0:l<4&&(d=!0));let m=s+l-i,w=(s&1)===(r?1:0),S=(l&1)===1;if(m===1)if(w){if(S)throw new X;f=!0}else{if(!S)throw new X;g=!0}else if(m===-1)if(w){if(S)throw new X;u=!0}else{if(!S)throw new X;d=!0}else if(m===0){if(w){if(!S)throw new X;s<l?(u=!0,g=!0):(f=!0,d=!0)}else if(S)throw new X}else throw new X;if(u){if(f)throw new X;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new X;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bt extends at{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const s=r?r.get(B.POSSIBLE_FORMATS):null,l=r&&r.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(we.EAN_13)||s.includes(we.UPC_A)||s.includes(we.EAN_8)||s.includes(we.UPC_E))&&this.readers.push(new qn(r)),s.includes(we.CODE_39)&&this.readers.push(new Lt(l)),s.includes(we.CODE_128)&&this.readers.push(new xe),s.includes(we.ITF)&&this.readers.push(new ut),s.includes(we.RSS_14)&&this.readers.push(new ot),s.includes(we.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new qn(r)),this.readers.push(new Lt),this.readers.push(new qn(r)),this.readers.push(new xe),this.readers.push(new ut),this.readers.push(new ot),this.readers.push(new se(this.verbose)))}decodeRow(r,i,s){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(r,i,s)}catch{}throw new X}reset(){this.readers.forEach(r=>r.reset())}}class dr extends nt{constructor(r=500,i){super(new Bt(i),r,i)}}class Ce{constructor(r,i,s){this.ecCodewords=r,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ne{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(r,i,s,l,u,f){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let d=0;const g=f.getECCodewords(),m=f.getECBlocks();for(let w of m)d+=w.getCount()*(w.getDataCodewords()+g);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new H;for(let s of Ue.VERSIONS)if(s.symbolSizeRows===r&&s.symbolSizeColumns===i)return s;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Ue(1,10,10,8,8,new Ce(5,new Ne(1,3))),new Ue(2,12,12,10,10,new Ce(7,new Ne(1,5))),new Ue(3,14,14,12,12,new Ce(10,new Ne(1,8))),new Ue(4,16,16,14,14,new Ce(12,new Ne(1,12))),new Ue(5,18,18,16,16,new Ce(14,new Ne(1,18))),new Ue(6,20,20,18,18,new Ce(18,new Ne(1,22))),new Ue(7,22,22,20,20,new Ce(20,new Ne(1,30))),new Ue(8,24,24,22,22,new Ce(24,new Ne(1,36))),new Ue(9,26,26,24,24,new Ce(28,new Ne(1,44))),new Ue(10,32,32,14,14,new Ce(36,new Ne(1,62))),new Ue(11,36,36,16,16,new Ce(42,new Ne(1,86))),new Ue(12,40,40,18,18,new Ce(48,new Ne(1,114))),new Ue(13,44,44,20,20,new Ce(56,new Ne(1,144))),new Ue(14,48,48,22,22,new Ce(68,new Ne(1,174))),new Ue(15,52,52,24,24,new Ce(42,new Ne(2,102))),new Ue(16,64,64,14,14,new Ce(56,new Ne(2,140))),new Ue(17,72,72,16,16,new Ce(36,new Ne(4,92))),new Ue(18,80,80,18,18,new Ce(48,new Ne(4,114))),new Ue(19,88,88,20,20,new Ce(56,new Ne(4,144))),new Ue(20,96,96,22,22,new Ce(68,new Ne(4,174))),new Ue(21,104,104,24,24,new Ce(56,new Ne(6,136))),new Ue(22,120,120,18,18,new Ce(68,new Ne(6,175))),new Ue(23,132,132,20,20,new Ce(62,new Ne(8,163))),new Ue(24,144,144,22,22,new Ce(62,new Ne(8,156),new Ne(2,155))),new Ue(25,8,18,6,16,new Ce(7,new Ne(1,5))),new Ue(26,8,32,6,14,new Ce(11,new Ne(1,10))),new Ue(27,12,26,10,24,new Ce(14,new Ne(1,16))),new Ue(28,12,36,10,16,new Ce(18,new Ne(1,22))),new Ue(29,16,36,14,16,new Ce(24,new Ne(1,32))),new Ue(30,16,48,14,22,new Ce(28,new Ne(1,49)))]}}Ue.VERSIONS=Ue.buildVersions();class ht{constructor(r){const i=r.getHeight();if(i<8||i>144||i&1)throw new H;this.version=ht.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new J(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),s=r.getWidth();return Ue.getVersionForDimensions(i,s)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let d=!1,g=!1,m=!1,w=!1;do if(s===u&&l===0&&!d)r[i++]=this.readCorner1(u,f)&255,s-=2,l+=2,d=!0;else if(s===u-2&&l===0&&f&3&&!g)r[i++]=this.readCorner2(u,f)&255,s-=2,l+=2,g=!0;else if(s===u+4&&l===2&&!(f&7)&&!m)r[i++]=this.readCorner3(u,f)&255,s-=2,l+=2,m=!0;else if(s===u-2&&l===0&&(f&7)===4&&!w)r[i++]=this.readCorner4(u,f)&255,s-=2,l+=2,w=!0;else{do s<u&&l>=0&&!this.readMappingMatrix.get(l,s)&&(r[i++]=this.readUtah(s,l,u,f)&255),s-=2,l+=2;while(s>=0&&l<f);s+=1,l+=3;do s>=0&&l<f&&!this.readMappingMatrix.get(l,s)&&(r[i++]=this.readUtah(s,l,u,f)&255),s+=2,l-=2;while(s<u&&l>=0);s+=3,l+=1}while(s<u||l<f);if(i!==this.version.getTotalCodewords())throw new H;return r}readModule(r,i,s,l){return r<0&&(r+=s,i+=4-(s+4&7)),i<0&&(i+=l,r+=4-(l+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,s,l){let u=0;return this.readModule(r-2,i-2,s,l)&&(u|=1),u<<=1,this.readModule(r-2,i-1,s,l)&&(u|=1),u<<=1,this.readModule(r-1,i-2,s,l)&&(u|=1),u<<=1,this.readModule(r-1,i-1,s,l)&&(u|=1),u<<=1,this.readModule(r-1,i,s,l)&&(u|=1),u<<=1,this.readModule(r,i-2,s,l)&&(u|=1),u<<=1,this.readModule(r,i-1,s,l)&&(u|=1),u<<=1,this.readModule(r,i,s,l)&&(u|=1),u}readCorner1(r,i){let s=0;return this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,1,r,i)&&(s|=1),s<<=1,this.readModule(r-1,2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(2,i-1,r,i)&&(s|=1),s<<=1,this.readModule(3,i-1,r,i)&&(s|=1),s}readCorner2(r,i){let s=0;return this.readModule(r-3,0,r,i)&&(s|=1),s<<=1,this.readModule(r-2,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(0,i-4,r,i)&&(s|=1),s<<=1,this.readModule(0,i-3,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s}readCorner3(r,i){let s=0;return this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(0,i-3,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-3,r,i)&&(s|=1),s<<=1,this.readModule(1,i-2,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s}readCorner4(r,i){let s=0;return this.readModule(r-3,0,r,i)&&(s|=1),s<<=1,this.readModule(r-2,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(2,i-1,r,i)&&(s|=1),s<<=1,this.readModule(3,i-1,r,i)&&(s|=1),s}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new y("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=i/l|0,d=s/u|0,g=f*l,m=d*u,w=new J(m,g);for(let S=0;S<f;++S){const N=S*l;for(let F=0;F<d;++F){const V=F*u;for(let G=0;G<l;++G){const K=S*(l+2)+1+G,te=N+G;for(let me=0;me<u;++me){const ve=F*(u+2)+1+me;if(r.get(ve,K)){const de=V+me;w.set(de,te)}}}}}return w}}class wr{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const s=i.getECBlocks();let l=0;const u=s.getECBlocks();for(let G of u)l+=G.getCount();const f=new Array(l);let d=0;for(let G of u)for(let K=0;K<G.getCount();K++){const te=G.getDataCodewords(),me=s.getECCodewords()+te;f[d++]=new wr(te,new Uint8Array(me))}const m=f[0].codewords.length-s.getECCodewords(),w=m-1;let S=0;for(let G=0;G<w;G++)for(let K=0;K<d;K++)f[K].codewords[G]=r[S++];const N=i.getVersionNumber()===24,F=N?8:d;for(let G=0;G<F;G++)f[G].codewords[m-1]=r[S++];const V=f[0].codewords.length;for(let G=m;G<V;G++)for(let K=0;K<d;K++){const te=N?(K+8)%d:K,me=N&&te>7?G-1:G;f[te].codewords[me]=r[S++]}if(S!==r.length)throw new y;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vn{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new y(""+r);let i=0,s=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(s>0){const f=8-s,d=r<f?r:f,g=f-d,m=255>>8-d<<g;i=(u[l]&m)>>g,r-=d,s+=d,s===8&&(s=0,l++)}if(r>0){for(;r>=8;)i=i<<8|u[l]&255,l++,r-=8;if(r>0){const f=8-r,d=255>>f<<f;i=i<<r|(u[l]&d)>>f,s+=r}}return this.bitOffset=s,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var It;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(It||(It={}));class Gr{static decode(r){const i=new vn(r),s=new ie,l=new ie,u=new Array;let f=It.ASCII_ENCODE;do if(f===It.ASCII_ENCODE)f=this.decodeAsciiSegment(i,s,l);else{switch(f){case It.C40_ENCODE:this.decodeC40Segment(i,s);break;case It.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case It.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case It.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case It.BASE256_ENCODE:this.decodeBase256Segment(i,s,u);break;default:throw new H}f=It.ASCII_ENCODE}while(f!==It.PAD_ENCODE&&i.available()>0);return l.length()>0&&s.append(l.toString()),new Jt(r,s.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,i,s){let l=!1;do{let u=r.readBits(8);if(u===0)throw new H;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),It.ASCII_ENCODE;if(u===129)return It.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&i.append("0"),i.append(""+f)}else switch(u){case 230:return It.C40_ENCODE;case 231:return It.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return It.ANSIX12_ENCODE;case 239:return It.TEXT_ENCODE;case 240:return It.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new H;break}}while(r.available()>0);return It.ASCII_ENCODE}static decodeC40Segment(r,i){let s=!1;const l=[];let u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),l);for(let d=0;d<3;d++){const g=l[d];switch(u){case 0:if(g<3)u=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else throw new H;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new H}u=0;break;case 3:s?(i.append(String.fromCharCode(g+224)),s=!1):i.append(String.fromCharCode(g+96)),u=0;break;default:throw new H}}}while(r.available()>0)}static decodeTextSegment(r,i){let s=!1,l=[],u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),l);for(let d=0;d<3;d++){const g=l[d];switch(u){case 0:if(g<3)u=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else throw new H;break;case 1:s?(i.append(String.fromCharCode(g+128)),s=!1):i.append(String.fromCharCode(g)),u=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else switch(g){case 27:i.append("");break;case 30:s=!0;break;default:throw new H}u=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[g];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m),u=0}else throw new H;break;default:throw new H}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const s=[];do{if(r.available()===8)return;const l=r.readBits(8);if(l===254)return;this.parseTwoBytes(l,r.readBits(8),s);for(let u=0;u<3;u++){const f=s[u];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new H;break}}}while(r.available()>0)}static parseTwoBytes(r,i,s){let l=(r<<8)+i-1,u=Math.floor(l/1600);s[0]=u,l-=u*1600,u=Math.floor(l/40),s[1]=u,s[2]=l-u*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let s=0;s<4;s++){let l=r.readBits(6);if(l===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(r.available()>0)}static decodeBase256Segment(r,i,s){let l=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),l++);let f;if(u===0?f=r.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(r.readBits(8),l++),f<0)throw new H;const d=new Uint8Array(f);for(let g=0;g<f;g++){if(r.available()<8)throw new H;d[g]=this.unrandomize255State(r.readBits(8),l++)}s.push(d);try{i.append(ce.decode(d,ne.ISO88591))}catch(g){throw new $t("Platform does not support required encoding: "+g.message)}}static unrandomize255State(r,i){const s=149*i%255+1,l=r-s;return l>=0?l:l+256}}Gr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Gr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Gr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Gr.TEXT_SHIFT2_SET_CHARS=Gr.C40_SHIFT2_SET_CHARS,Gr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Xs{constructor(){this.rsDecoder=new pt(be.DATA_MATRIX_FIELD_256)}decode(r){const i=new ht(r),s=i.getVersion(),l=i.readCodewords(),u=wr.getDataBlocks(l,s);let f=0;for(let m of u)f+=m.getNumDataCodewords();const d=new Uint8Array(f),g=u.length;for(let m=0;m<g;m++){const w=u[m],S=w.getCodewords(),N=w.getNumDataCodewords();this.correctErrors(S,N);for(let F=0;F<N;F++)d[F*g+m]=S[F]}return Gr.decode(d)}correctErrors(r,i){const s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-i)}catch{throw new A}for(let l=0;l<i;l++)r[l]=s[l]}}class Ft{constructor(r){this.image=r,this.rectangleDetector=new mt(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new X;i=this.shiftToModuleCenter(i);const s=i[0],l=i[1],u=i[2],f=i[3];let d=this.transitionsBetween(s,f)+1,g=this.transitionsBetween(u,f)+1;(d&1)===1&&(d+=1),(g&1)===1&&(g+=1),4*d<7*g&&4*g<7*d&&(d=g=Math.max(d,g));let m=Ft.sampleGrid(this.image,s,l,u,f,d,g);return new At(m,[s,l,u,f])}static shiftPoint(r,i,s){let l=(i.getX()-r.getX())/(s+1),u=(i.getY()-r.getY())/(s+1);return new Ie(r.getX()+l,r.getY()+u)}static moveAway(r,i,s){let l=r.getX(),u=r.getY();return l<i?l-=1:l+=1,u<s?u-=1:u+=1,new Ie(l,u)}detectSolid1(r){let i=r[0],s=r[1],l=r[3],u=r[2],f=this.transitionsBetween(i,s),d=this.transitionsBetween(s,l),g=this.transitionsBetween(l,u),m=this.transitionsBetween(u,i),w=f,S=[u,i,s,l];return w>d&&(w=d,S[0]=i,S[1]=s,S[2]=l,S[3]=u),w>g&&(w=g,S[0]=s,S[1]=l,S[2]=u,S[3]=i),w>m&&(S[0]=l,S[1]=u,S[2]=i,S[3]=s),S}detectSolid2(r){let i=r[0],s=r[1],l=r[2],u=r[3],f=this.transitionsBetween(i,u),d=Ft.shiftPoint(s,l,(f+1)*4),g=Ft.shiftPoint(l,s,(f+1)*4),m=this.transitionsBetween(d,i),w=this.transitionsBetween(g,u);return m<w?(r[0]=i,r[1]=s,r[2]=l,r[3]=u):(r[0]=s,r[1]=l,r[2]=u,r[3]=i),r}correctTopRight(r){let i=r[0],s=r[1],l=r[2],u=r[3],f=this.transitionsBetween(i,u),d=this.transitionsBetween(s,u),g=Ft.shiftPoint(i,s,(d+1)*4),m=Ft.shiftPoint(l,s,(f+1)*4);f=this.transitionsBetween(g,u),d=this.transitionsBetween(m,u);let w=new Ie(u.getX()+(l.getX()-s.getX())/(f+1),u.getY()+(l.getY()-s.getY())/(f+1)),S=new Ie(u.getX()+(i.getX()-s.getX())/(d+1),u.getY()+(i.getY()-s.getY())/(d+1));if(!this.isValid(w))return this.isValid(S)?S:null;if(!this.isValid(S))return w;let N=this.transitionsBetween(g,w)+this.transitionsBetween(m,w),F=this.transitionsBetween(g,S)+this.transitionsBetween(m,S);return N>F?w:S}shiftToModuleCenter(r){let i=r[0],s=r[1],l=r[2],u=r[3],f=this.transitionsBetween(i,u)+1,d=this.transitionsBetween(l,u)+1,g=Ft.shiftPoint(i,s,d*4),m=Ft.shiftPoint(l,s,f*4);f=this.transitionsBetween(g,u)+1,d=this.transitionsBetween(m,u)+1,(f&1)===1&&(f+=1),(d&1)===1&&(d+=1);let w=(i.getX()+s.getX()+l.getX()+u.getX())/4,S=(i.getY()+s.getY()+l.getY()+u.getY())/4;i=Ft.moveAway(i,w,S),s=Ft.moveAway(s,w,S),l=Ft.moveAway(l,w,S),u=Ft.moveAway(u,w,S);let N,F;return g=Ft.shiftPoint(i,s,d*4),g=Ft.shiftPoint(g,u,f*4),N=Ft.shiftPoint(s,i,d*4),N=Ft.shiftPoint(N,l,f*4),m=Ft.shiftPoint(l,u,d*4),m=Ft.shiftPoint(m,s,f*4),F=Ft.shiftPoint(u,l,d*4),F=Ft.shiftPoint(F,i,f*4),[g,N,m,F]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,s,l,u,f,d){return rr.getInstance().sampleGrid(r,f,d,.5,.5,f-.5,.5,f-.5,d-.5,.5,d-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),s.getX(),s.getY())}transitionsBetween(r,i){let s=Math.trunc(r.getX()),l=Math.trunc(r.getY()),u=Math.trunc(i.getX()),f=Math.trunc(i.getY()),d=Math.abs(f-l)>Math.abs(u-s);if(d){let G=s;s=l,l=G,G=u,u=f,f=G}let g=Math.abs(u-s),m=Math.abs(f-l),w=-g/2,S=l<f?1:-1,N=s<u?1:-1,F=0,V=this.image.get(d?l:s,d?s:l);for(let G=s,K=l;G!==u;G+=N){let te=this.image.get(d?K:G,d?G:K);if(te!==V&&(F++,V=te),w+=m,w>0){if(K===f)break;K+=S,w-=g}}return F}}class kr{constructor(){this.decoder=new Xs}decode(r,i=null){let s,l;if(i!=null&&i.has(B.PURE_BARCODE)){const m=kr.extractPureBits(r.getBlackMatrix());s=this.decoder.decode(m),l=kr.NO_POINTS}else{const m=new Ft(r.getBlackMatrix()).detect();s=this.decoder.decode(m.getBits()),l=m.getPoints()}const u=s.getRawBytes(),f=new De(s.getText(),u,8*u.length,l,we.DATA_MATRIX,D.currentTimeMillis()),d=s.getByteSegments();d!=null&&f.putMetadata(Ze.BYTE_SEGMENTS,d);const g=s.getECLevel();return g!=null&&f.putMetadata(Ze.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),s=r.getBottomRightOnBit();if(i==null||s==null)throw new X;const l=this.moduleSize(i,r);let u=i[1];const f=s[1];let d=i[0];const m=(s[0]-d+1)/l,w=(f-u+1)/l;if(m<=0||w<=0)throw new X;const S=l/2;u+=S,d+=S;const N=new J(m,w);for(let F=0;F<w;F++){const V=u+F*l;for(let G=0;G<m;G++)r.get(d+G*l,V)&&N.set(G,F)}return N}static moduleSize(r,i){const s=i.getWidth();let l=r[0];const u=r[1];for(;l<s&&i.get(l,u);)l++;if(l===s)throw new X;const f=l-r[0];if(f===0)throw new X;return f}}kr.NO_POINTS=[];class Ap extends nt{constructor(r=500){super(new kr,r)}}var ta;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(ta||(ta={}));class Tt{constructor(r,i,s){this.value=r,this.stringValue=i,this.bits=s,Tt.FOR_BITS.set(s,this),Tt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Tt.L;case"M":return Tt.M;case"Q":return Tt.Q;case"H":return Tt.H;default:throw new E(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Tt))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=Tt.FOR_BITS.size)throw new y;return Tt.FOR_BITS.get(r)}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.L=new Tt(ta.L,"L",1),Tt.M=new Tt(ta.M,"M",0),Tt.Q=new Tt(ta.Q,"Q",3),Tt.H=new Tt(ta.H,"H",2);class Er{constructor(r){this.errorCorrectionLevel=Tt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return b.bitCount(r^i)}static decodeFormatInformation(r,i){const s=Er.doDecodeFormatInformation(r,i);return s!==null?s:Er.doDecodeFormatInformation(r^Er.FORMAT_INFO_MASK_QR,i^Er.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let s=Number.MAX_SAFE_INTEGER,l=0;for(const u of Er.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===r||f===i)return new Er(u[1]);let d=Er.numBitsDiffering(r,f);d<s&&(l=u[1],s=d),r!==i&&(d=Er.numBitsDiffering(i,f),d<s&&(l=u[1],s=d))}return s<=3?new Er(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Er))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Er.FORMAT_INFO_MASK_QR=21522,Er.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const s of i)r+=s.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class P{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(r,i,...s){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=s;let l=0;const u=s[0].getECCodewordsPerBlock(),f=s[0].getECBlocks();for(const d of f)l+=d.getCount()*(d.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new H;try{return this.getVersionForNumber((r-17)/4)}catch{throw new H}}static getVersionForNumber(r){if(r<1||r>40)throw new y;return Le.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,s=0;for(let l=0;l<Le.VERSION_DECODE_INFO.length;l++){const u=Le.VERSION_DECODE_INFO[l];if(u===r)return Le.getVersionForNumber(l+7);const f=Er.numBitsDiffering(r,u);f<i&&(s=l+7,i=f)}return i<=3?Le.getVersionForNumber(s):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new J(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const s=this.alignmentPatternCenters.length;for(let l=0;l<s;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<s;f++)l===0&&(f===0||f===s-1)||l===s-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}Le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Le.VERSIONS=[new Le(1,new Int32Array(0),new q(7,new P(1,19)),new q(10,new P(1,16)),new q(13,new P(1,13)),new q(17,new P(1,9))),new Le(2,Int32Array.from([6,18]),new q(10,new P(1,34)),new q(16,new P(1,28)),new q(22,new P(1,22)),new q(28,new P(1,16))),new Le(3,Int32Array.from([6,22]),new q(15,new P(1,55)),new q(26,new P(1,44)),new q(18,new P(2,17)),new q(22,new P(2,13))),new Le(4,Int32Array.from([6,26]),new q(20,new P(1,80)),new q(18,new P(2,32)),new q(26,new P(2,24)),new q(16,new P(4,9))),new Le(5,Int32Array.from([6,30]),new q(26,new P(1,108)),new q(24,new P(2,43)),new q(18,new P(2,15),new P(2,16)),new q(22,new P(2,11),new P(2,12))),new Le(6,Int32Array.from([6,34]),new q(18,new P(2,68)),new q(16,new P(4,27)),new q(24,new P(4,19)),new q(28,new P(4,15))),new Le(7,Int32Array.from([6,22,38]),new q(20,new P(2,78)),new q(18,new P(4,31)),new q(18,new P(2,14),new P(4,15)),new q(26,new P(4,13),new P(1,14))),new Le(8,Int32Array.from([6,24,42]),new q(24,new P(2,97)),new q(22,new P(2,38),new P(2,39)),new q(22,new P(4,18),new P(2,19)),new q(26,new P(4,14),new P(2,15))),new Le(9,Int32Array.from([6,26,46]),new q(30,new P(2,116)),new q(22,new P(3,36),new P(2,37)),new q(20,new P(4,16),new P(4,17)),new q(24,new P(4,12),new P(4,13))),new Le(10,Int32Array.from([6,28,50]),new q(18,new P(2,68),new P(2,69)),new q(26,new P(4,43),new P(1,44)),new q(24,new P(6,19),new P(2,20)),new q(28,new P(6,15),new P(2,16))),new Le(11,Int32Array.from([6,30,54]),new q(20,new P(4,81)),new q(30,new P(1,50),new P(4,51)),new q(28,new P(4,22),new P(4,23)),new q(24,new P(3,12),new P(8,13))),new Le(12,Int32Array.from([6,32,58]),new q(24,new P(2,92),new P(2,93)),new q(22,new P(6,36),new P(2,37)),new q(26,new P(4,20),new P(6,21)),new q(28,new P(7,14),new P(4,15))),new Le(13,Int32Array.from([6,34,62]),new q(26,new P(4,107)),new q(22,new P(8,37),new P(1,38)),new q(24,new P(8,20),new P(4,21)),new q(22,new P(12,11),new P(4,12))),new Le(14,Int32Array.from([6,26,46,66]),new q(30,new P(3,115),new P(1,116)),new q(24,new P(4,40),new P(5,41)),new q(20,new P(11,16),new P(5,17)),new q(24,new P(11,12),new P(5,13))),new Le(15,Int32Array.from([6,26,48,70]),new q(22,new P(5,87),new P(1,88)),new q(24,new P(5,41),new P(5,42)),new q(30,new P(5,24),new P(7,25)),new q(24,new P(11,12),new P(7,13))),new Le(16,Int32Array.from([6,26,50,74]),new q(24,new P(5,98),new P(1,99)),new q(28,new P(7,45),new P(3,46)),new q(24,new P(15,19),new P(2,20)),new q(30,new P(3,15),new P(13,16))),new Le(17,Int32Array.from([6,30,54,78]),new q(28,new P(1,107),new P(5,108)),new q(28,new P(10,46),new P(1,47)),new q(28,new P(1,22),new P(15,23)),new q(28,new P(2,14),new P(17,15))),new Le(18,Int32Array.from([6,30,56,82]),new q(30,new P(5,120),new P(1,121)),new q(26,new P(9,43),new P(4,44)),new q(28,new P(17,22),new P(1,23)),new q(28,new P(2,14),new P(19,15))),new Le(19,Int32Array.from([6,30,58,86]),new q(28,new P(3,113),new P(4,114)),new q(26,new P(3,44),new P(11,45)),new q(26,new P(17,21),new P(4,22)),new q(26,new P(9,13),new P(16,14))),new Le(20,Int32Array.from([6,34,62,90]),new q(28,new P(3,107),new P(5,108)),new q(26,new P(3,41),new P(13,42)),new q(30,new P(15,24),new P(5,25)),new q(28,new P(15,15),new P(10,16))),new Le(21,Int32Array.from([6,28,50,72,94]),new q(28,new P(4,116),new P(4,117)),new q(26,new P(17,42)),new q(28,new P(17,22),new P(6,23)),new q(30,new P(19,16),new P(6,17))),new Le(22,Int32Array.from([6,26,50,74,98]),new q(28,new P(2,111),new P(7,112)),new q(28,new P(17,46)),new q(30,new P(7,24),new P(16,25)),new q(24,new P(34,13))),new Le(23,Int32Array.from([6,30,54,78,102]),new q(30,new P(4,121),new P(5,122)),new q(28,new P(4,47),new P(14,48)),new q(30,new P(11,24),new P(14,25)),new q(30,new P(16,15),new P(14,16))),new Le(24,Int32Array.from([6,28,54,80,106]),new q(30,new P(6,117),new P(4,118)),new q(28,new P(6,45),new P(14,46)),new q(30,new P(11,24),new P(16,25)),new q(30,new P(30,16),new P(2,17))),new Le(25,Int32Array.from([6,32,58,84,110]),new q(26,new P(8,106),new P(4,107)),new q(28,new P(8,47),new P(13,48)),new q(30,new P(7,24),new P(22,25)),new q(30,new P(22,15),new P(13,16))),new Le(26,Int32Array.from([6,30,58,86,114]),new q(28,new P(10,114),new P(2,115)),new q(28,new P(19,46),new P(4,47)),new q(28,new P(28,22),new P(6,23)),new q(30,new P(33,16),new P(4,17))),new Le(27,Int32Array.from([6,34,62,90,118]),new q(30,new P(8,122),new P(4,123)),new q(28,new P(22,45),new P(3,46)),new q(30,new P(8,23),new P(26,24)),new q(30,new P(12,15),new P(28,16))),new Le(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new P(3,117),new P(10,118)),new q(28,new P(3,45),new P(23,46)),new q(30,new P(4,24),new P(31,25)),new q(30,new P(11,15),new P(31,16))),new Le(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new P(7,116),new P(7,117)),new q(28,new P(21,45),new P(7,46)),new q(30,new P(1,23),new P(37,24)),new q(30,new P(19,15),new P(26,16))),new Le(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new P(5,115),new P(10,116)),new q(28,new P(19,47),new P(10,48)),new q(30,new P(15,24),new P(25,25)),new q(30,new P(23,15),new P(25,16))),new Le(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new P(13,115),new P(3,116)),new q(28,new P(2,46),new P(29,47)),new q(30,new P(42,24),new P(1,25)),new q(30,new P(23,15),new P(28,16))),new Le(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new P(17,115)),new q(28,new P(10,46),new P(23,47)),new q(30,new P(10,24),new P(35,25)),new q(30,new P(19,15),new P(35,16))),new Le(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new P(17,115),new P(1,116)),new q(28,new P(14,46),new P(21,47)),new q(30,new P(29,24),new P(19,25)),new q(30,new P(11,15),new P(46,16))),new Le(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new P(13,115),new P(6,116)),new q(28,new P(14,46),new P(23,47)),new q(30,new P(44,24),new P(7,25)),new q(30,new P(59,16),new P(1,17))),new Le(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new P(12,121),new P(7,122)),new q(28,new P(12,47),new P(26,48)),new q(30,new P(39,24),new P(14,25)),new q(30,new P(22,15),new P(41,16))),new Le(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new P(6,121),new P(14,122)),new q(28,new P(6,47),new P(34,48)),new q(30,new P(46,24),new P(10,25)),new q(30,new P(2,15),new P(64,16))),new Le(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new P(17,122),new P(4,123)),new q(28,new P(29,46),new P(14,47)),new q(30,new P(49,24),new P(10,25)),new q(30,new P(24,15),new P(46,16))),new Le(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new P(4,122),new P(18,123)),new q(28,new P(13,46),new P(32,47)),new q(30,new P(48,24),new P(14,25)),new q(30,new P(42,15),new P(32,16))),new Le(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new P(20,117),new P(4,118)),new q(28,new P(40,47),new P(7,48)),new q(30,new P(43,24),new P(22,25)),new q(30,new P(10,15),new P(67,16))),new Le(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new P(19,118),new P(6,119)),new q(28,new P(18,47),new P(31,48)),new q(30,new P(34,24),new P(34,25)),new q(30,new P(20,15),new P(61,16)))];var lr;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(lr||(lr={}));class sn{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let s=0;s<i;s++)for(let l=0;l<i;l++)this.isMasked(s,l)&&r.flip(l,s)}}sn.values=new Map([[lr.DATA_MASK_000,new sn(lr.DATA_MASK_000,(C,r)=>(C+r&1)===0)],[lr.DATA_MASK_001,new sn(lr.DATA_MASK_001,(C,r)=>(C&1)===0)],[lr.DATA_MASK_010,new sn(lr.DATA_MASK_010,(C,r)=>r%3===0)],[lr.DATA_MASK_011,new sn(lr.DATA_MASK_011,(C,r)=>(C+r)%3===0)],[lr.DATA_MASK_100,new sn(lr.DATA_MASK_100,(C,r)=>(Math.floor(C/2)+Math.floor(r/3)&1)===0)],[lr.DATA_MASK_101,new sn(lr.DATA_MASK_101,(C,r)=>C*r%6===0)],[lr.DATA_MASK_110,new sn(lr.DATA_MASK_110,(C,r)=>C*r%6<3)],[lr.DATA_MASK_111,new sn(lr.DATA_MASK_111,(C,r)=>(C+r+C*r%3&1)===0)]]);class Ip{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new H;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const i=this.bitMatrix.getHeight();let s=0;const l=i-7;for(let u=i-1;u>=l;u--)s=this.copyBit(8,u,s);for(let u=i-8;u<i;u++)s=this.copyBit(u,8,s);if(this.parsedFormatInfo=Er.decodeFormatInformation(r,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return Le.getVersionForNumber(i);let s=0;const l=r-11;for(let f=5;f>=0;f--)for(let d=r-9;d>=l;d--)s=this.copyBit(d,f,s);let u=Le.decodeVersionInformation(s);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;s=0;for(let f=5;f>=0;f--)for(let d=r-9;d>=l;d--)s=this.copyBit(f,d,s);if(u=Le.decodeVersionInformation(s),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new H}copyBit(r,i,s){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?s<<1|1:s<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),s=sn.values.get(r.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let f=!0;const d=new Uint8Array(i.getTotalCodewords());let g=0,m=0,w=0;for(let S=l-1;S>0;S-=2){S===6&&S--;for(let N=0;N<l;N++){const F=f?l-1-N:N;for(let V=0;V<2;V++)u.get(S-V,F)||(w++,m<<=1,this.bitMatrix.get(S-V,F)&&(m|=1),w===8&&(d[g++]=m,w=0,m=0))}f=!f}if(g!==i.getTotalCodewords())throw new H;return d}remask(){if(this.parsedFormatInfo===null)return;const r=sn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,s=r.getWidth();i<s;i++)for(let l=i+1,u=r.getHeight();l<u;l++)r.get(i,l)!==r.get(l,i)&&(r.flip(l,i),r.flip(i,l))}}class zl{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,s){if(r.length!==i.getTotalCodewords())throw new y;const l=i.getECBlocksForLevel(s);let u=0;const f=l.getECBlocks();for(const V of f)u+=V.getCount();const d=new Array(u);let g=0;for(const V of f)for(let G=0;G<V.getCount();G++){const K=V.getDataCodewords(),te=l.getECCodewordsPerBlock()+K;d[g++]=new zl(K,new Uint8Array(te))}const m=d[0].codewords.length;let w=d.length-1;for(;w>=0&&d[w].codewords.length!==m;)w--;w++;const S=m-l.getECCodewordsPerBlock();let N=0;for(let V=0;V<S;V++)for(let G=0;G<g;G++)d[G].codewords[V]=r[N++];for(let V=w;V<g;V++)d[V].codewords[S]=r[N++];const F=d[0].codewords.length;for(let V=S;V<F;V++)for(let G=0;G<g;G++){const K=G<w?V:V+1;d[G].codewords[K]=r[N++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var on;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(on||(on={}));class ze{constructor(r,i,s,l){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=l,ze.FOR_BITS.set(l,this),ze.FOR_VALUE.set(r,this)}static forBits(r){const i=ze.FOR_BITS.get(r);if(i===void 0)throw new y;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof ze))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.TERMINATOR=new ze(on.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ze.NUMERIC=new ze(on.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ze.ALPHANUMERIC=new ze(on.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ze.STRUCTURED_APPEND=new ze(on.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ze.BYTE=new ze(on.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ze.ECI=new ze(on.ECI,"ECI",Int32Array.from([0,0,0]),7),ze.KANJI=new ze(on.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ze.FNC1_FIRST_POSITION=new ze(on.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ze.FNC1_SECOND_POSITION=new ze(on.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ze.HANZI=new ze(on.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class jt{static decode(r,i,s,l){const u=new vn(r);let f=new ie;const d=new Array;let g=-1,m=-1;try{let w=null,S=!1,N;do{if(u.available()<4)N=ze.TERMINATOR;else{const F=u.readBits(4);N=ze.forBits(F)}switch(N){case ze.TERMINATOR:break;case ze.FNC1_FIRST_POSITION:case ze.FNC1_SECOND_POSITION:S=!0;break;case ze.STRUCTURED_APPEND:if(u.available()<16)throw new H;g=u.readBits(8),m=u.readBits(8);break;case ze.ECI:const F=jt.parseECIValue(u);if(w=z.getCharacterSetECIByValue(F),w===null)throw new H;break;case ze.HANZI:const V=u.readBits(4),G=u.readBits(N.getCharacterCountBits(i));V===jt.GB2312_SUBSET&&jt.decodeHanziSegment(u,f,G);break;default:const K=u.readBits(N.getCharacterCountBits(i));switch(N){case ze.NUMERIC:jt.decodeNumericSegment(u,f,K);break;case ze.ALPHANUMERIC:jt.decodeAlphanumericSegment(u,f,K,S);break;case ze.BYTE:jt.decodeByteSegment(u,f,K,w,d,l);break;case ze.KANJI:jt.decodeKanjiSegment(u,f,K);break;default:throw new H}break}}while(N!==ze.TERMINATOR)}catch{throw new H}return new Jt(r,f.toString(),d.length===0?null:d,s===null?null:s.toString(),g,m)}static decodeHanziSegment(r,i,s){if(s*13>r.available())throw new H;const l=new Uint8Array(2*s);let u=0;for(;s>0;){const f=r.readBits(13);let d=f/96<<8&4294967295|f%96;d<959?d+=41377:d+=42657,l[u]=d>>8&255,l[u+1]=d&255,u+=2,s--}try{i.append(ce.decode(l,ne.GB2312))}catch(f){throw new H(f)}}static decodeKanjiSegment(r,i,s){if(s*13>r.available())throw new H;const l=new Uint8Array(2*s);let u=0;for(;s>0;){const f=r.readBits(13);let d=f/192<<8&4294967295|f%192;d<7936?d+=33088:d+=49472,l[u]=d>>8,l[u+1]=d,u+=2,s--}try{i.append(ce.decode(l,ne.SHIFT_JIS))}catch(f){throw new H(f)}}static decodeByteSegment(r,i,s,l,u,f){if(8*s>r.available())throw new H;const d=new Uint8Array(s);for(let m=0;m<s;m++)d[m]=r.readBits(8);let g;l===null?g=ne.guessEncoding(d,f):g=l.getName();try{i.append(ce.decode(d,g))}catch(m){throw new H(m)}u.push(d)}static toAlphaNumericChar(r){if(r>=jt.ALPHANUMERIC_CHARS.length)throw new H;return jt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,s,l){const u=i.length();for(;s>1;){if(r.available()<11)throw new H;const f=r.readBits(11);i.append(jt.toAlphaNumericChar(Math.floor(f/45))),i.append(jt.toAlphaNumericChar(f%45)),s-=2}if(s===1){if(r.available()<6)throw new H;i.append(jt.toAlphaNumericChar(r.readBits(6)))}if(l)for(let f=u;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,""))}static decodeNumericSegment(r,i,s){for(;s>=3;){if(r.available()<10)throw new H;const l=r.readBits(10);if(l>=1e3)throw new H;i.append(jt.toAlphaNumericChar(Math.floor(l/100))),i.append(jt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(jt.toAlphaNumericChar(l%10)),s-=3}if(s===2){if(r.available()<7)throw new H;const l=r.readBits(7);if(l>=100)throw new H;i.append(jt.toAlphaNumericChar(Math.floor(l/10))),i.append(jt.toAlphaNumericChar(l%10))}else if(s===1){if(r.available()<4)throw new H;const l=r.readBits(4);if(l>=10)throw new H;i.append(jt.toAlphaNumericChar(l))}}static parseECIValue(r){const i=r.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const s=r.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=r.readBits(16);return(i&31)<<16&4294967295|s}throw new H}}jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",jt.GB2312_SUBSET=1;class Xf{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class Tp{constructor(){this.rsDecoder=new pt(be.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(J.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const s=new Ip(r);let l=null;try{return this.decodeBitMatrixParser(s,i)}catch(u){l=u}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const u=this.decodeBitMatrixParser(s,i);return u.setOther(new Xf(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(r,i){const s=r.readVersion(),l=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),f=zl.getDataBlocks(u,s,l);let d=0;for(const w of f)d+=w.getNumDataCodewords();const g=new Uint8Array(d);let m=0;for(const w of f){const S=w.getCodewords(),N=w.getNumDataCodewords();this.correctErrors(S,N);for(let F=0;F<N;F++)g[m++]=S[F]}return jt.decode(g,s,l,i)}correctErrors(r,i){const s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-i)}catch{throw new A}for(let l=0;l<i;l++)r[l]=s[l]}}class Vl extends Ie{constructor(r,i,s){super(r,i),this.estimatedModuleSize=s}aboutEquals(r,i,s){if(Math.abs(i-this.getY())<=r&&Math.abs(s-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,s){const l=(this.getX()+i)/2,u=(this.getY()+r)/2,f=(this.estimatedModuleSize+s)/2;return new Vl(l,u,f)}}class Qs{constructor(r,i,s,l,u,f,d){this.image=r,this.startX=i,this.startY=s,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,s=this.width,l=r+s,u=this.startY+i/2,f=new Int32Array(3),d=this.image;for(let g=0;g<i;g++){const m=u+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;let w=r;for(;w<l&&!d.get(w,m);)w++;let S=0;for(;w<l;){if(d.get(w,m))if(S===1)f[1]++;else if(S===2){if(this.foundPatternCross(f)){const N=this.handlePossibleCenter(f,m,w);if(N!==null)return N}f[0]=f[2],f[1]=1,f[2]=0,S=1}else f[++S]++;else S===1&&S++,f[S]++;w++}if(this.foundPatternCross(f)){const N=this.handlePossibleCenter(f,m,l);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,s=i/2;for(let l=0;l<3;l++)if(Math.abs(i-r[l])>=s)return!1;return!0}crossCheckVertical(r,i,s,l){const u=this.image,f=u.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let g=r;for(;g>=0&&u.get(i,g)&&d[1]<=s;)d[1]++,g--;if(g<0||d[1]>s)return NaN;for(;g>=0&&!u.get(i,g)&&d[0]<=s;)d[0]++,g--;if(d[0]>s)return NaN;for(g=r+1;g<f&&u.get(i,g)&&d[1]<=s;)d[1]++,g++;if(g===f||d[1]>s)return NaN;for(;g<f&&!u.get(i,g)&&d[2]<=s;)d[2]++,g++;if(d[2]>s)return NaN;const m=d[0]+d[1]+d[2];return 5*Math.abs(m-l)>=2*l?NaN:this.foundPatternCross(d)?Qs.centerFromEnd(d,g):NaN}handlePossibleCenter(r,i,s){const l=r[0]+r[1]+r[2],u=Qs.centerFromEnd(r,s),f=this.crossCheckVertical(i,u,2*r[1],l);if(!isNaN(f)){const d=(r[0]+r[1]+r[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(d,f,u))return m.combineEstimate(f,u,d);const g=new Vl(u,f,d);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Hl extends Ie{constructor(r,i,s,l){super(r,i),this.estimatedModuleSize=s,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,s){if(Math.abs(i-this.getY())<=r&&Math.abs(s-this.getX())<=r){const l=Math.abs(r-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(r,i,s){const l=this.count+1,u=(this.count*this.getX()+i)/l,f=(this.count*this.getY()+r)/l,d=(this.count*this.estimatedModuleSize+s)/l;return new Hl(u,f,d,l)}}class _p{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ur{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(B.TRY_HARDER)!==void 0,s=r!=null&&r.get(B.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let d=Math.floor(3*u/(4*ur.MAX_MODULES));(d<ur.MIN_SKIP||i)&&(d=ur.MIN_SKIP);let g=!1;const m=new Int32Array(5);for(let S=d-1;S<u&&!g;S+=d){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let N=0;for(let F=0;F<f;F++)if(l.get(F,S))(N&1)===1&&N++,m[N]++;else if(N&1)m[N]++;else if(N===4)if(ur.foundPatternCross(m)){if(this.handlePossibleCenter(m,S,F,s)===!0)if(d=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const G=this.findRowSkip();G>m[2]&&(S+=G-m[2]-d,F=f-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,N=3;continue}N=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,N=3;else m[++N]++;ur.foundPatternCross(m)&&this.handlePossibleCenter(m,S,f,s)===!0&&(d=m[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Ie.orderBestPatterns(w),new _p(w)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let u=0;u<5;u++){const f=r[u];if(f===0)return!1;i+=f}if(i<7)return!1;const s=i/7,l=s/2;return Math.abs(s-r[0])<l&&Math.abs(s-r[1])<l&&Math.abs(3*s-r[2])<3*l&&Math.abs(s-r[3])<l&&Math.abs(s-r[4])<l}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,s,l){const u=this.getCrossCheckStateCount();let f=0;const d=this.image;for(;r>=f&&i>=f&&d.get(i-f,r-f);)u[2]++,f++;if(r<f||i<f)return!1;for(;r>=f&&i>=f&&!d.get(i-f,r-f)&&u[1]<=s;)u[1]++,f++;if(r<f||i<f||u[1]>s)return!1;for(;r>=f&&i>=f&&d.get(i-f,r-f)&&u[0]<=s;)u[0]++,f++;if(u[0]>s)return!1;const g=d.getHeight(),m=d.getWidth();for(f=1;r+f<g&&i+f<m&&d.get(i+f,r+f);)u[2]++,f++;if(r+f>=g||i+f>=m)return!1;for(;r+f<g&&i+f<m&&!d.get(i+f,r+f)&&u[3]<s;)u[3]++,f++;if(r+f>=g||i+f>=m||u[3]>=s)return!1;for(;r+f<g&&i+f<m&&d.get(i+f,r+f)&&u[4]<s;)u[4]++,f++;if(u[4]>=s)return!1;const w=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(w-l)<2*l&&ur.foundPatternCross(u)}crossCheckVertical(r,i,s,l){const u=this.image,f=u.getHeight(),d=this.getCrossCheckStateCount();let g=r;for(;g>=0&&u.get(i,g);)d[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(i,g)&&d[1]<=s;)d[1]++,g--;if(g<0||d[1]>s)return NaN;for(;g>=0&&u.get(i,g)&&d[0]<=s;)d[0]++,g--;if(d[0]>s)return NaN;for(g=r+1;g<f&&u.get(i,g);)d[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(i,g)&&d[3]<s;)d[3]++,g++;if(g===f||d[3]>=s)return NaN;for(;g<f&&u.get(i,g)&&d[4]<s;)d[4]++,g++;if(d[4]>=s)return NaN;const m=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(m-l)>=2*l?NaN:ur.foundPatternCross(d)?ur.centerFromEnd(d,g):NaN}crossCheckHorizontal(r,i,s,l){const u=this.image,f=u.getWidth(),d=this.getCrossCheckStateCount();let g=r;for(;g>=0&&u.get(g,i);)d[2]++,g--;if(g<0)return NaN;for(;g>=0&&!u.get(g,i)&&d[1]<=s;)d[1]++,g--;if(g<0||d[1]>s)return NaN;for(;g>=0&&u.get(g,i)&&d[0]<=s;)d[0]++,g--;if(d[0]>s)return NaN;for(g=r+1;g<f&&u.get(g,i);)d[2]++,g++;if(g===f)return NaN;for(;g<f&&!u.get(g,i)&&d[3]<s;)d[3]++,g++;if(g===f||d[3]>=s)return NaN;for(;g<f&&u.get(g,i)&&d[4]<s;)d[4]++,g++;if(d[4]>=s)return NaN;const m=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(m-l)>=l?NaN:ur.foundPatternCross(d)?ur.centerFromEnd(d,g):NaN}handlePossibleCenter(r,i,s,l){const u=r[0]+r[1]+r[2]+r[3]+r[4];let f=ur.centerFromEnd(r,s),d=this.crossCheckVertical(i,Math.floor(f),r[2],u);if(!isNaN(d)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(d),r[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(d),Math.floor(f),r[2],u)))){const g=u/7;let m=!1;const w=this.possibleCenters;for(let S=0,N=w.length;S<N;S++){const F=w[S];if(F.aboutEquals(g,d,f)){w[S]=F.combineEstimate(d,f,g),m=!0;break}}if(!m){const S=new Hl(f,d,g);w.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=ur.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const s=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=ur.CENTER_QUORUM&&(r++,i+=f.getEstimatedModuleSize());if(r<3)return!1;const l=i/s;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new X;const i=this.possibleCenters;let s;if(r>3){let l=0,u=0;for(const g of this.possibleCenters){const m=g.getEstimatedModuleSize();l+=m,u+=m*m}s=l/r;let f=Math.sqrt(u/r-s*s);i.sort((g,m)=>{const w=Math.abs(m.getEstimatedModuleSize()-s),S=Math.abs(g.getEstimatedModuleSize()-s);return w<S?-1:w>S?1:0});const d=Math.max(.2*s,f);for(let g=0;g<i.length&&i.length>3;g++){const m=i[g];Math.abs(m.getEstimatedModuleSize()-s)>d&&(i.splice(g,1),g--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();s=l/i.length,i.sort((u,f)=>{if(f.getCount()===u.getCount()){const d=Math.abs(f.getEstimatedModuleSize()-s),g=Math.abs(u.getEstimatedModuleSize()-s);return d<g?1:d>g?-1:0}else return f.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}ur.CENTER_QUORUM=2,ur.MIN_SKIP=3,ur.MAX_MODULES=57;class za{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(B.NEED_RESULT_POINT_CALLBACK);const s=new ur(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(s)}processFinderPatternInfo(r){const i=r.getTopLeft(),s=r.getTopRight(),l=r.getBottomLeft(),u=this.calculateModuleSize(i,s,l);if(u<1)throw new X("No pattern found in proccess finder.");const f=za.computeDimension(i,s,l,u),d=Le.getProvisionalVersionForDimension(f),g=d.getDimensionForVersion()-7;let m=null;if(d.getAlignmentPatternCenters().length>0){const F=s.getX()-i.getX()+l.getX(),V=s.getY()-i.getY()+l.getY(),G=1-3/g,K=Math.floor(i.getX()+G*(F-i.getX())),te=Math.floor(i.getY()+G*(V-i.getY()));for(let me=4;me<=16;me<<=1)try{m=this.findAlignmentInRegion(u,K,te,me);break}catch(ve){if(!(ve instanceof X))throw ve}}const w=za.createTransform(i,s,l,m,f),S=za.sampleGrid(this.image,w,f);let N;return m===null?N=[l,i,s]:N=[l,i,s,m],new At(S,N)}static createTransform(r,i,s,l,u){const f=u-3.5;let d,g,m,w;return l!==null?(d=l.getX(),g=l.getY(),m=f-3,w=m):(d=i.getX()-r.getX()+s.getX(),g=i.getY()-r.getY()+s.getY(),m=f,w=f),or.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,m,w,3.5,f,r.getX(),r.getY(),i.getX(),i.getY(),d,g,s.getX(),s.getY())}static sampleGrid(r,i,s){return rr.getInstance().sampleGridWithTransform(r,s,s,i)}static computeDimension(r,i,s,l){const u=Be.round(Ie.distance(r,i)/l),f=Be.round(Ie.distance(r,s)/l);let d=Math.floor((u+f)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new X("Dimensions could be not found.")}return d}calculateModuleSize(r,i,s){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,s))/2}calculateModuleSizeOneWay(r,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,s,l){let u=this.sizeOfBlackWhiteBlackRun(r,i,s,l),f=1,d=r-(s-r);d<0?(f=r/(r-d),d=0):d>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(d-r),d=this.image.getWidth()-1);let g=Math.floor(i-(l-i)*f);return f=1,g<0?(f=i/(i-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),d=Math.floor(r+(d-r)*f),u+=this.sizeOfBlackWhiteBlackRun(r,i,d,g),u-1}sizeOfBlackWhiteBlackRun(r,i,s,l){const u=Math.abs(l-i)>Math.abs(s-r);if(u){let F=r;r=i,i=F,F=s,s=l,l=F}const f=Math.abs(s-r),d=Math.abs(l-i);let g=-f/2;const m=r<s?1:-1,w=i<l?1:-1;let S=0;const N=s+m;for(let F=r,V=i;F!==N;F+=m){const G=u?V:F,K=u?F:V;if(S===1===this.image.get(G,K)){if(S===2)return Be.distance(F,V,r,i);S++}if(g+=d,g>0){if(V===l)break;V+=w,g-=f}}return S===2?Be.distance(s+m,l,r,i):NaN}findAlignmentInRegion(r,i,s,l){const u=Math.floor(l*r),f=Math.max(0,i-u),d=Math.min(this.image.getWidth()-1,i+u);if(d-f<r*3)throw new X("Alignment top exceeds estimated module size.");const g=Math.max(0,s-u),m=Math.min(this.image.getHeight()-1,s+u);if(m-g<r*3)throw new X("Alignment bottom exceeds estimated module size.");return new Qs(this.image,f,g,d-f,m-g,r,this.resultPointCallback).find()}}class Jn{constructor(){this.decoder=new Tp}getDecoder(){return this.decoder}decode(r,i){let s,l;if(i!=null&&i.get(B.PURE_BARCODE)!==void 0){const g=Jn.extractPureBits(r.getBlackMatrix());s=this.decoder.decodeBitMatrix(g,i),l=Jn.NO_POINTS}else{const g=new za(r.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(g.getBits(),i),l=g.getPoints()}s.getOther()instanceof Xf&&s.getOther().applyMirroredCorrection(l);const u=new De(s.getText(),s.getRawBytes(),void 0,l,we.QR_CODE,void 0),f=s.getByteSegments();f!==null&&u.putMetadata(Ze.BYTE_SEGMENTS,f);const d=s.getECLevel();return d!==null&&u.putMetadata(Ze.ERROR_CORRECTION_LEVEL,d),s.hasStructuredAppend()&&(u.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),u.putMetadata(Ze.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),s=r.getBottomRightOnBit();if(i===null||s===null)throw new X;const l=this.moduleSize(i,r);let u=i[1],f=s[1],d=i[0],g=s[0];if(d>=g||u>=f)throw new X;if(f-u!==g-d&&(g=d+(f-u),g>=r.getWidth()))throw new X;const m=Math.round((g-d+1)/l),w=Math.round((f-u+1)/l);if(m<=0||w<=0)throw new X;if(w!==m)throw new X;const S=Math.floor(l/2);u+=S,d+=S;const N=d+Math.floor((m-1)*l)-g;if(N>0){if(N>S)throw new X;d-=N}const F=u+Math.floor((w-1)*l)-f;if(F>0){if(F>S)throw new X;u-=F}const V=new J(m,w);for(let G=0;G<w;G++){const K=u+Math.floor(G*l);for(let te=0;te<m;te++)r.get(d+Math.floor(te*l),K)&&V.set(te,G)}return V}static moduleSize(r,i){const s=i.getHeight(),l=i.getWidth();let u=r[0],f=r[1],d=!0,g=0;for(;u<l&&f<s;){if(d!==i.get(u,f)){if(++g===5)break;d=!d}u++,f++}if(u===l||f===s)throw new X;return(u-r[0])/7}}Jn.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(r){return Be.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ge.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let s=0;for(const l of r)i[s++]=l;return i}static getCodeword(r){const i=R.binarySearch(Ge.SYMBOL_TABLE,r&262143);return i<0?-1:(Ge.CODEWORD_TABLE[i]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Np{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Qe{static detectMultiple(r,i,s){let l=r.getBlackMatrix(),u=Qe.detect(s,l);return u.length||(l=l.clone(),l.rotate180(),u=Qe.detect(s,l)),new Np(l,u)}static detect(r,i){const s=new Array;let l=0,u=0,f=!1;for(;l<i.getHeight();){const d=Qe.findVertices(i,l,u);if(d[0]==null&&d[3]==null){if(!f)break;f=!1,u=0;for(const g of s)g[1]!=null&&(l=Math.trunc(Math.max(l,g[1].getY()))),g[3]!=null&&(l=Math.max(l,Math.trunc(g[3].getY())));l+=Qe.ROW_STEP;continue}if(f=!0,s.push(d),!r)break;d[2]!=null?(u=Math.trunc(d[2].getX()),l=Math.trunc(d[2].getY())):(u=Math.trunc(d[4].getX()),l=Math.trunc(d[4].getY()))}return s}static findVertices(r,i,s){const l=r.getHeight(),u=r.getWidth(),f=new Array(8);return Qe.copyToResult(f,Qe.findRowsWithPattern(r,l,u,i,s,Qe.START_PATTERN),Qe.INDEXES_START_PATTERN),f[4]!=null&&(s=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),Qe.copyToResult(f,Qe.findRowsWithPattern(r,l,u,i,s,Qe.STOP_PATTERN),Qe.INDEXES_STOP_PATTERN),f}static copyToResult(r,i,s){for(let l=0;l<s.length;l++)r[s[l]]=i[l]}static findRowsWithPattern(r,i,s,l,u,f){const d=new Array(4);let g=!1;const m=new Int32Array(f.length);for(;l<i;l+=Qe.ROW_STEP){let S=Qe.findGuardPattern(r,u,l,s,!1,f,m);if(S!=null){for(;l>0;){const N=Qe.findGuardPattern(r,u,--l,s,!1,f,m);if(N!=null)S=N;else{l++;break}}d[0]=new Ie(S[0],l),d[1]=new Ie(S[1],l),g=!0;break}}let w=l+1;if(g){let S=0,N=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;w<i;w++){const F=Qe.findGuardPattern(r,N[0],w,s,!1,f,m);if(F!=null&&Math.abs(N[0]-F[0])<Qe.MAX_PATTERN_DRIFT&&Math.abs(N[1]-F[1])<Qe.MAX_PATTERN_DRIFT)N=F,S=0;else{if(S>Qe.SKIPPED_ROW_COUNT_MAX)break;S++}}w-=S+1,d[2]=new Ie(N[0],w),d[3]=new Ie(N[1],w)}return w-l<Qe.BARCODE_MIN_HEIGHT&&R.fill(d,null),d}static findGuardPattern(r,i,s,l,u,f,d){R.fillWithin(d,0,d.length,0);let g=i,m=0;for(;r.get(g,s)&&g>0&&m++<Qe.MAX_PIXEL_DRIFT;)g--;let w=g,S=0,N=f.length;for(let F=u;w<l;w++)if(r.get(w,s)!==F)d[S]++;else{if(S===N-1){if(Qe.patternMatchVariance(d,f,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return new Int32Array([g,w]);g+=d[0]+d[1],D.arraycopy(d,2,d,0,S-1),d[S-1]=0,d[S]=0,S--}else S++;d[S]=1,F=!F}return S===N-1&&Qe.patternMatchVariance(d,f,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE?new Int32Array([g,w-1]):null}static patternMatchVariance(r,i,s){let l=r.length,u=0,f=0;for(let m=0;m<l;m++)u+=r[m],f+=i[m];if(u<f)return 1/0;let d=u/f;s*=d;let g=0;for(let m=0;m<l;m++){let w=r[m],S=i[m]*d,N=w>S?w-S:S-w;if(N>s)return 1/0;g+=N}return g/u}}Qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Qe.MAX_AVG_VARIANCE=.42,Qe.MAX_INDIVIDUAL_VARIANCE=.8,Qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Qe.MAX_PIXEL_DRIFT=3,Qe.MAX_PATTERN_DRIFT=5,Qe.SKIPPED_ROW_COUNT_MAX=25,Qe.ROW_STEP=5,Qe.BARCODE_MIN_HEIGHT=10;class hr{constructor(r,i){if(i.length===0)throw new y;this.field=r;let s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),D.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],s=this.coefficients.length;for(let l=1;l<s;l++)i=this.field.add(this.field.multiply(r,i),this.coefficients[l]);return i}add(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,s=r.coefficients;if(i.length>s.length){let f=i;i=s,s=f}let l=new Int32Array(s.length),u=s.length-i.length;D.arraycopy(s,0,l,0,u);for(let f=u;f<s.length;f++)l[f]=this.field.add(i[f-u],s[f]);return new hr(this.field,l)}subtract(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof hr?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new hr(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,l=r.coefficients,u=l.length,f=new Int32Array(s+u-1);for(let d=0;d<s;d++){let g=i[d];for(let m=0;m<u;m++)f[d+m]=this.field.add(f[d+m],this.field.multiply(g,l[m]))}return new hr(this.field,f)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new hr(this.field,i)}multiplyScalar(r){if(r===0)return new hr(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new hr(this.field,s)}multiplyByMonomial(r,i){if(r<0)throw new y;if(i===0)return new hr(this.field,new Int32Array([0]));let s=this.coefficients.length,l=new Int32Array(s+r);for(let u=0;u<s;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new hr(this.field,l)}toString(){let r=new ie;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(r.append(" - "),s=-s):r.length()>0&&r.append(" + "),(i===0||s!==1)&&r.append(s),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class Rp{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new y;return this.logTable[r]}inverse(r){if(r===0)throw new gt;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Wl extends Rp{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let s=1;for(let l=0;l<r;l++)this.expTable[l]=s,s=s*i%r;for(let l=0;l<r-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new hr(this,new Int32Array([0])),this.one=new hr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new y;if(i===0)return this.zero;let s=new Int32Array(r+1);return s[0]=i,new hr(this,s)}}Wl.PDF417_GF=new Wl(Ge.NUMBER_OF_CODEWORDS,3);class Qf{constructor(){this.field=Wl.PDF417_GF}decode(r,i,s){let l=new hr(this.field,r),u=new Int32Array(i),f=!1;for(let V=i;V>0;V--){let G=l.evaluateAt(this.field.exp(V));u[i-V]=G,G!==0&&(f=!0)}if(!f)return 0;let d=this.field.getOne();if(s!=null)for(const V of s){let G=this.field.exp(r.length-1-V),K=new hr(this.field,new Int32Array([this.field.subtract(0,G),1]));d=d.multiply(K)}let g=new hr(this.field,u),m=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),w=m[0],S=m[1],N=this.findErrorLocations(w),F=this.findErrorMagnitudes(S,w,N);for(let V=0;V<N.length;V++){let G=r.length-1-this.field.log(N[V]);if(G<0)throw A.getChecksumInstance();r[G]=this.field.subtract(r[G],F[V])}return N.length}runEuclideanAlgorithm(r,i,s){if(r.getDegree()<i.getDegree()){let N=r;r=i,i=N}let l=r,u=i,f=this.field.getZero(),d=this.field.getOne();for(;u.getDegree()>=Math.round(s/2);){let N=l,F=f;if(l=u,f=d,l.isZero())throw A.getChecksumInstance();u=N;let V=this.field.getZero(),G=l.getCoefficient(l.getDegree()),K=this.field.inverse(G);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let te=u.getDegree()-l.getDegree(),me=this.field.multiply(u.getCoefficient(u.getDegree()),K);V=V.add(this.field.buildMonomial(te,me)),u=u.subtract(l.multiplyByMonomial(te,me))}d=V.multiply(f).subtract(F).negative()}let g=d.getCoefficient(0);if(g===0)throw A.getChecksumInstance();let m=this.field.inverse(g),w=d.multiply(m),S=u.multiply(m);return[w,S]}findErrorLocations(r){let i=r.getDegree(),s=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)r.evaluateAt(u)===0&&(s[l]=this.field.inverse(u),l++);if(l!==i)throw A.getChecksumInstance();return s}findErrorMagnitudes(r,i,s){let l=i.getDegree(),u=new Int32Array(l);for(let m=1;m<=l;m++)u[l-m]=this.field.multiply(m,i.getCoefficient(m));let f=new hr(this.field,u),d=s.length,g=new Int32Array(d);for(let m=0;m<d;m++){let w=this.field.inverse(s[m]),S=this.field.subtract(0,r.evaluateAt(w)),N=this.field.inverse(f.evaluateAt(w));g[m]=this.field.multiply(S,N)}return g}}class Oi{constructor(r,i,s,l,u){r instanceof Oi?this.constructor_2(r):this.constructor_1(r,i,s,l,u)}constructor_1(r,i,s,l,u){const f=i==null||s==null,d=l==null||u==null;if(f&&d)throw new X;f?(i=new Ie(0,l.getY()),s=new Ie(0,u.getY())):d&&(l=new Ie(r.getWidth()-1,i.getY()),u=new Ie(r.getWidth()-1,s.getY())),this.image=r,this.topLeft=i,this.bottomLeft=s,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new Oi(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,s){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,d=this.bottomRight;if(r>0){let g=s?this.topLeft:this.topRight,m=Math.trunc(g.getY()-r);m<0&&(m=0);let w=new Ie(g.getX(),m);s?l=w:f=w}if(i>0){let g=s?this.bottomLeft:this.bottomRight,m=Math.trunc(g.getY()+i);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let w=new Ie(g.getX(),m);s?u=w:d=w}return new Oi(this.image,l,u,f,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Dp{constructor(r,i,s,l){this.columnCount=r,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Va{constructor(){this.buffer=""}static form(r,i){let s=-1;function l(f,d,g,m,w,S){if(f==="%%")return"%";if(i[++s]===void 0)return;f=m?parseInt(m.substr(1)):void 0;let N=w?parseInt(w.substr(1)):void 0,F;switch(S){case"s":F=i[s];break;case"c":F=i[s][0];break;case"f":F=parseFloat(i[s]).toFixed(f);break;case"p":F=parseFloat(i[s]).toPrecision(f);break;case"e":F=parseFloat(i[s]).toExponential(f);break;case"x":F=parseInt(i[s]).toString(N||16);break;case"d":F=parseFloat(parseInt(i[s],N||10).toPrecision(f)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(N);let V=parseInt(g),G=g&&g[0]+""=="0"?"0":" ";for(;F.length<V;)F=d!==void 0?F+G:G+F;return F}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,l)}format(r,...i){this.buffer+=Va.form(r,i)}toString(){return this.buffer}}class Ha{constructor(r){this.boundingBox=new Oi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let s=1;s<Ha.MAX_NEARBY_DISTANCE;s++){let l=this.imageRowToCodewordIndex(r)-s;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(r)+s,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Va;let i=0;for(const s of this.codewords){if(s==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return r.toString()}}Ha.MAX_NEARBY_DISTANCE=5;class Wa{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[s,l]of this.values.entries()){const u={getKey:()=>s,getValue:()=>l};u.getValue()>r?(r=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===r&&i.push(u.getKey())}return Ge.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class $f extends Ha{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),g=-1,m=1,w=0;for(let S=f;S<d;S++){if(i[S]==null)continue;let N=i[S],F=N.getRowNumber()-g;if(F===0)w++;else if(F===1)m=Math.max(m,w),w=1,g=N.getRowNumber();else if(F<0||N.getRowNumber()>=r.getRowCount()||F>S)i[S]=null;else{let V;m>2?V=(m-2)*F:V=F;let G=V>=S;for(let K=1;K<=V&&!G;K++)G=i[S-K]!=null;G?i[S]=null:(g=N.getRowNumber(),w=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let s of this.getCodewords())if(s!=null){let l=s.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.getCodewords(),g=-1;for(let m=u;m<f;m++){if(d[m]==null)continue;let w=d[m];w.setRowNumberAsRowIndicatorColumn();let S=w.getRowNumber()-g;S===0||(S===1?g=w.getRowNumber():w.getRowNumber()>=r.getRowCount()?d[m]=null:g=w.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new Wa,s=new Wa,l=new Wa,u=new Wa;for(let d of r){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let g=d.getValue()%30,m=d.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:s.setValue(g*3+1);break;case 1:u.setValue(g/3),l.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let f=new Dp(i.getValue()[0],s.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,i){for(let s=0;s<r.length;s++){let l=r[s];if(r[s]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>i.getRowCount()){r[s]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(r[s]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(r[s]=null);break;case 2:u+1!==i.getColumnCount()&&(r[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ga{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ge.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,s))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++)if(r[s]!=null&&i[s]!=null&&r[s].getRowNumber()===i[s].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[s];u!=null&&(u.setRowNumber(r[s].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let d=this.detectionResultColumns[f].getCodewords()[s];d!=null&&(u=Ga.adjustRowNumberIfValid(l,u,d),d.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let d=this.detectionResultColumns[f].getCodewords()[s];d!=null&&(u=Ga.adjustRowNumberIfValid(l,u,d),d.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(r)?(s.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,s){if(!this.detectionResultColumns[r-1])return;let l=s[i],u=this.detectionResultColumns[r-1].getCodewords(),f=u;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let d=new Array(14);d[2]=u[i],d[3]=f[i],i>0&&(d[0]=s[i-1],d[4]=u[i-1],d[5]=f[i-1]),i>1&&(d[8]=s[i-2],d[10]=u[i-2],d[11]=f[i-2]),i<s.length-1&&(d[1]=s[i+1],d[6]=u[i+1],d[7]=f[i+1]),i<s.length-2&&(d[9]=s[i+2],d[12]=u[i+2],d[13]=f[i+2]);for(let g of d)if(Ga.adjustRowNumber(l,g))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Va;for(let s=0;s<r.getCodewords().length;s++){i.format("CW %3d:",s);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[s];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ya{constructor(r,i,s,l){this.rowNumber=Ya.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Ya.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Ya.BARCODE_ROW_UNKNOWN=-1;class Br{static initialize(){for(let r=0;r<Ge.SYMBOL_TABLE.length;r++){let i=Ge.SYMBOL_TABLE[r],s=i&1;for(let l=0;l<Ge.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===s;)u+=1,i>>=1;s=i&1,Br.RATIOS_TABLE[r]||(Br.RATIOS_TABLE[r]=new Array(Ge.BARS_IN_MODULE)),Br.RATIOS_TABLE[r][Ge.BARS_IN_MODULE-l-1]=Math.fround(u/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Br.getDecodedCodewordValue(Br.sampleBitCounts(r));return i!==-1?i:Br.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=Be.sum(r),s=new Int32Array(Ge.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<Ge.MODULES_IN_CODEWORD;f++){let d=i/(2*Ge.MODULES_IN_CODEWORD)+f*i/Ge.MODULES_IN_CODEWORD;u+r[l]<=d&&(u+=r[l],l++),s[l]++}return s}static getDecodedCodewordValue(r){let i=Br.getBitValue(r);return Ge.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let s=0;s<r.length;s++)for(let l=0;l<r[s];l++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=Be.sum(r),s=new Array(Ge.BARS_IN_MODULE);if(i>1)for(let f=0;f<s.length;f++)s[f]=Math.fround(r[f]/i);let l=Tr.MAX_VALUE,u=-1;this.bSymbolTableReady||Br.initialize();for(let f=0;f<Br.RATIOS_TABLE.length;f++){let d=0,g=Br.RATIOS_TABLE[f];for(let m=0;m<Ge.BARS_IN_MODULE;m++){let w=Math.fround(g[m]-s[m]);if(d+=Math.fround(w*w),d>=l)break}d<l&&(l=d,u=Ge.SYMBOL_TABLE[f])}return u}}Br.bSymbolTableReady=!1,Br.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(C=>new Array(Ge.BARS_IN_MODULE));class Zf{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class Kf{static parseLong(r,i=void 0){return parseInt(r,i)}}class qf extends v{}qf.kind="NullPointerException";class Op{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,s){if(r==null)throw new qf;if(i<0||i>r.length||s<0||i+s>r.length||i+s<0)throw new k;if(s===0)return;for(let l=0;l<s;l++)this.write(r[i+l])}flush(){}close(){}}class Mp extends v{}class bp extends Op{constructor(r=32){if(super(),this.count=0,r<0)throw new y("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let s=this.buf.length<<1;if(s-r<0&&(s=r),s<0){if(r<0)throw new Mp;s=b.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,s)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,s){if(i<0||i>r.length||s<0||i+s-r.length>0)throw new k;this.ensureCapacity(this.count+s),D.arraycopy(r,i,this.buf,this.count,s),this.count+=s}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var wt;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(wt||(wt={}));function Jf(){if(typeof window<"u")return window.BigInt||null;if(typeof la<"u")return la.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $s;function ei(C){if(typeof $s>"u"&&($s=Jf()),$s===null)throw new Error("BigInt is not supported!");return $s(C)}function Pp(){let C=[];C[0]=ei(1);let r=ei(900);C[1]=r;for(let i=2;i<16;i++)C[i]=C[i-1]*r;return C}class ee{static decode(r,i){let s=new ie(""),l=z.ISO8859_1;s.enableDecoding(l);let u=1,f=r[u++],d=new Zf;for(;u<r[0];){switch(f){case ee.TEXT_COMPACTION_MODE_LATCH:u=ee.textCompaction(r,u,s);break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:u=ee.byteCompaction(f,r,l,u,s);break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[u++]);break;case ee.NUMERIC_COMPACTION_MODE_LATCH:u=ee.numericCompaction(r,u,s);break;case ee.ECI_CHARSET:z.getCharacterSetECIByValue(r[u++]);break;case ee.ECI_GENERAL_PURPOSE:u+=2;break;case ee.ECI_USER_DEFINED:u++;break;case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ee.decodeMacroBlock(r,u,d);break;case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:throw new H;default:u--,u=ee.textCompaction(r,u,s);break}if(u<r.length)f=r[u++];else throw H.getFormatInstance()}if(s.length()===0)throw H.getFormatInstance();let g=new Jt(null,s.toString(),null,i);return g.setOther(d),g}static decodeMacroBlock(r,i,s){if(i+ee.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw H.getFormatInstance();let l=new Int32Array(ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<ee.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)l[d]=r[i];s.setSegmentIndex(b.parseInt(ee.decodeBase900toBase10(l,ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ie;i=ee.textCompaction(r,i,u),s.setFileId(u.toString());let f=-1;for(r[i]===ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<r[0];)switch(r[i]){case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new ie;i=ee.textCompaction(r,i+1,d),s.setFileName(d.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new ie;i=ee.textCompaction(r,i+1,g),s.setSender(g.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new ie;i=ee.textCompaction(r,i+1,m),s.setAddressee(m.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ie;i=ee.numericCompaction(r,i+1,w),s.setSegmentCount(b.parseInt(w.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new ie;i=ee.numericCompaction(r,i+1,S),s.setTimestamp(Kf.parseLong(S.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new ie;i=ee.numericCompaction(r,i+1,N),s.setChecksum(b.parseInt(N.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new ie;i=ee.numericCompaction(r,i+1,F),s.setFileSize(Kf.parseLong(F.toString()));break;default:throw H.getFormatInstance()}break;case ee.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(f!==-1){let d=i-f;s.isLastSegment()&&d--,s.setOptionalData(R.copyOfRange(r,f,f+d))}return i}static textCompaction(r,i,s){let l=new Int32Array((r[0]-i)*2),u=new Int32Array((r[0]-i)*2),f=0,d=!1;for(;i<r[0]&&!d;){let g=r[i++];if(g<ee.TEXT_COMPACTION_MODE_LATCH)l[f]=g/30,l[f+1]=g%30,f+=2;else switch(g){case ee.TEXT_COMPACTION_MODE_LATCH:l[f++]=ee.TEXT_COMPACTION_MODE_LATCH;break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=r[i++],u[f]=g,f++;break}}return ee.decodeTextCompaction(l,u,f,s),i}static decodeTextCompaction(r,i,s,l){let u=wt.ALPHA,f=wt.ALPHA,d=0;for(;d<s;){let g=r[d],m="";switch(u){case wt.ALPHA:if(g<26)m=String.fromCharCode(65+g);else switch(g){case 26:m=" ";break;case ee.LL:u=wt.LOWER;break;case ee.ML:u=wt.MIXED;break;case ee.PS:f=u,u=wt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.LOWER:if(g<26)m=String.fromCharCode(97+g);else switch(g){case 26:m=" ";break;case ee.AS:f=u,u=wt.ALPHA_SHIFT;break;case ee.ML:u=wt.MIXED;break;case ee.PS:f=u,u=wt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.MIXED:if(g<ee.PL)m=ee.MIXED_CHARS[g];else switch(g){case ee.PL:u=wt.PUNCT;break;case 26:m=" ";break;case ee.LL:u=wt.LOWER;break;case ee.AL:u=wt.ALPHA;break;case ee.PS:f=u,u=wt.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT:if(g<ee.PAL)m=ee.PUNCT_CHARS[g];else switch(g){case ee.PAL:u=wt.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.ALPHA_SHIFT:if(u=f,g<26)m=String.fromCharCode(65+g);else switch(g){case 26:m=" ";break;case ee.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break;case wt.PUNCT_SHIFT:if(u=f,g<ee.PAL)m=ee.PUNCT_CHARS[g];else switch(g){case ee.PAL:u=wt.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d]);break;case ee.TEXT_COMPACTION_MODE_LATCH:u=wt.ALPHA;break}break}m!==""&&l.append(m),d++}}static byteCompaction(r,i,s,l,u){let f=new bp,d=0,g=0,m=!1;switch(r){case ee.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),S=i[l++];for(;l<i[0]&&!m;)switch(w[d++]=S,g=900*g+S,S=i[l++],S){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:l--,m=!0;break;default:if(d%5===0&&d>0){for(let N=0;N<6;++N)f.write(Number(ei(g)>>ei(8*(5-N))));g=0,d=0}break}l===i[0]&&S<ee.TEXT_COMPACTION_MODE_LATCH&&(w[d++]=S);for(let N=0;N<d;N++)f.write(w[N]);break;case ee.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!m;){let N=i[l++];if(N<ee.TEXT_COMPACTION_MODE_LATCH)d++,g=900*g+N;else switch(N){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:l--,m=!0;break}if(d%5===0&&d>0){for(let F=0;F<6;++F)f.write(Number(ei(g)>>ei(8*(5-F))));g=0,d=0}}break}return u.append(ce.decode(f.toByteArray(),s)),l}static numericCompaction(r,i,s){let l=0,u=!1,f=new Int32Array(ee.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!u;){let d=r[i++];if(i===r[0]&&(u=!0),d<ee.TEXT_COMPACTION_MODE_LATCH)f[l]=d,l++;else switch(d){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%ee.MAX_NUMERIC_CODEWORDS===0||d===ee.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(s.append(ee.decodeBase900toBase10(f,l)),l=0)}return i}static decodeBase900toBase10(r,i){let s=ei(0);for(let u=0;u<i;u++)s+=ee.EXP900[i-u-1]*ei(r[u]);let l=s.toString();if(l.charAt(0)!=="1")throw new H;return l.substring(1)}}ee.TEXT_COMPACTION_MODE_LATCH=900,ee.BYTE_COMPACTION_MODE_LATCH=901,ee.NUMERIC_COMPACTION_MODE_LATCH=902,ee.BYTE_COMPACTION_MODE_LATCH_6=924,ee.ECI_USER_DEFINED=925,ee.ECI_GENERAL_PURPOSE=926,ee.ECI_CHARSET=927,ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ee.MACRO_PDF417_TERMINATOR=922,ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ee.MAX_NUMERIC_CODEWORDS=15,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ee.PL=25,ee.LL=27,ee.AS=27,ee.ML=28,ee.AL=28,ee.PS=29,ee.PAL=29,ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ee.EXP900=Jf()?Pp():[],ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $e{constructor(){}static decode(r,i,s,l,u,f,d){let g=new Oi(r,i,s,l,u),m=null,w=null,S;for(let V=!0;;V=!1){if(i!=null&&(m=$e.getRowIndicatorColumn(r,g,i,!0,f,d)),l!=null&&(w=$e.getRowIndicatorColumn(r,g,l,!1,f,d)),S=$e.merge(m,w),S==null)throw X.getNotFoundInstance();let G=S.getBoundingBox();if(V&&G!=null&&(G.getMinY()<g.getMinY()||G.getMaxY()>g.getMaxY()))g=G;else break}S.setBoundingBox(g);let N=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,m),S.setDetectionResultColumn(N,w);let F=m!=null;for(let V=1;V<=N;V++){let G=F?V:N-V;if(S.getDetectionResultColumn(G)!==void 0)continue;let K;G===0||G===N?K=new $f(g,G===0):K=new Ha(g),S.setDetectionResultColumn(G,K);let te=-1,me=te;for(let ve=g.getMinY();ve<=g.getMaxY();ve++){if(te=$e.getStartColumn(S,G,ve,F),te<0||te>g.getMaxX()){if(me===-1)continue;te=me}let de=$e.detectCodeword(r,g.getMinX(),g.getMaxX(),F,te,ve,f,d);de!=null&&(K.setCodeword(ve,de),me=te,f=Math.min(f,de.getWidth()),d=Math.max(d,de.getWidth()))}}return $e.createDecoderResult(S)}static merge(r,i){if(r==null&&i==null)return null;let s=$e.getBarcodeMetadata(r,i);if(s==null)return null;let l=Oi.merge($e.adjustBoundingBox(r),$e.adjustBoundingBox(i));return new Ga(s,l)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let s=$e.getMax(i),l=0;for(let d of i)if(l+=s-d,d>0)break;let u=r.getCodewords();for(let d=0;l>0&&u[d]==null;d++)l--;let f=0;for(let d=i.length-1;d>=0&&(f+=s-i[d],!(i[d]>0));d--);for(let d=u.length-1;f>0&&u[d]==null;d--)f--;return r.getBoundingBox().addMissingRows(l,f,r.isLeft())}static getMax(r){let i=-1;for(let s of r)i=Math.max(i,s);return i}static getBarcodeMetadata(r,i){let s;if(r==null||(s=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s}static getRowIndicatorColumn(r,i,s,l,u,f){let d=new $f(i,l);for(let g=0;g<2;g++){let m=g===0?1:-1,w=Math.trunc(Math.trunc(s.getX()));for(let S=Math.trunc(Math.trunc(s.getY()));S<=i.getMaxY()&&S>=i.getMinY();S+=m){let N=$e.detectCodeword(r,0,r.getWidth(),l,w,S,u,f);N!=null&&(d.setCodeword(S,N),l?w=N.getStartX():w=N.getEndX())}}return d}static adjustCodewordCount(r,i){let s=i[0][1],l=s.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-$e.getNumberOfECCodeWords(r.getBarcodeECLevel());if(l.length===0){if(u<1||u>Ge.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();s.setValue(u)}else l[0]!==u&&s.setValue(u)}static createDecoderResult(r){let i=$e.createBarcodeMatrix(r);$e.adjustCodewordCount(r,i);let s=new Array,l=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],f=new Array;for(let g=0;g<r.getBarcodeRowCount();g++)for(let m=0;m<r.getBarcodeColumnCount();m++){let w=i[g][m+1].getValue(),S=g*r.getBarcodeColumnCount()+m;w.length===0?s.push(S):w.length===1?l[S]=w[0]:(f.push(S),u.push(w))}let d=new Array(u.length);for(let g=0;g<d.length;g++)d[g]=u[g];return $e.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),l,Ge.toIntArray(s),Ge.toIntArray(f),d)}static createDecoderResultFromAmbiguousValues(r,i,s,l,u){let f=new Int32Array(l.length),d=100;for(;d-- >0;){for(let g=0;g<f.length;g++)i[l[g]]=u[g][f[g]];try{return $e.decodeCodewords(i,r,s)}catch(g){if(!(g instanceof A))throw g}if(f.length===0)throw A.getChecksumInstance();for(let g=0;g<f.length;g++)if(f[g]<u[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new Wa;let s=0;for(let l of r.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][s].setValue(u.getValue())}}}s++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,s,l){let u=l?1:-1,f=null;if($e.isValidBarcodeColumn(r,i-u)&&(f=r.getDetectionResultColumn(i-u).getCodeword(s)),f!=null)return l?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(i).getCodewordNearby(s),f!=null)return l?f.getStartX():f.getEndX();if($e.isValidBarcodeColumn(r,i-u)&&(f=r.getDetectionResultColumn(i-u).getCodewordNearby(s)),f!=null)return l?f.getEndX():f.getStartX();let d=0;for(;$e.isValidBarcodeColumn(r,i-u);){i-=u;for(let g of r.getDetectionResultColumn(i).getCodewords())if(g!=null)return(l?g.getEndX():g.getStartX())+u*d*(g.getEndX()-g.getStartX());d++}return l?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,s,l,u,f,d,g){u=$e.adjustCodewordStartColumn(r,i,s,l,u,f);let m=$e.getModuleBitCount(r,i,s,l,u,f);if(m==null)return null;let w,S=Be.sum(m);if(l)w=u+S;else{for(let V=0;V<m.length/2;V++){let G=m[V];m[V]=m[m.length-1-V],m[m.length-1-V]=G}w=u,u=w-S}if(!$e.checkCodewordSkew(S,d,g))return null;let N=Br.getDecodedValue(m),F=Ge.getCodeword(N);return F===-1?null:new Ya(u,w,$e.getCodewordBucketNumber(N),F)}static getModuleBitCount(r,i,s,l,u,f){let d=u,g=new Int32Array(8),m=0,w=l?1:-1,S=l;for(;(l?d<s:d>=i)&&m<g.length;)r.get(d,f)===S?(g[m]++,d+=w):(m++,S=!S);return m===g.length||d===(l?s:i)&&m===g.length-1?g:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,s,l,u,f){let d=u,g=l?-1:1;for(let m=0;m<2;m++){for(;(l?d>=i:d<s)&&l===r.get(d,f);){if(Math.abs(u-d)>$e.CODEWORD_SKEW_SIZE)return u;d+=g}g=-g,l=!l}return d}static checkCodewordSkew(r,i,s){return i-$e.CODEWORD_SKEW_SIZE<=r&&r<=s+$e.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,s){if(r.length===0)throw H.getFormatInstance();let l=1<<i+1,u=$e.correctErrors(r,s,l);$e.verifyCodewordCount(r,l);let f=ee.decode(r,""+i);return f.setErrorsCorrected(u),f.setErasures(s.length),f}static correctErrors(r,i,s){if(i!=null&&i.length>s/2+$e.MAX_ERRORS||s<0||s>$e.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return $e.errorCorrection.decode(r,s,i)}static verifyCodewordCount(r,i){if(r.length<4)throw H.getFormatInstance();let s=r[0];if(s>r.length)throw H.getFormatInstance();if(s===0)if(i<r.length)r[0]=r.length-i;else throw H.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),s=0,l=i.length-1;for(;!((r&1)!==s&&(s=r&1,l--,l<0));)i[l]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return $e.getCodewordBucketNumber($e.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new Va;for(let s=0;s<r.length;s++){i.format("Row %2d: ",s);for(let l=0;l<r[s].length;l++){let u=r[s][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}$e.CODEWORD_SKEW_SIZE=2,$e.MAX_ERRORS=3,$e.MAX_EC_CODEWORDS=512,$e.errorCorrection=new Qf;class gr{decode(r,i=null){let s=gr.decode(r,i,!1);if(s==null||s.length===0||s[0]==null)throw X.getNotFoundInstance();return s[0]}decodeMultiple(r,i=null){try{return gr.decode(r,i,!0)}catch(s){throw s instanceof H||s instanceof A?X.getNotFoundInstance():s}}static decode(r,i,s){const l=new Array,u=Qe.detectMultiple(r,i,s);for(const f of u.getPoints()){const d=$e.decode(u.getBits(),f[4],f[5],f[6],f[7],gr.getMinCodewordWidth(f),gr.getMaxCodewordWidth(f)),g=new De(d.getText(),d.getRawBytes(),void 0,f,we.PDF_417);g.putMetadata(Ze.ERROR_CORRECTION_LEVEL,d.getECLevel());const m=d.getOther();m!=null&&g.putMetadata(Ze.PDF417_EXTRA_METADATA,m),l.push(g)}return l.map(f=>f)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?b.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(gr.getMaxWidth(r[0],r[4]),gr.getMaxWidth(r[6],r[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(gr.getMaxWidth(r[1],r[5]),gr.getMaxWidth(r[7],r[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(gr.getMinWidth(r[0],r[4]),gr.getMinWidth(r[6],r[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(gr.getMinWidth(r[1],r[5]),gr.getMinWidth(r[7],r[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class Zs extends v{}Zs.kind="ReaderException";class ed{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!o(r)&&r.get(B.TRY_HARDER)===!0,s=o(r)?null:r.get(B.POSSIBLE_FORMATS),l=new Array;if(!o(s)){const u=s.some(f=>f===we.UPC_A||f===we.UPC_E||f===we.EAN_13||f===we.EAN_8||f===we.CODABAR||f===we.CODE_39||f===we.CODE_93||f===we.CODE_128||f===we.ITF||f===we.RSS_14||f===we.RSS_EXPANDED);u&&!i&&l.push(new Bt(r,this.verbose)),s.includes(we.QR_CODE)&&l.push(new Jn),s.includes(we.DATA_MATRIX)&&l.push(new kr),s.includes(we.AZTEC)&&l.push(new nn),s.includes(we.PDF_417)&&l.push(new gr),u&&i&&l.push(new Bt(r,this.verbose))}l.length===0&&(i||l.push(new Bt(r,this.verbose)),l.push(new Jn),l.push(new kr),l.push(new nn),l.push(new gr),i&&l.push(new Bt(r,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Zs("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(s){if(s instanceof Zs)continue}throw new X("No MultiFormat Readers were able to detect the code.")}}class Lp extends nt{constructor(r=null,i=500){const s=new ed;s.setHints(r),super(s,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class kp extends nt{constructor(r=500){super(new gr,r)}}class Bp extends nt{constructor(r=500){super(new Jn,r)}}var Gl;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Gl||(Gl={}));var ir=Gl;class Yl{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Xe(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let s=i[i.length-1];const l=this.field;for(let u=i.length;u<=r;u++){const f=s.multiply(new Xe(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(f),s=f}}return i[r]}encode(r,i){if(i===0)throw new y("No error correction bytes");const s=r.length-i;if(s<=0)throw new y("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(s);D.arraycopy(r,0,u,0,s);let f=new Xe(this.field,u);f=f.multiplyByMonomial(i,1);const g=f.divide(l)[1].getCoefficients(),m=i-g.length;for(let w=0;w<m;w++)r[s+w]=0;D.arraycopy(g,0,r,s+m,g.length)}}class Gt{constructor(){}static applyMaskPenaltyRule1(r){return Gt.applyMaskPenaltyRule1Internal(r,!0)+Gt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const s=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let f=0;f<u-1;f++){const d=s[f];for(let g=0;g<l-1;g++){const m=d[g];m===d[g+1]&&m===s[f+1][g]&&m===s[f+1][g+1]&&i++}}return Gt.N2*i}static applyMaskPenaltyRule3(r){let i=0;const s=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let f=0;f<u;f++)for(let d=0;d<l;d++){const g=s[f];d+6<l&&g[d]===1&&g[d+1]===0&&g[d+2]===1&&g[d+3]===1&&g[d+4]===1&&g[d+5]===0&&g[d+6]===1&&(Gt.isWhiteHorizontal(g,d-4,d)||Gt.isWhiteHorizontal(g,d+7,d+11))&&i++,f+6<u&&s[f][d]===1&&s[f+1][d]===0&&s[f+2][d]===1&&s[f+3][d]===1&&s[f+4][d]===1&&s[f+5][d]===0&&s[f+6][d]===1&&(Gt.isWhiteVertical(s,d,f-4,f)||Gt.isWhiteVertical(s,d,f+7,f+11))&&i++}return i*Gt.N3}static isWhiteHorizontal(r,i,s){i=Math.max(i,0),s=Math.min(s,r.length);for(let l=i;l<s;l++)if(r[l]===1)return!1;return!0}static isWhiteVertical(r,i,s,l){s=Math.max(s,0),l=Math.min(l,r.length);for(let u=s;u<l;u++)if(r[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const s=r.getArray(),l=r.getWidth(),u=r.getHeight();for(let g=0;g<u;g++){const m=s[g];for(let w=0;w<l;w++)m[w]===1&&i++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*Gt.N4}static getDataMaskBit(r,i,s){let l,u;switch(r){case 0:l=s+i&1;break;case 1:l=s&1;break;case 2:l=i%3;break;case 3:l=(s+i)%3;break;case 4:l=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:u=s*i,l=(u&1)+u%3;break;case 6:u=s*i,l=(u&1)+u%3&1;break;case 7:u=s*i,l=u%3+(s+i&1)&1;break;default:throw new y("Invalid mask pattern: "+r)}return l===0}static applyMaskPenaltyRule1Internal(r,i){let s=0;const l=i?r.getHeight():r.getWidth(),u=i?r.getWidth():r.getHeight(),f=r.getArray();for(let d=0;d<l;d++){let g=0,m=-1;for(let w=0;w<u;w++){const S=i?f[d][w]:f[w][d];S===m?g++:(g>=5&&(s+=Gt.N1+(g-5)),g=1,m=S)}g>=5&&(s+=Gt.N1+(g-5))}return s}}Gt.N1=3,Gt.N2=3,Gt.N3=40,Gt.N4=10;class Ks{constructor(r,i){this.width=r,this.height=i;const s=new Array(i);for(let l=0;l!==i;l++)s[l]=new Uint8Array(r);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,s){this.bytes[i][r]=s}setBoolean(r,i,s){this.bytes[i][r]=s?1:0}clear(r){for(const i of this.bytes)R.fill(i,r)}equals(r){if(!(r instanceof Ks))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,l=this.height;s<l;++s){const u=this.bytes[s],f=i.bytes[s];for(let d=0,g=this.width;d<g;++d)if(u[d]!==f[d])return!1}return!0}toString(){const r=new ie;for(let i=0,s=this.height;i<s;++i){const l=this.bytes[i];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Mi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new ie;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Mi.NUM_MASK_PATTERNS}}Mi.NUM_MASK_PATTERNS=8;class Et extends v{}Et.kind="WriterException";class We{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,s,l,u){We.clearMatrix(u),We.embedBasicPatterns(s,u),We.embedTypeInfo(i,l,u),We.maybeEmbedVersionInfo(s,u),We.embedDataBits(r,l,u)}static embedBasicPatterns(r,i){We.embedPositionDetectionPatternsAndSeparators(i),We.embedDarkDotAtLeftBottomCorner(i),We.maybeEmbedPositionAdjustmentPatterns(r,i),We.embedTimingPatterns(i)}static embedTypeInfo(r,i,s){const l=new j;We.makeTypeInfoBits(r,i,l);for(let u=0,f=l.getSize();u<f;++u){const d=l.get(l.getSize()-1-u),g=We.TYPE_INFO_COORDINATES[u],m=g[0],w=g[1];if(s.setBoolean(m,w,d),u<8){const S=s.getWidth()-u-1;s.setBoolean(S,8,d)}else{const N=s.getHeight()-7+(u-8);s.setBoolean(8,N,d)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const s=new j;We.makeVersionInfoBits(r,s);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const d=s.get(l);l--,i.setBoolean(u,i.getHeight()-11+f,d),i.setBoolean(i.getHeight()-11+f,u,d)}}static embedDataBits(r,i,s){let l=0,u=-1,f=s.getWidth()-1,d=s.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);d>=0&&d<s.getHeight();){for(let g=0;g<2;++g){const m=f-g;if(!We.isEmpty(s.get(m,d)))continue;let w;l<r.getSize()?(w=r.get(l),++l):w=!1,i!==255&&Gt.getDataMaskBit(i,m,d)&&(w=!w),s.setBoolean(m,d,w)}d+=u}u=-u,d+=u,f-=2}if(l!==r.getSize())throw new Et("Not all bits consumed: "+l+"/"+r.getSize())}static findMSBSet(r){return 32-b.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new y("0 polynomial");const s=We.findMSBSet(i);for(r<<=s-1;We.findMSBSet(r)>=s;)r^=i<<We.findMSBSet(r)-s;return r}static makeTypeInfoBits(r,i,s){if(!Mi.isValidMaskPattern(i))throw new Et("Invalid mask pattern");const l=r.getBits()<<3|i;s.appendBits(l,5);const u=We.calculateBCHCode(l,We.TYPE_INFO_POLY);s.appendBits(u,10);const f=new j;if(f.appendBits(We.TYPE_INFO_MASK_PATTERN,15),s.xor(f),s.getSize()!==15)throw new Et("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const s=We.calculateBCHCode(r.getVersionNumber(),We.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Et("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const s=(i+1)%2;We.isEmpty(r.get(i,6))&&r.setNumber(i,6,s),We.isEmpty(r.get(6,i))&&r.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Et;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,s){for(let l=0;l<8;++l){if(!We.isEmpty(s.get(r+l,i)))throw new Et;s.setNumber(r+l,i,0)}}static embedVerticalSeparationPattern(r,i,s){for(let l=0;l<7;++l){if(!We.isEmpty(s.get(r,i+l)))throw new Et;s.setNumber(r,i+l,0)}}static embedPositionAdjustmentPattern(r,i,s){for(let l=0;l<5;++l){const u=We.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)s.setNumber(r+f,i+l,u[f])}}static embedPositionDetectionPattern(r,i,s){for(let l=0;l<7;++l){const u=We.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)s.setNumber(r+f,i+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(r){const i=We.POSITION_DETECTION_PATTERN[0].length;We.embedPositionDetectionPattern(0,0,r),We.embedPositionDetectionPattern(r.getWidth()-i,0,r),We.embedPositionDetectionPattern(0,r.getWidth()-i,r);const s=8;We.embedHorizontalSeparationPattern(0,s-1,r),We.embedHorizontalSeparationPattern(r.getWidth()-s,s-1,r),We.embedHorizontalSeparationPattern(0,r.getWidth()-s,r);const l=7;We.embedVerticalSeparationPattern(l,0,r),We.embedVerticalSeparationPattern(r.getHeight()-l-1,0,r),We.embedVerticalSeparationPattern(l,r.getHeight()-l,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const s=r.getVersionNumber()-1,l=We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let u=0,f=l.length;u!==f;u++){const d=l[u];if(d>=0)for(let g=0;g!==f;g++){const m=l[g];m>=0&&We.isEmpty(i.get(m,d))&&We.embedPositionAdjustmentPattern(m-2,d-2,i)}}}}We.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),We.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),We.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),We.VERSION_INFO_POLY=7973,We.TYPE_INFO_POLY=1335,We.TYPE_INFO_MASK_PATTERN=21522;class Fp{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(r){return Gt.applyMaskPenaltyRule1(r)+Gt.applyMaskPenaltyRule2(r)+Gt.applyMaskPenaltyRule3(r)+Gt.applyMaskPenaltyRule4(r)}static encode(r,i,s=null){let l=Dt.DEFAULT_BYTE_MODE_ENCODING;const u=s!==null&&s.get(ir.CHARACTER_SET)!==void 0;u&&(l=s.get(ir.CHARACTER_SET).toString());const f=this.chooseMode(r,l),d=new j;if(f===ze.BYTE&&(u||Dt.DEFAULT_BYTE_MODE_ENCODING!==l)){const ve=z.getCharacterSetECIByName(l);ve!==void 0&&this.appendECI(ve,d)}this.appendModeInfo(f,d);const g=new j;this.appendBytes(r,f,g,l);let m;if(s!==null&&s.get(ir.QR_VERSION)!==void 0){const ve=Number.parseInt(s.get(ir.QR_VERSION).toString(),10);m=Le.getVersionForNumber(ve);const de=this.calculateBitsNeeded(f,d,g,m);if(!this.willFit(de,m,i))throw new Et("Data too big for requested version")}else m=this.recommendVersion(i,f,d,g);const w=new j;w.appendBitArray(d);const S=f===ze.BYTE?g.getSizeInBytes():r.length;this.appendLengthInfo(S,m,f,w),w.appendBitArray(g);const N=m.getECBlocksForLevel(i),F=m.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(F,w);const V=this.interleaveWithECBytes(w,m.getTotalCodewords(),F,N.getNumBlocks()),G=new Mi;G.setECLevel(i),G.setMode(f),G.setVersion(m);const K=m.getDimensionForVersion(),te=new Ks(K,K),me=this.chooseMaskPattern(V,i,m,te);return G.setMaskPattern(me),We.buildMatrix(V,i,m,me,te),G.setMatrix(te),G}static recommendVersion(r,i,s,l){const u=this.calculateBitsNeeded(i,s,l,Le.getVersionForNumber(1)),f=this.chooseVersion(u,r),d=this.calculateBitsNeeded(i,s,l,f);return this.chooseVersion(d,r)}static calculateBitsNeeded(r,i,s,l){return i.getSize()+r.getCharacterCountBits(l)+s.getSize()}static getAlphanumericCode(r){return r<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(z.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return ze.KANJI;let s=!1,l=!1;for(let u=0,f=r.length;u<f;++u){const d=r.charAt(u);if(Dt.isDigit(d))s=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)l=!0;else return ze.BYTE}return l?ze.ALPHANUMERIC:s?ze.NUMERIC:ze.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=ce.encode(r,z.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let l=0;l<s;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,i,s,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let d=0;d<Mi.NUM_MASK_PATTERNS;d++){We.buildMatrix(r,i,s,d,l);let g=this.calculateMaskPenalty(l);g<u&&(u=g,f=d)}return f}static chooseVersion(r,i){for(let s=1;s<=40;s++){const l=Le.getVersionForNumber(s);if(Dt.willFit(r,l,i))return l}throw new Et("Data too big")}static willFit(r,i,s){const l=i.getTotalCodewords(),f=i.getECBlocksForLevel(s).getTotalECCodewords(),d=l-f,g=(r+7)/8;return d>=g}static terminateBits(r,i){const s=r*8;if(i.getSize()>s)throw new Et("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let f=0;f<4&&i.getSize()<s;++f)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let f=l;f<8;f++)i.appendBit(!1);const u=r-i.getSizeInBytes();for(let f=0;f<u;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==s)throw new Et("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,s,l,u,f){if(l>=s)throw new Et("Block ID too large");const d=r%s,g=s-d,m=Math.floor(r/s),w=m+1,S=Math.floor(i/s),N=S+1,F=m-S,V=w-N;if(F!==V)throw new Et("EC bytes mismatch");if(s!==g+d)throw new Et("RS blocks mismatch");if(r!==(S+F)*g+(N+V)*d)throw new Et("Total bytes mismatch");l<g?(u[0]=S,f[0]=F):(u[0]=N,f[0]=V)}static interleaveWithECBytes(r,i,s,l){if(r.getSizeInBytes()!==s)throw new Et("Number of bits and data bytes does not match");let u=0,f=0,d=0;const g=new Array;for(let w=0;w<l;++w){const S=new Int32Array(1),N=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(i,s,l,w,S,N);const F=S[0],V=new Uint8Array(F);r.toBytes(8*u,V,0,F);const G=Dt.generateECBytes(V,N[0]);g.push(new Fp(V,G)),f=Math.max(f,F),d=Math.max(d,G.length),u+=S[0]}if(s!==u)throw new Et("Data bytes does not match offset");const m=new j;for(let w=0;w<f;++w)for(const S of g){const N=S.getDataBytes();w<N.length&&m.appendBits(N[w],8)}for(let w=0;w<d;++w)for(const S of g){const N=S.getErrorCorrectionBytes();w<N.length&&m.appendBits(N[w],8)}if(i!==m.getSizeInBytes())throw new Et("Interleaving error: "+i+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(r,i){const s=r.length,l=new Int32Array(s+i);for(let f=0;f<s;f++)l[f]=r[f]&255;new Yl(be.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let f=0;f<i;f++)u[f]=l[s+f];return u}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,s,l){const u=s.getCharacterCountBits(i);if(r>=1<<u)throw new Et(r+" is bigger than "+((1<<u)-1));l.appendBits(r,u)}static appendBytes(r,i,s,l){switch(i){case ze.NUMERIC:Dt.appendNumericBytes(r,s);break;case ze.ALPHANUMERIC:Dt.appendAlphanumericBytes(r,s);break;case ze.BYTE:Dt.append8BitBytes(r,s,l);break;case ze.KANJI:Dt.appendKanjiBytes(r,s);break;default:throw new Et("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=Dt.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const s=r.length;let l=0;for(;l<s;){const u=Dt.getDigit(r.charAt(l));if(l+2<s){const f=Dt.getDigit(r.charAt(l+1)),d=Dt.getDigit(r.charAt(l+2));i.appendBits(u*100+f*10+d,10),l+=3}else if(l+1<s){const f=Dt.getDigit(r.charAt(l+1));i.appendBits(u*10+f,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(r,i){const s=r.length;let l=0;for(;l<s;){const u=Dt.getAlphanumericCode(r.charCodeAt(l));if(u===-1)throw new Et;if(l+1<s){const f=Dt.getAlphanumericCode(r.charCodeAt(l+1));if(f===-1)throw new Et;i.appendBits(u*45+f,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(r,i,s){let l;try{l=ce.encode(r,s)}catch(u){throw new Et(u)}for(let u=0,f=l.length;u!==f;u++){const d=l[u];i.appendBits(d,8)}}static appendKanjiBytes(r,i){let s;try{s=ce.encode(r,z.SJIS)}catch(u){throw new Et(u)}const l=s.length;for(let u=0;u<l;u+=2){const f=s[u]&255,d=s[u+1]&255,g=f<<8&4294967295|d;let m=-1;if(g>=33088&&g<=40956?m=g-33088:g>=57408&&g<=60351&&(m=g-49472),m===-1)throw new Et("Invalid byte sequence");const w=(m>>8)*192+(m&255);i.appendBits(w,13)}}static appendECI(r,i){i.appendBits(ze.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class bi{write(r,i,s,l=null){if(r.length===0)throw new y("Found empty contents");if(i<0||s<0)throw new y("Requested dimensions are too small: "+i+"x"+s);let u=Tt.L,f=bi.QUIET_ZONE_SIZE;l!==null&&(l.get(ir.ERROR_CORRECTION)!==void 0&&(u=Tt.fromString(l.get(ir.ERROR_CORRECTION).toString())),l.get(ir.MARGIN)!==void 0&&(f=Number.parseInt(l.get(ir.MARGIN).toString(),10)));const d=Dt.encode(r,u,l);return this.renderResult(d,i,s,f)}writeToDom(r,i,s,l,u=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(i,s,l,u);r&&r.appendChild(f)}renderResult(r,i,s,l){const u=r.getMatrix();if(u===null)throw new $t;const f=u.getWidth(),d=u.getHeight(),g=f+l*2,m=d+l*2,w=Math.max(i,g),S=Math.max(s,m),N=Math.min(Math.floor(w/g),Math.floor(S/m)),F=Math.floor((w-f*N)/2),V=Math.floor((S-d*N)/2),G=this.createSVGElement(w,S);for(let K=0,te=V;K<d;K++,te+=N)for(let me=0,ve=F;me<f;me++,ve+=N)if(u.get(me,K)===1){const de=this.createSvgRectElement(ve,te,N,N);G.appendChild(de)}return G}createSVGElement(r,i){const s=document.createElementNS(bi.SVG_NS,"svg");return s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(r,i,s,l){const u=document.createElementNS(bi.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}bi.QUIET_ZONE_SIZE=4,bi.SVG_NS="http://www.w3.org/2000/svg";class ra{encode(r,i,s,l,u){if(r.length===0)throw new y("Found empty contents");if(i!==we.QR_CODE)throw new y("Can only encode QR_CODE, but got "+i);if(s<0||l<0)throw new y(`Requested dimensions are too small: ${s}x${l}`);let f=Tt.L,d=ra.QUIET_ZONE_SIZE;u!==null&&(u.get(ir.ERROR_CORRECTION)!==void 0&&(f=Tt.fromString(u.get(ir.ERROR_CORRECTION).toString())),u.get(ir.MARGIN)!==void 0&&(d=Number.parseInt(u.get(ir.MARGIN).toString(),10)));const g=Dt.encode(r,f,u);return ra.renderResult(g,s,l,d)}static renderResult(r,i,s,l){const u=r.getMatrix();if(u===null)throw new $t;const f=u.getWidth(),d=u.getHeight(),g=f+l*2,m=d+l*2,w=Math.max(i,g),S=Math.max(s,m),N=Math.min(Math.floor(w/g),Math.floor(S/m)),F=Math.floor((w-f*N)/2),V=Math.floor((S-d*N)/2),G=new J(w,S);for(let K=0,te=V;K<d;K++,te+=N)for(let me=0,ve=F;me<f;me++,ve+=N)u.get(me,K)===1&&G.setRegion(ve,te,N,N);return G}}ra.QUIET_ZONE_SIZE=4;class Up{encode(r,i,s,l,u){let f;switch(i){case we.QR_CODE:f=new ra;break;default:throw new y("No encoder available for format "+i)}return f.encode(r,i,s,l,u)}}class On extends le{constructor(r,i,s,l,u,f,d,g){if(super(f,d),this.yuvData=r,this.dataWidth=i,this.dataHeight=s,this.left=l,this.top=u,l+f>i||u+d>s)throw new y("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,d)}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(r+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,l,i,0,s),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=r*i,l=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return D.arraycopy(this.yuvData,u,l,0,s),l;for(let f=0;f<i;f++){const d=f*r;D.arraycopy(this.yuvData,u,l,d,r),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,s,l){return new On(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,s,l,!1)}renderThumbnail(){const r=this.getWidth()/On.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/On.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(r*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const d=f*r;for(let g=0;g<r;g++){const m=l[u+g*On.THUMBNAIL_SCALE_FACTOR]&255;s[d+g]=4278190080|m*65793}u+=this.dataWidth*On.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/On.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/On.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const s=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const f=u+r/2;for(let d=u,g=u+r-1;d<f;d++,g--){const m=s[d];s[d]=s[g],s[g]=m}}}invert(){return new ge(this)}}On.THUMBNAIL_SCALE_FACTOR=2;class Xl extends le{constructor(r,i,s,l,u,f,d){if(super(i,s),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=d,r.BYTES_PER_ELEMENT===4){const g=i*s,m=new Uint8ClampedArray(g);for(let w=0;w<g;w++){const S=r[w],N=S>>16&255,F=S>>7&510,V=S&255;m[w]=(N+F+V)/4&255}this.luminances=m}else this.luminances=r;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=s),f===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new y("Requested row is outside the image: "+r);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(r+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,l,i,0,s),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=r*i,l=new Uint8ClampedArray(s);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return D.arraycopy(this.luminances,u,l,0,s),l;for(let f=0;f<i;f++){const d=f*r;D.arraycopy(this.luminances,u,l,d,r),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(r,i,s,l){return new Xl(this.luminances,s,l,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new ge(this)}}class td extends z{static forName(r){return this.getCharacterSetECIByName(r)}}class Ql{}Ql.ISO_8859_1=z.ISO8859_1;class rd{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class nd{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class jp{constructor(r){this.previous=r}getPrevious(){return this.previous}}class na extends jp{constructor(r,i,s){super(r),this.value=i,this.bitCount=s}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new na(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new na(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+b.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class $l extends na{constructor(r,i,s){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(r,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):s===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(r,i){return new $l(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zp(C,r,i){return new $l(C,r,i)}function Xa(C,r,i){return new na(C,r,i)}const Vp=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ti=0,qs=1,ln=2,id=3,Mn=4,Hp=new na(null,0,0),Zl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Wp(C){for(let r of C)R.fill(r,-1);return C[ti][Mn]=0,C[qs][Mn]=0,C[qs][ti]=28,C[id][Mn]=0,C[ln][Mn]=0,C[ln][ti]=15,C}const ad=Wp(R.createInt32Array(6,6));class bn{constructor(r,i,s,l){this.token=r,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let s=this.bitCount,l=this.token;if(r!==this.mode){let f=Zl[this.mode][r];l=Xa(l,f&65535,f>>16),s+=f>>16}let u=r===ln?4:5;return l=Xa(l,i,u),new bn(l,r,0,s+u)}shiftAndAppend(r,i){let s=this.token,l=this.mode===ln?4:5;return s=Xa(s,ad[this.mode][r],l),s=Xa(s,i,5),new bn(s,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(r){let i=this.token,s=this.mode,l=this.bitCount;if(this.mode===Mn||this.mode===ln){let d=Zl[s][ti];i=Xa(i,d&65535,d>>16),l+=d>>16,s=ti}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new bn(i,s,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=zp(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new bn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(Zl[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=bn.calculateBinaryShiftCost(r)-bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let l=this.endBinaryShift(r.length).token;l!==null;l=l.getPrevious())i.unshift(l);let s=new j;for(const l of i)l.appendTo(s,r);return s}toString(){return ne.format("%s bits=%d bytes=%d",Vp[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}bn.INITIAL_STATE=new bn(Hp,ti,0,0);function Gp(C){const r=ne.getCharCode(" "),i=ne.getCharCode("."),s=ne.getCharCode(",");C[ti][r]=1;const l=ne.getCharCode("Z"),u=ne.getCharCode("A");for(let N=u;N<=l;N++)C[ti][N]=N-u+2;C[qs][r]=1;const f=ne.getCharCode("z"),d=ne.getCharCode("a");for(let N=d;N<=f;N++)C[qs][N]=N-d+2;C[ln][r]=1;const g=ne.getCharCode("9"),m=ne.getCharCode("0");for(let N=m;N<=g;N++)C[ln][N]=N-m+2;C[ln][s]=12,C[ln][i]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<w.length;N++)C[id][ne.getCharCode(w[N])]=N;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<S.length;N++)ne.getCharCode(S[N])>0&&(C[Mn][ne.getCharCode(S[N])]=N);return C}const Kl=Gp(R.createInt32Array(5,256));class Qa{constructor(r){this.text=r}encode(){const r=ne.getCharCode(" "),i=ne.getCharCode(`
`);let s=nd.singletonList(bn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,d=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ne.getCharCode("\r"):f=d===i?2:0;break;case ne.getCharCode("."):f=d===r?3:0;break;case ne.getCharCode(","):f=d===r?4:0;break;case ne.getCharCode(":"):f=d===r?5:0;break;default:f=0}f>0?(s=Qa.updateStateListForPair(s,u,f),u++):s=this.updateStateListForChar(s,u)}return nd.min(s,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const s=[];for(let l of r)this.updateStateForChar(l,i,s);return Qa.simplifyStates(s)}updateStateForChar(r,i,s){let l=this.text[i]&255,u=Kl[r.getMode()][l]>0,f=null;for(let d=0;d<=Mn;d++){let g=Kl[d][l];if(g>0){if(f==null&&(f=r.endBinaryShift(i)),!u||d===r.getMode()||d===ln){const m=f.latchAndAppend(d,g);s.push(m)}if(!u&&ad[r.getMode()][d]>=0){const m=f.shiftAndAppend(d,g);s.push(m)}}}if(r.getBinaryShiftByteCount()>0||Kl[r.getMode()][l]===0){let d=r.addBinaryShiftChar(i);s.push(d)}}static updateStateListForPair(r,i,s){const l=[];for(let u of r)this.updateStateForPair(u,i,s,l);return this.simplifyStates(l)}static updateStateForPair(r,i,s,l){let u=r.endBinaryShift(i);if(l.push(u.latchAndAppend(Mn,s)),r.getMode()!==Mn&&l.push(u.shiftAndAppend(Mn,s)),s===3||s===4){let f=u.latchAndAppend(ln,16-s).latchAndAppend(ln,1);l.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(f)}}static simplifyStates(r){let i=[];for(const s of r){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(s)){l=!1;break}s.isBetterThanOrEqualTo(u)&&(i=i.filter(f=>f!==u))}l&&i.push(s)}return i}}class ct{constructor(){}static encodeBytes(r){return ct.encode(r,ct.DEFAULT_EC_PERCENT,ct.DEFAULT_AZTEC_LAYERS)}static encode(r,i,s){let l=new Qa(r).encode(),u=b.truncDivision(l.getSize()*i,100)+11,f=l.getSize()+u,d,g,m,w,S;if(s!==ct.DEFAULT_AZTEC_LAYERS){if(d=s<0,g=Math.abs(s),g>(d?ct.MAX_NB_BITS_COMPACT:ct.MAX_NB_BITS))throw new y(ne.format("Illegal value %s for layers",s));m=ct.totalBitsInLayer(g,d),w=ct.WORD_SIZE[g];let de=m-m%w;if(S=ct.stuffBits(l,w),S.getSize()+u>de)throw new y("Data to large for user specified layer");if(d&&S.getSize()>w*64)throw new y("Data to large for user specified layer")}else{w=0,S=null;for(let de=0;;de++){if(de>ct.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(d=de<=3,g=d?de+1:de,m=ct.totalBitsInLayer(g,d),f>m)continue;(S==null||w!==ct.WORD_SIZE[g])&&(w=ct.WORD_SIZE[g],S=ct.stuffBits(l,w));let rt=m-m%w;if(!(d&&S.getSize()>w*64)&&S.getSize()+u<=rt)break}}let N=ct.generateCheckWords(S,m,w),F=S.getSize()/w,V=ct.generateModeMessage(d,g,F),G=(d?11:14)+g*4,K=new Int32Array(G),te;if(d){te=G;for(let de=0;de<K.length;de++)K[de]=de}else{te=G+1+2*b.truncDivision(b.truncDivision(G,2)-1,15);let de=b.truncDivision(G,2),rt=b.truncDivision(te,2);for(let Ye=0;Ye<de;Ye++){let Fr=Ye+b.truncDivision(Ye,15);K[de-Ye-1]=rt-Fr-1,K[de+Ye]=rt+Fr+1}}let me=new J(te);for(let de=0,rt=0;de<g;de++){let Ye=(g-de)*4+(d?9:12);for(let Fr=0;Fr<Ye;Fr++){let xn=Fr*2;for(let Ur=0;Ur<2;Ur++)N.get(rt+xn+Ur)&&me.set(K[de*2+Ur],K[de*2+Fr]),N.get(rt+Ye*2+xn+Ur)&&me.set(K[de*2+Fr],K[G-1-de*2-Ur]),N.get(rt+Ye*4+xn+Ur)&&me.set(K[G-1-de*2-Ur],K[G-1-de*2-Fr]),N.get(rt+Ye*6+xn+Ur)&&me.set(K[G-1-de*2-Fr],K[de*2+Ur])}rt+=Ye*8}if(ct.drawModeMessage(me,d,te,V),d)ct.drawBullsEye(me,b.truncDivision(te,2),5);else{ct.drawBullsEye(me,b.truncDivision(te,2),7);for(let de=0,rt=0;de<b.truncDivision(G,2)-1;de+=15,rt+=16)for(let Ye=b.truncDivision(te,2)&1;Ye<te;Ye+=2)me.set(b.truncDivision(te,2)-rt,Ye),me.set(b.truncDivision(te,2)+rt,Ye),me.set(Ye,b.truncDivision(te,2)-rt),me.set(Ye,b.truncDivision(te,2)+rt)}let ve=new rd;return ve.setCompact(d),ve.setSize(te),ve.setLayers(g),ve.setCodeWords(F),ve.setMatrix(me),ve}static drawBullsEye(r,i,s){for(let l=0;l<s;l+=2)for(let u=i-l;u<=i+l;u++)r.set(u,i-l),r.set(u,i+l),r.set(i-l,u),r.set(i+l,u);r.set(i-s,i-s),r.set(i-s+1,i-s),r.set(i-s,i-s+1),r.set(i+s,i-s),r.set(i+s,i-s+1),r.set(i+s,i+s-1)}static generateModeMessage(r,i,s){let l=new j;return r?(l.appendBits(i-1,2),l.appendBits(s-1,6),l=ct.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(s-1,11),l=ct.generateCheckWords(l,40,4)),l}static drawModeMessage(r,i,s,l){let u=b.truncDivision(s,2);if(i)for(let f=0;f<7;f++){let d=u-3+f;l.get(f)&&r.set(d,u-5),l.get(f+7)&&r.set(u+5,d),l.get(20-f)&&r.set(d,u+5),l.get(27-f)&&r.set(u-5,d)}else for(let f=0;f<10;f++){let d=u-5+f+b.truncDivision(f,5);l.get(f)&&r.set(d,u-7),l.get(f+10)&&r.set(u+7,d),l.get(29-f)&&r.set(d,u+7),l.get(39-f)&&r.set(u-7,d)}}static generateCheckWords(r,i,s){let l=r.getSize()/s,u=new Yl(ct.getGF(s)),f=b.truncDivision(i,s),d=ct.bitsToWords(r,s,f);u.encode(d,f-l);let g=i%s,m=new j;m.appendBits(0,g);for(const w of Array.from(d))m.appendBits(w,s);return m}static bitsToWords(r,i,s){let l=new Int32Array(s),u,f;for(u=0,f=r.getSize()/i;u<f;u++){let d=0;for(let g=0;g<i;g++)d|=r.get(u*i+g)?1<<i-g-1:0;l[u]=d}return l}static getGF(r){switch(r){case 4:return be.AZTEC_PARAM;case 6:return be.AZTEC_DATA_6;case 8:return be.AZTEC_DATA_8;case 10:return be.AZTEC_DATA_10;case 12:return be.AZTEC_DATA_12;default:throw new y("Unsupported word size "+r)}}static stuffBits(r,i){let s=new j,l=r.getSize(),u=(1<<i)-2;for(let f=0;f<l;f+=i){let d=0;for(let g=0;g<i;g++)(f+g>=l||r.get(f+g))&&(d|=1<<i-1-g);(d&u)===u?(s.appendBits(d&u,i),f--):d&u?s.appendBits(d,i):(s.appendBits(d|1,i),f--)}return s}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}ct.DEFAULT_EC_PERCENT=33,ct.DEFAULT_AZTEC_LAYERS=0,ct.MAX_NB_BITS=32,ct.MAX_NB_BITS_COMPACT=4,ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Js{encode(r,i,s,l){return this.encodeWithHints(r,i,s,l,null)}encodeWithHints(r,i,s,l,u){let f=Ql.ISO_8859_1,d=ct.DEFAULT_EC_PERCENT,g=ct.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(ir.CHARACTER_SET)&&(f=td.forName(u.get(ir.CHARACTER_SET).toString())),u.has(ir.ERROR_CORRECTION)&&(d=b.parseInt(u.get(ir.ERROR_CORRECTION).toString())),u.has(ir.AZTEC_LAYERS)&&(g=b.parseInt(u.get(ir.AZTEC_LAYERS).toString()))),Js.encodeLayers(r,i,s,l,f,d,g)}static encodeLayers(r,i,s,l,u,f,d){if(i!==we.AZTEC)throw new y("Can only encode AZTEC, but got "+i);let g=ct.encode(ne.getBytes(r,u),f,d);return Js.renderResult(g,s,l)}static renderResult(r,i,s){let l=r.getMatrix();if(l==null)throw new $t;let u=l.getWidth(),f=l.getHeight(),d=Math.max(i,u),g=Math.max(s,f),m=Math.min(d/u,g/f),w=(d-u*m)/2,S=(g-f*m)/2,N=new J(d,g);for(let F=0,V=S;F<f;F++,V+=m)for(let G=0,K=w;G<u;G++,K+=m)l.get(G,F)&&N.setRegion(K,V,m,m);return N}}n.AbstractExpandedDecoder=re,n.ArgumentException=E,n.ArithmeticException=gt,n.AztecCode=rd,n.AztecCodeReader=nn,n.AztecCodeWriter=Js,n.AztecDecoder=et,n.AztecDetector=pn,n.AztecDetectorResult=Pt,n.AztecEncoder=ct,n.AztecHighLevelEncoder=Qa,n.AztecPoint=it,n.BarcodeFormat=we,n.Binarizer=M,n.BinaryBitmap=I,n.BitArray=j,n.BitMatrix=J,n.BitSource=vn,n.BrowserAztecCodeReader=Ji,n.BrowserBarcodeReader=dr,n.BrowserCodeReader=nt,n.BrowserDatamatrixCodeReader=Ap,n.BrowserMultiFormatReader=Lp,n.BrowserPDF417Reader=kp,n.BrowserQRCodeReader=Bp,n.BrowserQRCodeSvgWriter=bi,n.CharacterSetECI=z,n.ChecksumException=A,n.Code128Reader=xe,n.Code39Reader=Lt,n.DataMatrixDecodedBitStreamParser=Gr,n.DataMatrixReader=kr,n.DecodeHintType=B,n.DecoderResult=Jt,n.DefaultGridSampler=Nn,n.DetectorResult=At,n.EAN13Reader=br,n.EncodeHintType=ir,n.Exception=v,n.FormatException=H,n.GenericGF=be,n.GenericGFPoly=Xe,n.GlobalHistogramBinarizer=Re,n.GridSampler=Mr,n.GridSamplerInstance=rr,n.HTMLCanvasElementLuminanceSource=ue,n.HybridBinarizer=fe,n.ITFReader=ut,n.IllegalArgumentException=y,n.IllegalStateException=$t,n.InvertedLuminanceSource=ge,n.LuminanceSource=le,n.MathUtils=Be,n.MultiFormatOneDReader=Bt,n.MultiFormatReader=ed,n.MultiFormatWriter=Up,n.NotFoundException=X,n.OneDReader=at,n.PDF417DecodedBitStreamParser=ee,n.PDF417DecoderErrorCorrection=Qf,n.PDF417Reader=gr,n.PDF417ResultMetadata=Zf,n.PerspectiveTransform=or,n.PlanarYUVLuminanceSource=On,n.QRCodeByteMatrix=Ks,n.QRCodeDataMask=sn,n.QRCodeDecodedBitStreamParser=jt,n.QRCodeDecoderErrorCorrectionLevel=Tt,n.QRCodeDecoderFormatInformation=Er,n.QRCodeEncoder=Dt,n.QRCodeEncoderQRCode=Mi,n.QRCodeMaskUtil=Gt,n.QRCodeMatrixUtil=We,n.QRCodeMode=ze,n.QRCodeReader=Jn,n.QRCodeVersion=Le,n.QRCodeWriter=ra,n.RGBLuminanceSource=Xl,n.RSS14Reader=ot,n.RSSExpandedReader=se,n.ReaderException=Zs,n.ReedSolomonDecoder=pt,n.ReedSolomonEncoder=Yl,n.ReedSolomonException=lt,n.Result=De,n.ResultMetadataType=Ze,n.ResultPoint=Ie,n.StringUtils=ne,n.UnsupportedOperationException=ae,n.VideoInputDevice=ke,n.WhiteRectangleDetector=mt,n.WriterException=Et,n.ZXingArrays=R,n.ZXingCharset=td,n.ZXingInteger=b,n.ZXingStandardCharsets=Ql,n.ZXingStringBuilder=ie,n.ZXingStringEncoding=ce,n.ZXingSystem=D,n.createAbstractExpandedDecoder=tt,Object.defineProperty(n,"__esModule",{value:!0})})})(Ac,Ac.exports);var Mt=Ac.exports;const Iv=pl(Mt),Tv=Lc({__proto__:null,default:Iv},[Mt]);var y1=function(){function t(e,n,o){if(this.formatMap=new Map([[Te.QR_CODE,Mt.BarcodeFormat.QR_CODE],[Te.AZTEC,Mt.BarcodeFormat.AZTEC],[Te.CODABAR,Mt.BarcodeFormat.CODABAR],[Te.CODE_39,Mt.BarcodeFormat.CODE_39],[Te.CODE_93,Mt.BarcodeFormat.CODE_93],[Te.CODE_128,Mt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,Mt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,Mt.BarcodeFormat.MAXICODE],[Te.ITF,Mt.BarcodeFormat.ITF],[Te.EAN_13,Mt.BarcodeFormat.EAN_13],[Te.EAN_8,Mt.BarcodeFormat.EAN_8],[Te.PDF_417,Mt.BarcodeFormat.PDF_417],[Te.RSS_14,Mt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,Mt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,Mt.BarcodeFormat.UPC_A],[Te.UPC_E,Mt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,Mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Tv)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=o;var a=this.createZXingFormats(e),c=new Map;c.set(Mt.DecodeHintType.POSSIBLE_FORMATS,a),c.set(Mt.DecodeHintType.TRY_HARDER,!1),this.hints=c}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(o,a){try{o(n.decode(e))}catch(c){a(c)}})},t.prototype.decode=function(e){var n=new Mt.MultiFormatReader(this.verbose,this.hints),o=new Mt.HTMLCanvasElementLuminanceSource(e),a=new Mt.BinaryBitmap(new Mt.HybridBinarizer(o)),c=n.decode(a);return{text:c.text,format:Sg.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,o,a){e.set(n,o)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],o=0,a=e;o<a.length;o++){var c=a[o];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.logError("".concat(c," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),_v=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},Nv=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},w1=function(){function t(e,n,o){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=o;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return _v(this,void 0,void 0,function(){var n,o;return Nv(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(n),[2,{text:o.rawValue,format:Sg.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,o=0,a=0,c=e;a<c.length;a++){var h=c[a],p=h.boundingBox.width*h.boundingBox.height;p>o&&(o=p,n=h)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],o=0,a=e;o<a.length;o++){var c=a[o];this.formatMap.has(c)?n.push(this.formatMap.get(c)):this.logger.warn("".concat(c," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,o,a){e.set(n,o)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),E1=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},C1=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Rv=function(){function t(e,n,o,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,n&&w1.isSupported()?(this.primaryDecoder=new w1(e,o,a),this.secondaryDecoder=new y1(e,o,a)):this.primaryDecoder=new y1(e,o,a)}return t.prototype.decodeAsync=function(e){return E1(this,void 0,void 0,function(){var n;return C1(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return E1(this,void 0,void 0,function(){var n,o;return C1(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(o=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw o;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,o=this.executionResults;n<o.length;n++){var a=o[n];e+=a}var c=e/this.executionResults.length;console.log("".concat(c," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Mf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),al=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},sl=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},_g=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var o={advanced:[n]};return this.track.applyConstraints(o)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),Dv=function(t){Mf(e,t);function e(n,o){return t.call(this,n,o)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var o={};o[this.name]=n;var a={advanced:[o]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),o=n[this.name];return{min:o.min,max:o.max,step:o.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(_g),Ov=function(t){Mf(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(Dv),Mv=function(t){Mf(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(_g),bv=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new Ov(this.track)},t.prototype.torchFeature=function(){return new Mv(this.track)},t}(),Pv=function(){function t(e,n,o){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var o=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(o,a),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,o,a){return al(this,void 0,void 0,function(){var c,h;return sl(this,function(p){switch(p.label){case 0:return c=new t(e,n,a),o.aspectRatio?(h={aspectRatio:o.aspectRatio},[4,c.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:p.sent(),p.label=2;case 2:return c.setupSurface(),[2,c]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,o=function(){setTimeout(e,200),n.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return al(this,void 0,void 0,function(){return sl(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,o){var a=e.mediaStream.getVideoTracks(),c=a.length,h=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++h,h>=c&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new bv(this.getFirstTrackOrFail())},t}(),Lv=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,o){return al(this,void 0,void 0,function(){return sl(this,function(a){return[2,Pv.create(e,this.mediaStream,n,o)]})})},t.create=function(e){return al(this,void 0,void 0,function(){var n,o;return sl(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return o=a.sent(),[2,new t(o)]}})})},t}(),S1=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},A1=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},kv=function(){function t(){}return t.failIfNotSupported=function(){return S1(this,void 0,void 0,function(){return A1(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return S1(this,void 0,void 0,function(){return A1(this,function(n){return[2,Lv.create(e)]})})},t}(),Bv=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},Fv=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Uv=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Ea.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Ea.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return Bv(this,void 0,void 0,function(){var e,n,o,a,c,h,p;return Fv(this,function(x){switch(x.label){case 0:return e=function(v){for(var E=v.getVideoTracks(),y=0,I=E;y<I.length;y++){var A=I[y];A.enabled=!1,A.stop(),v.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=x.sent(),a=[],c=0,h=o;c<h.length;c++)p=h[c],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return e(n),[2,a]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var o=function(c){for(var h=[],p=0,x=c;p<x.length;p++){var v=x[p];v.kind==="video"&&h.push({id:v.id,label:v.label})}e(h)},a=MediaStreamTrack;a.getSources(o)})},t}(),Yt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Yt||(Yt={}));var jv=function(){function t(){this.state=Yt.NOT_STARTED,this.onGoingTransactionNewState=Yt.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Yt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Yt.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Yt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Yt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Yt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Yt.UNKNOWN:throw"Transition from unknown is not allowed";case Yt.NOT_STARTED:this.failIfNewStateIs(e,[Yt.PAUSED]);break;case Yt.SCANNING:break;case Yt.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var o=0,a=n;o<a.length;o++){var c=a[o];if(e===c)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),zv=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Yt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Yt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Yt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Yt.PAUSED},t}(),Vv=function(){function t(){}return t.create=function(){return new zv(new jv)},t}(),Hv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xr=function(t){Hv(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Cn),Wv=function(){function t(e,n){this.logger=n,this.fps=Xr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Xr.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Tg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!kn(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),I1=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var o;typeof n=="boolean"?this.verbose=n===!0:n&&(o=n,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new Ig(this.verbose),this.qrcode=new Rv(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Vv.create()}return t.prototype.start=function(e,n,o,a){var c=this;if(!e)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;a?h=a:h=this.verbose?this.logger.log:function(){};var p=Wv.create(n,this.logger);this.clearElement();var x=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=x,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Xr.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var y=this,I=this.stateManagerProxy.startTransition(Yt.SCANNING);return new Promise(function(A,M){var D=v?p.videoConstraints:y.createVideoConstraints(e);if(!D){I.cancel(),M("videoConstraints should be defined");return}var k={};(!v||p.aspectRatio)&&(k.aspectRatio=p.aspectRatio);var O={onRenderSurfaceReady:function(R,b){y.setupUi(R,b,p),y.isScanning=!0,y.foreverScan(p,o,h)}};kv.failIfNotSupported().then(function(R){R.create(D).then(function(b){return b.render(c.element,k,O).then(function(j){y.renderedCamera=j,I.execute(),A(null)}).catch(function(j){I.cancel(),M(j)})}).catch(function(b){I.cancel(),M(Ea.errorGettingUserMedia(b))})}).catch(function(R){I.cancel(),M(Ea.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Yt.PAUSED),this.showPausedState(),(kn(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Yt.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Yt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(e.element){var c=document.getElementById(Xr.SHADED_REGION_ELEMENT_ID);c&&e.element.removeChild(c)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),o(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(o){return o.decodedText})},t.prototype.scanFileV2=function(e,n){var o=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(kn(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,c){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(e);var h=new Image;h.onload=function(){var p=h.width,x=h.height,v=document.getElementById(o.elementId),E=v.clientWidth?v.clientWidth:Xr.DEFAULT_WIDTH,y=Math.max(v.clientHeight?v.clientHeight:x,Xr.FILE_SCAN_MIN_HEIGHT),I=o.computeCanvasDrawConfig(p,x,E,y);if(n){var A=o.createCanvasElement(E,y,"qr-canvas-visible");A.style.display="inline-block",v.appendChild(A);var M=A.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=E,M.canvas.height=y,M.drawImage(h,0,0,p,x,I.x,I.y,I.width,I.height)}var D=Xr.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(h.width,I.width),O=Math.max(h.height,I.height),R=k+2*D,b=O+2*D,j=o.createCanvasElement(R,b);v.appendChild(j);var Z=j.getContext("2d");if(!Z)throw"Unable to get 2d context from canvas";Z.canvas.width=R,Z.canvas.height=b,Z.drawImage(h,0,0,p,x,D,D,k,O);try{o.qrcode.decodeRobustlyAsync(j).then(function(B){a(v1.createFromQrcodeResult(B))}).catch(c)}catch(B){c("QR code parse error, error = ".concat(B))}},h.onerror=c,h.onabort=c,h.onstalled=c,h.onsuspend=c,h.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Uv.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!Tg.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],a=0,c=e.formatsToSupport;a<c.length;a++){var h=c[a];Sv(h)?o.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(kn(e))return!0;if(!kn(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(kn(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return kn(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,o){var a=this,c=o.qrbox;this.validateQrboxConfig(c);var h=this.toQrdimensions(e,n,c),p=function(v){if(v<Xr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Xr.MIN_QR_BOX_SIZE,"px.")},x=function(v){return v>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=e),v};p(h.width),p(h.height),h.width=x(h.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(e,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return o},t.prototype.setupUi=function(e,n,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,o);var a=kn(o.qrbox)?{width:e,height:n}:o.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(e,n,a);c.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=o.isShadedBoxEnabled()&&c.height<=n,p={x:0,y:0,width:e,height:n},x=h?this.getShadedRegionBounds(e,n,c):p,v=this.createCanvasElement(x.width,x.height),E={willReadFrequently:!0},y=v.getContext("2d",E);y.canvas.width=x.width,y.canvas.height=x.height,this.element.append(v),h&&this.possiblyInsertShadingElement(this.element,e,n,c),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=y,this.canvasElement=v},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Ea.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,v1.createFromQrcodeResult(a)),o.possiblyUpdateShaders(!0),!0}).catch(function(a){o.possiblyUpdateShaders(!1);var c=Ea.codeParseError(a);return n(c,Ag.createFrom(c)),!1})},t.prototype.foreverScan=function(e,n,o){var a=this;if(this.shouldScan&&this.renderedCamera){var c=this.renderedCamera.getSurface(),h=c.videoWidth/c.clientWidth,p=c.videoHeight/c.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*h,v=this.qrRegion.height*p,E=this.qrRegion.x*h,y=this.qrRegion.y*p;this.context.drawImage(c,E,y,x,v,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,n,o)},a.getTimeoutFps(e.fps))};this.scanContext(n,o).then(function(A){!A&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,o).finally(function(){I()})):I()}).catch(function(A){a.logger.logError("Error happend while scanning context",A),I()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",o="deviceId",a={user:!0,environment:!0},c="exact",h=function(M){if(M in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var x=Object.keys(e)[0];if(x!==n&&x!==o)throw"Only '".concat(n,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var v=e.facingMode;if(typeof v=="string"){if(h(v))return{facingMode:v}}else if(typeof v=="object")if(c in v){if(h(v["".concat(c)]))return{facingMode:{exact:v["".concat(c)]}}}else throw"'facingMode' should be string or object with"+" ".concat(c," as key.");else{var E=typeof v;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var y=e.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(c in y)return{deviceId:{exact:y["".concat(c)]}};throw"'deviceId' should be string or object with"+" ".concat(c," as key.")}else{var I=typeof y;throw"Invalid type of 'deviceId' = ".concat(I)}}}var A=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},t.prototype.computeCanvasDrawConfig=function(e,n,o,a){if(e<=o&&n<=a){var c=(o-e)/2,h=(a-n)/2;return{x:c,y:h,width:e,height:n}}else{var p=e,x=n;return e>o&&(n=o/e*n,e=o),n>a&&(e=a/n*e,n=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(x)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,o,a)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Xr.BORDER_SHADER_MATCH_COLOR:Xr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,o){var a=e,c=n,h=document.createElement("canvas");return h.style.width="".concat(a,"px"),h.style.height="".concat(c,"px"),h.style.display="none",h.id=kn(o)?"qr-canvas":o,h},t.prototype.getShadedRegionBounds=function(e,n,o){if(o.width>e||o.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-o.width)/2,y:(n-o.height)/2,width:o.width,height:o.height}},t.prototype.possiblyInsertShadingElement=function(e,n,o,a){if(!(n-a.width<1||o-a.height<1)){var c=document.createElement("div");c.style.position="absolute";var h=(n-a.width)/2,p=(o-a.height)/2;if(c.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),c.style.boxSizing="border-box",c.style.top="0px",c.style.bottom="0px",c.style.left="0px",c.style.right="0px",c.id="".concat(Xr.SHADED_REGION_ELEMENT_ID),n-a.width<11||o-a.height<11)this.hasBorderShaders=!1;else{var x=5,v=40;this.insertShaderBorders(c,v,x,-x,null,0,!0),this.insertShaderBorders(c,v,x,-x,null,0,!1),this.insertShaderBorders(c,v,x,null,-x,0,!0),this.insertShaderBorders(c,v,x,null,-x,0,!1),this.insertShaderBorders(c,x,v+x,-x,null,-x,!0),this.insertShaderBorders(c,x,v+x,null,-x,-x,!0),this.insertShaderBorders(c,x,v+x,-x,null,-x,!1),this.insertShaderBorders(c,x,v+x,null,-x,-x,!1),this.hasBorderShaders=!0}e.append(c)}},t.prototype.insertShaderBorders=function(e,n,o,a,c,h,p){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Xr.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(o,"px"),a!==null&&(x.style.top="".concat(a,"px")),c!==null&&(x.style.bottom="".concat(c,"px")),p?x.style.left="".concat(h,"px"):x.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),e.appendChild(x)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),bf="data:image/svg+xml;base64,",Gv=bf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Yv=bf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",T1=bf+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Xv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_1=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),Qv=function(){function t(){this.data=_1.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=_1.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),$v=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=x1.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var o=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(a);var c=document.createElement("a");c.innerText=x1.reportIssues(),c.href="https://github.com/mebjas/html5-qrcode/issues",c.target="new",c.style.color="white",this.infoDiv.appendChild(c),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),Zv=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=T1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return n.onHoverIn()},this.infoIcon.onmouseout=function(o){return n.onHoverOut()},this.infoIcon.onclick=function(o){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Xv,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=T1,this.infoIcon.style.opacity="0.6")},t}(),Kv=function(){function t(){var e=this;this.infoDiv=new $v,this.infoIcon=new Zv(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),qv=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},Jv=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},N1=function(){function t(){}return t.hasPermissions=function(){return qv(this,void 0,void 0,function(){var e,n,o,a;return Jv(this,function(c){switch(c.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=c.sent(),n=0,o=e;n<o.length;n++)if(a=o[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},t}(),ni=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var o=n[e];if(t.isCameraScanType(o))return!0}return!1},t.isCameraScanType=function(e){return e===Ai.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Ai.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Cn.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Cn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var o=0,a=e;o<a.length;o++){var c=a[o];if(!Cn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(c))throw"Unsupported scan type ".concat(c)}return e},t}(),Kr=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Wn=function(){function t(){}return t.createElement=function(e,n){var o=document.createElement(e);return o.id=n,o.classList.add(Kr.ALL_ELEMENT_CLASS),e==="button"&&o.setAttribute("type","button"),o},t}(),Ng=function(t,e,n,o){function a(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(E){try{v(o.next(E))}catch(y){h(y)}}function x(E){try{v(o.throw(E))}catch(y){h(y)}}function v(E){E.done?c(E.value):a(E.value).then(p,x)}v((o=o.apply(t,e||[])).next())})},Rg=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(v){return function(E){return x([v,E])}}function x(v){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,v[0]&&(n=0)),n;)try{if(o=1,a&&(c=v[0]&2?a.return:v[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,v[1])).done)return c;switch(a=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,a=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){n.label=v[1];break}if(v[0]===6&&n.label<c[1]){n.label=c[1],c=v;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(v);break}c[2]&&n.ops.pop(),n.trys.pop();continue}v=e.call(t,n)}catch(E){v=[6,E],a=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},R1=function(){function t(e,n,o){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=o}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return Ng(this,void 0,void 0,function(){var e,n;return Rg(this,function(o){switch(o.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=o.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?vt.torchOffButton():vt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var o=e?vt.torchOnFailedMessage():vt.torchOffFailedMessage();n&&(o+="; Error = "+n),this.onTorchActionFailureCallback(o)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),ex=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=Wn.createElement("button",Kr.TORCH_BUTTON_ID),this.torchController=new R1(e,this,n)}return t.prototype.render=function(e,n){var o=this;this.torchButton.innerText=vt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(c){return Ng(o,void 0,void 0,function(){return Rg(this,function(h){switch(h.label){case 0:return[4,a.torchController.flipState()];case 1:return h.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Kr.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Kr.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Kr.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Kr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new R1(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=vt.torchOnButton(),this.torchController.reset()},t.create=function(e,n,o,a){var c=new t(n,a);return c.render(e,o),c},t}(),tx=function(){function t(e,n,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Wn.createElement("button",Kr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Wn.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var c=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var x=p.target;if(!(x.files&&x.files.length===0)){var v=x.files,E=v[0],y=E.name;c.setImageNameToButton(y),o(E)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){c.fileBasedScanRegion.style.border=c.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),c.fileBasedScanRegion.style.border=c.fileBasedScanRegionDefaultBorder();var x=p.dataTransfer;if(x){var v=x.files;if(!v||v.length===0)return;for(var E=!1,y=0;y<v.length;++y){var I=v.item(y);if(I){var A=/image.*/;if(I.type.match(A)){E=!0;var M=I.name;c.setImageNameToButton(M),o(I),h.innerText=vt.dragAndDropMessage();break}}}E||(h.innerText=vt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=vt.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var o=e.substring(0,8),a=e.length,c=e.substring(a-8,a);e="".concat(o,"....").concat(c)}var h=vt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=h},t.prototype.setInitialValueToButton=function(){var e=vt.fileSelectionChooseImage()+" - "+vt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,o){var a=new t(e,n,o);return a},t}(),rx=function(){function t(e){this.selectElement=Wn.createElement("select",Kr.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)n.style.display="none";else{var a=vt.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var c=1,h=0,p=this.cameras;h<p.length;h++){var x=p[h],v=x.id,E=x.label==null?v:x.label;(!E||E==="")&&(E=[vt.anonymousCameraPrefix(),c++].join(" "));var y=document.createElement("option");y.value=v,y.innerText=E,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,o=this.options;n<o.length;n++){var a=o[n];if(a.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var o=new t(n);return o.render(e),o},t}(),nx=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Wn.createElement("input",Kr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=vt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=vt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,o,a){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var o=new t;return o.render(e,n),o},t}(),Qr;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Qr||(Qr={}));function ix(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function ax(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var sx=function(){function t(e,n,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=o===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new ni(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ig(this.verbose),this.persistedDataManager=new Qv,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(c,h){if(e)e(c,h);else{if(o.lastMatchFound===c)return;o.lastMatchFound=c,o.setHeaderMessage(vt.lastMatch(c),Qr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(c,h){n&&n(c,h)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new I1(this.getScanRegionId(),ax(this.config,this.verbose))},t.prototype.pause=function(e){(kn(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var o=document.getElementById(e.elementId);o&&(o.innerHTML="",e.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,a){if(!e.html5Qrcode){o();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(c){if(!e.html5Qrcode){o();return}e.html5Qrcode.clear(),n(),o()}).catch(function(c){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",c),a(c)}):(e.html5Qrcode.clear(),n(),o())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Cn.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Cn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Cn.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Cn.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Cn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Cn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Cn.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),o=this.getScanRegionId();n.id=o,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),ni.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),c=this.getDashboardId();a.id=c,a.style.width="100%",e.appendChild(a),this.setupInitialDashboard(a)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var o=new Kv;o.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,o){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(vt.cameraPermissionRequesting());var c=function(){o||a.createPermissionButton(e,n)};I1.getCameras().then(function(h){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),h&&h.length>0?(e.removeChild(n),a.renderCameraSelection(h)):(a.setHeaderMessage(vt.noCameraFound(),Qr.STATUS_WARNING),c())}).catch(function(h){a.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:c(),a.setHeaderMessage(h,Qr.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var o=this,a=Wn.createElement("button",this.getCameraPermissionButtonId());a.innerText=vt.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,o.createCameraListUi(e,n,a)}),n.appendChild(a)},t.prototype.createPermissionsUi=function(e,n){var o=this;if(ni.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){N1.hasPermissions().then(function(a){a?o.createCameraListUi(e,n):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,n))}).catch(function(a){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=ni.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(o);var a=document.createElement("div");a.style.textAlign="center",o.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,a),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=ni.isFileScanType(this.currentScanType),o=this,a=function(c){if(!o.html5Qrcode)throw"html5Qrcode not defined";ni.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(vt.loadingImage()),o.html5Qrcode.scanFileV2(c,!0).then(function(h){o.resetHeaderMessage(),o.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){o.setHeaderMessage(h,Qr.STATUS_WARNING),o.qrCodeErrorCallback(h,Ag.createFrom(h))}))};this.fileSelectionUi=tx.create(e,n,a)},t.prototype.renderCameraSelection=function(e){var n=this,o=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var c=nx.create(a,!1),h=function(D){var k=D.zoomFeature();if(k.isSupported()){c.setOnCameraZoomValueChangeCallback(function(R){k.apply(R)});var O=1;n.config.defaultZoomValueIfSupported&&(O=n.config.defaultZoomValueIfSupported),O=Av(O,k.min(),k.max()),c.setValues(k.min(),k.max(),O,k.step()),c.show()}},p=rx.create(a,e),x=document.createElement("span"),v=Wn.createElement("button",Kr.CAMERA_START_BUTTON_ID);v.innerText=vt.scanButtonStartScanningText(),x.appendChild(v);var E=Wn.createElement("button",Kr.CAMERA_STOP_BUTTON_ID);E.innerText=vt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,x.appendChild(E);var y,I=function(D){if(!D.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(D.torchFeature()):y=ex.create(x,D.torchFeature(),{display:"none",marginLeft:"5px"},function(k){o.setHeaderMessage(k,Qr.STATUS_WARNING)}),y.show()};a.appendChild(x);var A=function(D){D||(v.style.display="none"),v.innerText=vt.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,D&&(v.style.display="inline-block")};if(v.addEventListener("click",function(D){v.innerText=vt.scanButtonScanningStarting(),p.disable(),v.disabled=!0,v.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var k=p.getValue();o.persistedDataManager.setLastUsedCameraId(k),o.html5Qrcode.start(k,ix(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(O){E.disabled=!1,E.style.display="inline-block",A(!1);var R=o.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&I(R),n.config.showZoomSliderIfSupported===!0&&h(R)}).catch(function(O){o.showHideScanTypeSwapLink(!0),p.enable(),A(!0),o.setHeaderMessage(O,Qr.STATUS_WARNING)})}),p.hasSingleItem()&&v.click(),E.addEventListener("click",function(D){if(!o.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,o.html5Qrcode.stop().then(function(k){n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),p.enable(),v.disabled=!1,E.style.display="none",v.style.display="inline-block",y&&(y.reset(),y.hide()),c.removeOnCameraZoomValueChangeCallback(),c.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(k){E.disabled=!1,o.setHeaderMessage(k,Qr.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var M=o.persistedDataManager.getLastUsedCameraId();p.hasValue(M)?(p.setValue(M),v.click()):o.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=vt.textIfCameraScanSelected(),o=vt.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),c=document.createElement("div");c.style.textAlign="center";var h=Wn.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=ni.isCameraScanType(this.currentScanType)?n:o,h.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,ni.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),h.innerText=o,e.currentScanType=Ai.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),h.innerText=n,e.currentScanType=Ai.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),c.appendChild(h),a.appendChild(c)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){N1.hasPermissions().then(function(o){if(o){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(o){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=Qr.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=e,o.style.display="block",n){case Qr.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case Qr.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case Qr.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Gv,this.cameraScanImage.alt=vt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Yv,this.fileScanImage.alt=vt.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Kr.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Kr.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zt(){return zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},zt.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const D1="popstate";function ox(t){t===void 0&&(t={});function e(o,a){let{pathname:c,search:h,hash:p}=o.location;return Bs("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:Ws(a)}return ux(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ka(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lx(){return Math.random().toString(36).substr(2,8)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function Bs(t,e,n,o){return n===void 0&&(n=null),zt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ni(e):e,{state:n,key:e&&e.key||o||lx()})}function Ws(t){let{pathname:e="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Ni(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function ux(t,e,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:c=!1}=o,h=a.history,p=er.Pop,x=null,v=E();v==null&&(v=0,h.replaceState(zt({},h.state,{idx:v}),""));function E(){return(h.state||{idx:null}).idx}function y(){p=er.Pop;let k=E(),O=k==null?null:k-v;v=k,x&&x({action:p,location:D.location,delta:O})}function I(k,O){p=er.Push;let R=Bs(D.location,k,O);v=E()+1;let b=O1(R,v),j=D.createHref(R);try{h.pushState(b,"",j)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(j)}c&&x&&x({action:p,location:D.location,delta:1})}function A(k,O){p=er.Replace;let R=Bs(D.location,k,O);v=E();let b=O1(R,v),j=D.createHref(R);h.replaceState(b,"",j),c&&x&&x({action:p,location:D.location,delta:0})}function M(k){let O=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof k=="string"?k:Ws(k);return R=R.replace(/ $/,"%20"),qe(O,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,O)}let D={get action(){return p},get location(){return t(a,h)},listen(k){if(x)throw new Error("A history only accepts one active listener");return a.addEventListener(D1,y),x=k,()=>{a.removeEventListener(D1,y),x=null}},createHref(k){return e(a,k)},createURL:M,encodeLocation(k){let O=M(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:I,replace:A,go(k){return h.go(k)}};return D}var _t;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_t||(_t={}));const cx=new Set(["lazy","caseSensitive","path","id","index","children"]);function fx(t){return t.index===!0}function Fs(t,e,n,o){return n===void 0&&(n=[]),o===void 0&&(o={}),t.map((a,c)=>{let h=[...n,String(c)],p=typeof a.id=="string"?a.id:h.join("-");if(qe(a.index!==!0||!a.children,"Cannot specify children on an index route"),qe(!o[p],'Found a route id collision on id "'+p+`".  Route id's must be globally unique within Data Router usages`),fx(a)){let x=zt({},a,e(a),{id:p});return o[p]=x,x}else{let x=zt({},a,e(a),{id:p,children:void 0});return o[p]=x,a.children&&(x.children=Fs(a.children,e,h,o)),x}})}function ki(t,e,n){return n===void 0&&(n="/"),bo(t,e,n,!1)}function bo(t,e,n,o){let a=typeof e=="string"?Ni(e):e,c=Gs(a.pathname||"/",n);if(c==null)return null;let h=Dg(t);hx(h);let p=null;for(let x=0;p==null&&x<h.length;++x){let v=Ax(c);p=Cx(h[x],v,o)}return p}function dx(t,e){let{route:n,pathname:o,params:a}=t;return{id:n.id,pathname:o,params:a,data:e[n.id],handle:n.handle}}function Dg(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(c,h,p)=>{let x={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};x.relativePath.startsWith("/")&&(qe(x.relativePath.startsWith(o),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(o.length));let v=wi([o,x.relativePath]),E=n.concat(x);c.children&&c.children.length>0&&(qe(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Dg(c.children,e,E,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:wx(v,c.index),routesMeta:E})};return t.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))a(c,h);else for(let x of Og(c.path))a(c,h,x)}),e}function Og(t){let e=t.split("/");if(e.length===0)return[];let[n,...o]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(o.length===0)return a?[c,""]:[c];let h=Og(o.join("/")),p=[];return p.push(...h.map(x=>x===""?c:[c,x].join("/"))),a&&p.push(...h),p.map(x=>t.startsWith("/")&&x===""?"/":x)}function hx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ex(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const gx=/^:[\w-]+$/,px=3,mx=2,vx=1,xx=10,yx=-2,M1=t=>t==="*";function wx(t,e){let n=t.split("/"),o=n.length;return n.some(M1)&&(o+=yx),e&&(o+=mx),n.filter(a=>!M1(a)).reduce((a,c)=>a+(gx.test(c)?px:c===""?vx:xx),o)}function Ex(t,e){return t.length===e.length&&t.slice(0,-1).every((o,a)=>o===e[a])?t[t.length-1]-e[e.length-1]:0}function Cx(t,e,n){n===void 0&&(n=!1);let{routesMeta:o}=t,a={},c="/",h=[];for(let p=0;p<o.length;++p){let x=o[p],v=p===o.length-1,E=c==="/"?e:e.slice(c.length)||"/",y=b1({path:x.relativePath,caseSensitive:x.caseSensitive,end:v},E),I=x.route;if(!y&&v&&n&&!o[o.length-1].route.index&&(y=b1({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},E)),!y)return null;Object.assign(a,y.params),h.push({params:a,pathname:wi([c,y.pathname]),pathnameBase:_x(wi([c,y.pathnameBase])),route:I}),y.pathnameBase!=="/"&&(c=wi([c,y.pathnameBase]))}return h}function b1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=Sx(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:o.reduce((v,E,y)=>{let{paramName:I,isOptional:A}=E;if(I==="*"){let D=p[y]||"";h=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const M=p[y];return A&&!M?v[I]=void 0:v[I]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:t}}function Sx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ka(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,x)=>(o.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),o]}function Ax(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ka(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function Ix(t,e){e===void 0&&(e="/");let{pathname:n,search:o="",hash:a=""}=typeof t=="string"?Ni(t):t;return{pathname:n?n.startsWith("/")?n:Tx(n,e):e,search:Nx(o),hash:Rx(a)}}function Tx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Au(t,e,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bg(t,e){let n=Mg(t);return e?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Pg(t,e,n,o){o===void 0&&(o=!1);let a;typeof t=="string"?a=Ni(t):(a=zt({},t),qe(!a.pathname||!a.pathname.includes("?"),Au("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),Au("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),Au("#","search","hash",a)));let c=t===""||a.pathname==="",h=c?"/":a.pathname,p;if(h==null)p=n;else{let y=e.length-1;if(!o&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),y-=1;a.pathname=I.join("/")}p=y>=0?e[y]:"/"}let x=Ix(a,p),v=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(v||E)&&(x.pathname+="/"),x}const wi=t=>t.join("/").replace(/\/\/+/g,"/"),_x=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Pf{constructor(e,n,o,a){a===void 0&&(a=!1),this.status=e,this.statusText=n||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function Ml(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lg=["post","put","patch","delete"],Dx=new Set(Lg),Ox=["get",...Lg],Mx=new Set(Ox),bx=new Set([301,302,303,307,308]),Px=new Set([307,308]),Iu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ns={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Lf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kx=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),kg="remix-router-transitions";function Bx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",o=!n;qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(t.mapRouteProperties)a=t.mapRouteProperties;else if(t.detectErrorBoundary){let W=t.detectErrorBoundary;a=$=>({hasErrorBoundary:W($)})}else a=kx;let c={},h=Fs(t.routes,a,void 0,c),p,x=t.basename||"/",v=t.unstable_dataStrategy||Vx,E=t.unstable_patchRoutesOnMiss,y=zt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),I=null,A=new Set,M=null,D=null,k=null,O=t.hydrationData!=null,R=ki(h,t.history.location,x),b=null;if(R==null&&!E){let W=_r(404,{pathname:t.history.location.pathname}),{matches:$,route:_}=H1(h);R=$,b={[_.id]:W}}R&&E&&!t.hydrationData&&Pr(R,h,t.history.location.pathname).active&&(R=null);let j;if(!R)j=!1,R=[];else if(R.some(W=>W.route.lazy))j=!1;else if(!R.some(W=>W.route.loader))j=!0;else if(y.v7_partialHydration){let W=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null,_=T=>T.route.loader?typeof T.route.loader=="function"&&T.route.loader.hydrate===!0?!1:W&&W[T.route.id]!==void 0||$&&$[T.route.id]!==void 0:!0;if($){let T=R.findIndex(L=>$[L.route.id]!==void 0);j=R.slice(0,T+1).every(_)}else j=R.every(_)}else j=t.hydrationData!=null;let Z,B={historyAction:t.history.action,location:t.history.location,matches:R,initialized:j,navigation:Iu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||b,fetchers:new Map,blockers:new Map},H=er.Pop,Q=!1,z,ae=!1,ce=new Map,ne=null,ie=!1,J=!1,X=[],Re=[],fe=new Map,le=0,ge=-1,ue=new Map,ke=new Set,Me=new Map,nt=new Map,De=new Set,Rt=new Map,we=new Map,dt=new Map,Ze=!1;function Jt(){if(I=t.history.listen(W=>{let{action:$,location:_,delta:T}=W;if(Ze){Ze=!1;return}ka(we.size===0||T!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let L=Di({currentLocation:B.location,nextLocation:_,historyAction:$});if(L&&T!=null){Ze=!0,t.history.go(T*-1),Dn(L,{state:"blocked",location:_,proceed(){Dn(L,{state:"proceeding",proceed:void 0,reset:void 0,location:_}),t.history.go(T)},reset(){let U=new Map(B.blockers);U.set(L,ns),gt({blockers:U})}});return}return pt($,_)}),n){ty(e,ce);let W=()=>ry(e,ce);e.addEventListener("pagehide",W),ne=()=>e.removeEventListener("pagehide",W)}return B.initialized||pt(er.Pop,B.location,{initialHydration:!0}),Z}function yt(){I&&I(),ne&&ne(),A.clear(),z&&z.abort(),B.fetchers.forEach((W,$)=>nn($)),B.blockers.forEach((W,$)=>Rn($))}function Xe(W){return A.add(W),()=>A.delete(W)}function gt(W,$){$===void 0&&($={}),B=zt({},B,W);let _=[],T=[];y.v7_fetcherPersist&&B.fetchers.forEach((L,U)=>{L.state==="idle"&&(De.has(U)?T.push(U):_.push(U))}),[...A].forEach(L=>L(B,{deletedFetchers:T,unstable_viewTransitionOpts:$.viewTransitionOpts,unstable_flushSync:$.flushSync===!0})),y.v7_fetcherPersist&&(_.forEach(L=>B.fetchers.delete(L)),T.forEach(L=>nn(L)))}function be(W,$,_){var T,L;let{flushSync:U}=_===void 0?{}:_,Y=B.actionData!=null&&B.navigation.formMethod!=null&&Sn(B.navigation.formMethod)&&B.navigation.state==="loading"&&((T=W.state)==null?void 0:T._isRedirect)!==!0,re;$.actionData?Object.keys($.actionData).length>0?re=$.actionData:re=null:Y?re=B.actionData:re=null;let oe=$.loaderData?z1(B.loaderData,$.loaderData,$.matches||[],$.errors):B.loaderData,he=B.blockers;he.size>0&&(he=new Map(he),he.forEach((Se,Pe)=>he.set(Pe,ns)));let ye=Q===!0||B.navigation.formMethod!=null&&Sn(B.navigation.formMethod)&&((L=W.state)==null?void 0:L._isRedirect)!==!0;p&&(h=p,p=void 0),ie||H===er.Pop||(H===er.Push?t.history.push(W,W.state):H===er.Replace&&t.history.replace(W,W.state));let Fe;if(H===er.Pop){let Se=ce.get(B.location.pathname);Se&&Se.has(W.pathname)?Fe={currentLocation:B.location,nextLocation:W}:ce.has(W.pathname)&&(Fe={currentLocation:W,nextLocation:B.location})}else if(ae){let Se=ce.get(B.location.pathname);Se?Se.add(W.pathname):(Se=new Set([W.pathname]),ce.set(B.location.pathname,Se)),Fe={currentLocation:B.location,nextLocation:W}}gt(zt({},$,{actionData:re,loaderData:oe,historyAction:H,location:W,initialized:!0,navigation:Iu,revalidation:"idle",restoreScrollPosition:Zt(W,$.matches||B.matches),preventScrollReset:ye,blockers:he}),{viewTransitionOpts:Fe,flushSync:U===!0}),H=er.Pop,Q=!1,ae=!1,ie=!1,J=!1,X=[],Re=[]}async function lt(W,$){if(typeof W=="number"){t.history.go(W);return}let _=Ic(B.location,B.matches,x,y.v7_prependBasename,W,y.v7_relativeSplatPath,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:T,submission:L,error:U}=P1(y.v7_normalizeFormMethod,!1,_,$),Y=B.location,re=Bs(B.location,T,$&&$.state);re=zt({},re,t.history.encodeLocation(re));let oe=$&&$.replace!=null?$.replace:void 0,he=er.Push;oe===!0?he=er.Replace:oe===!1||L!=null&&Sn(L.formMethod)&&L.formAction===B.location.pathname+B.location.search&&(he=er.Replace);let ye=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Fe=($&&$.unstable_flushSync)===!0,Se=Di({currentLocation:Y,nextLocation:re,historyAction:he});if(Se){Dn(Se,{state:"blocked",location:re,proceed(){Dn(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),lt(W,$)},reset(){let Pe=new Map(B.blockers);Pe.set(Se,ns),gt({blockers:Pe})}});return}return await pt(he,re,{submission:L,pendingError:U,preventScrollReset:ye,replace:$&&$.replace,enableViewTransition:$&&$.unstable_viewTransition,flushSync:Fe})}function $t(){if(Nn(),gt({revalidation:"loading"}),B.navigation.state!=="submitting"){if(B.navigation.state==="idle"){pt(B.historyAction,B.location,{startUninterruptedRevalidation:!0});return}pt(H||B.historyAction,B.navigation.location,{overrideNavigation:B.navigation})}}async function pt(W,$,_){z&&z.abort(),z=null,H=W,ie=(_&&_.startUninterruptedRevalidation)===!0,qn(B.location,B.matches),Q=(_&&_.preventScrollReset)===!0,ae=(_&&_.enableViewTransition)===!0;let T=p||h,L=_&&_.overrideNavigation,U=ki(T,$,x),Y=(_&&_.flushSync)===!0,re=Pr(U,T,$.pathname);if(re.active&&re.matches&&(U=re.matches),!U){let{error:je,notFoundMatches:Ae,route:Oe}=Ke($.pathname);be($,{matches:Ae,loaderData:{},errors:{[Oe.id]:je}},{flushSync:Y});return}if(B.initialized&&!J&&Qx(B.location,$)&&!(_&&_.submission&&Sn(_.submission.formMethod))){be($,{matches:U},{flushSync:Y});return}z=new AbortController;let oe=oa(t.history,$,z.signal,_&&_.submission),he;if(_&&_.pendingError)he=[Ca(U).route.id,{type:_t.error,error:_.pendingError}];else if(_&&_.submission&&Sn(_.submission.formMethod)){let je=await St(oe,$,_.submission,U,re.active,{replace:_.replace,flushSync:Y});if(je.shortCircuited)return;if(je.pendingActionResult){let[Ae,Oe]=je.pendingActionResult;if(Zr(Oe)&&Ml(Oe.error)&&Oe.error.status===404){z=null,be($,{matches:je.matches,loaderData:{},errors:{[Ae]:Oe.error}});return}}U=je.matches||U,he=je.pendingActionResult,L=Tu($,_.submission),Y=!1,re.active=!1,oe=oa(t.history,oe.url,oe.signal)}let{shortCircuited:ye,matches:Fe,loaderData:Se,errors:Pe}=await et(oe,$,U,re.active,L,_&&_.submission,_&&_.fetcherSubmission,_&&_.replace,_&&_.initialHydration===!0,Y,he);ye||(z=null,be($,zt({matches:Fe||U},V1(he),{loaderData:Se,errors:Pe})))}async function St(W,$,_,T,L,U){U===void 0&&(U={}),Nn();let Y=Jx($,_);if(gt({navigation:Y},{flushSync:U.flushSync===!0}),L){let he=await an(T,$.pathname,W.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let{boundaryId:ye,error:Fe}=br($.pathname,he);return{matches:he.partialMatches,pendingActionResult:[ye,{type:_t.error,error:Fe}]}}else if(he.matches)T=he.matches;else{let{notFoundMatches:ye,error:Fe,route:Se}=Ke($.pathname);return{matches:ye,pendingActionResult:[Se.id,{type:_t.error,error:Fe}]}}}let re,oe=cs(T,$);if(!oe.route.action&&!oe.route.lazy)re={type:_t.error,error:_r(405,{method:W.method,pathname:$.pathname,routeId:oe.route.id})};else if(re=(await Mr("action",W,[oe],T))[0],W.signal.aborted)return{shortCircuited:!0};if(zi(re)){let he;return U&&U.replace!=null?he=U.replace:he=F1(re.response.headers.get("Location"),new URL(W.url),x)===B.location.pathname+B.location.search,await mt(W,re,{submission:_,replace:he}),{shortCircuited:!0}}if(ji(re))throw _r(400,{type:"defer-action"});if(Zr(re)){let he=Ca(T,oe.route.id);return(U&&U.replace)!==!0&&(H=er.Push),{matches:T,pendingActionResult:[he.route.id,re]}}return{matches:T,pendingActionResult:[oe.route.id,re]}}async function et(W,$,_,T,L,U,Y,re,oe,he,ye){let Fe=L||Tu($,U),Se=U||Y||Y1(Fe),Pe=!ie&&(!y.v7_partialHydration||!oe);if(T){if(Pe){let Ne=Be(ye);gt(zt({navigation:Fe},Ne!==void 0?{actionData:Ne}:{}),{flushSync:he})}let Ce=await an(_,$.pathname,W.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let{boundaryId:Ne,error:Ue}=br($.pathname,Ce);return{matches:Ce.partialMatches,loaderData:{},errors:{[Ne]:Ue}}}else if(Ce.matches)_=Ce.matches;else{let{error:Ne,notFoundMatches:Ue,route:ht}=Ke($.pathname);return{matches:Ue,loaderData:{},errors:{[ht.id]:Ne}}}}let je=p||h,[Ae,Oe]=L1(t.history,B,_,Se,$,y.v7_partialHydration&&oe===!0,y.v7_skipActionErrorRevalidation,J,X,Re,De,Me,ke,je,x,ye);if(Kn(Ce=>!(_&&_.some(Ne=>Ne.route.id===Ce))||Ae&&Ae.some(Ne=>Ne.route.id===Ce)),ge=++le,Ae.length===0&&Oe.length===0){let Ce=Lt();return be($,zt({matches:_,loaderData:{},errors:ye&&Zr(ye[1])?{[ye[0]]:ye[1].error}:null},V1(ye),Ce?{fetchers:new Map(B.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(Pe){let Ce={};if(!T){Ce.navigation=Fe;let Ne=Be(ye);Ne!==void 0&&(Ce.actionData=Ne)}Oe.length>0&&(Ce.fetchers=Tr(Oe)),gt(Ce,{flushSync:he})}Oe.forEach(Ce=>{fe.has(Ce.key)&&at(Ce.key),Ce.controller&&fe.set(Ce.key,Ce.controller)});let He=()=>Oe.forEach(Ce=>at(Ce.key));z&&z.signal.addEventListener("abort",He);let{loaderResults:tt,fetcherResults:kt}=await or(B.matches,_,Ae,Oe,W);if(W.signal.aborted)return{shortCircuited:!0};z&&z.signal.removeEventListener("abort",He),Oe.forEach(Ce=>fe.delete(Ce.key));let Kt=W1([...tt,...kt]);if(Kt){if(Kt.idx>=Ae.length){let Ce=Oe[Kt.idx-Ae.length].key;ke.add(Ce)}return await mt(W,Kt.result,{replace:re}),{shortCircuited:!0}}let{loaderData:se,errors:nr}=j1(B,_,Ae,tt,ye,Oe,kt,Rt);Rt.forEach((Ce,Ne)=>{Ce.subscribe(Ue=>{(Ue||Ce.done)&&Rt.delete(Ne)})}),y.v7_partialHydration&&oe&&B.errors&&Object.entries(B.errors).filter(Ce=>{let[Ne]=Ce;return!Ae.some(Ue=>Ue.route.id===Ne)}).forEach(Ce=>{let[Ne,Ue]=Ce;nr=Object.assign(nr||{},{[Ne]:Ue})});let ot=Lt(),Bt=ut(ge),dr=ot||Bt||Oe.length>0;return zt({matches:_,loaderData:se,errors:nr},dr?{fetchers:new Map(B.fetchers)}:{})}function Be(W){if(W&&!Zr(W[1]))return{[W[0]]:W[1].data};if(B.actionData)return Object.keys(B.actionData).length===0?null:B.actionData}function Tr(W){return W.forEach($=>{let _=B.fetchers.get($.key),T=is(void 0,_?_.data:void 0);B.fetchers.set($.key,T)}),new Map(B.fetchers)}function Ie(W,$,_,T){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");fe.has(W)&&at(W);let L=(T&&T.unstable_flushSync)===!0,U=p||h,Y=Ic(B.location,B.matches,x,y.v7_prependBasename,_,y.v7_relativeSplatPath,$,T==null?void 0:T.relative),re=ki(U,Y,x),oe=Pr(re,U,Y);if(oe.active&&oe.matches&&(re=oe.matches),!re){it(W,$,_r(404,{pathname:Y}),{flushSync:L});return}let{path:he,submission:ye,error:Fe}=P1(y.v7_normalizeFormMethod,!0,Y,T);if(Fe){it(W,$,Fe,{flushSync:L});return}let Se=cs(re,he);if(Q=(T&&T.preventScrollReset)===!0,ye&&Sn(ye.formMethod)){At(W,$,he,Se,re,oe.active,L,ye);return}Me.set(W,{routeId:$,path:he}),Pt(W,$,he,Se,re,oe.active,L,ye)}async function At(W,$,_,T,L,U,Y,re){Nn(),Me.delete(W);function oe(ht){if(!ht.route.action&&!ht.route.lazy){let wr=_r(405,{method:re.formMethod,pathname:_,routeId:$});return it(W,$,wr,{flushSync:Y}),!0}return!1}if(!U&&oe(T))return;let he=B.fetchers.get(W);rr(W,ey(re,he),{flushSync:Y});let ye=new AbortController,Fe=oa(t.history,_,ye.signal,re);if(U){let ht=await an(L,_,Fe.signal);if(ht.type==="aborted")return;if(ht.type==="error"){let{error:wr}=br(_,ht);it(W,$,wr,{flushSync:Y});return}else if(ht.matches){if(L=ht.matches,T=cs(L,_),oe(T))return}else{it(W,$,_r(404,{pathname:_}),{flushSync:Y});return}}fe.set(W,ye);let Se=le,je=(await Mr("action",Fe,[T],L))[0];if(Fe.signal.aborted){fe.get(W)===ye&&fe.delete(W);return}if(y.v7_fetcherPersist&&De.has(W)){if(zi(je)||Zr(je)){rr(W,ii(void 0));return}}else{if(zi(je))if(fe.delete(W),ge>Se){rr(W,ii(void 0));return}else return ke.add(W),rr(W,is(re)),mt(Fe,je,{fetcherSubmission:re});if(Zr(je)){it(W,$,je.error);return}}if(ji(je))throw _r(400,{type:"defer-action"});let Ae=B.navigation.location||B.location,Oe=oa(t.history,Ae,ye.signal),He=p||h,tt=B.navigation.state!=="idle"?ki(He,B.navigation.location,x):B.matches;qe(tt,"Didn't find any matches after fetcher action");let kt=++le;ue.set(W,kt);let Kt=is(re,je.data);B.fetchers.set(W,Kt);let[se,nr]=L1(t.history,B,tt,re,Ae,!1,y.v7_skipActionErrorRevalidation,J,X,Re,De,Me,ke,He,x,[T.route.id,je]);nr.filter(ht=>ht.key!==W).forEach(ht=>{let wr=ht.key,vn=B.fetchers.get(wr),It=is(void 0,vn?vn.data:void 0);B.fetchers.set(wr,It),fe.has(wr)&&at(wr),ht.controller&&fe.set(wr,ht.controller)}),gt({fetchers:new Map(B.fetchers)});let ot=()=>nr.forEach(ht=>at(ht.key));ye.signal.addEventListener("abort",ot);let{loaderResults:Bt,fetcherResults:dr}=await or(B.matches,tt,se,nr,Oe);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",ot),ue.delete(W),fe.delete(W),nr.forEach(ht=>fe.delete(ht.key));let Ce=W1([...Bt,...dr]);if(Ce){if(Ce.idx>=se.length){let ht=nr[Ce.idx-se.length].key;ke.add(ht)}return mt(Oe,Ce.result)}let{loaderData:Ne,errors:Ue}=j1(B,B.matches,se,Bt,void 0,nr,dr,Rt);if(B.fetchers.has(W)){let ht=ii(je.data);B.fetchers.set(W,ht)}ut(kt),B.navigation.state==="loading"&&kt>ge?(qe(H,"Expected pending action"),z&&z.abort(),be(B.navigation.location,{matches:tt,loaderData:Ne,errors:Ue,fetchers:new Map(B.fetchers)})):(gt({errors:Ue,loaderData:z1(B.loaderData,Ne,tt,Ue),fetchers:new Map(B.fetchers)}),J=!1)}async function Pt(W,$,_,T,L,U,Y,re){let oe=B.fetchers.get(W);rr(W,is(re,oe?oe.data:void 0),{flushSync:Y});let he=new AbortController,ye=oa(t.history,_,he.signal);if(U){let je=await an(L,_,ye.signal);if(je.type==="aborted")return;if(je.type==="error"){let{error:Ae}=br(_,je);it(W,$,Ae,{flushSync:Y});return}else if(je.matches)L=je.matches,T=cs(L,_);else{it(W,$,_r(404,{pathname:_}),{flushSync:Y});return}}fe.set(W,he);let Fe=le,Pe=(await Mr("loader",ye,[T],L))[0];if(ji(Pe)&&(Pe=await zg(Pe,ye.signal,!0)||Pe),fe.get(W)===he&&fe.delete(W),!ye.signal.aborted){if(De.has(W)){rr(W,ii(void 0));return}if(zi(Pe))if(ge>Fe){rr(W,ii(void 0));return}else{ke.add(W),await mt(ye,Pe);return}if(Zr(Pe)){it(W,$,Pe.error);return}qe(!ji(Pe),"Unhandled fetcher deferred data"),rr(W,ii(Pe.data))}}async function mt(W,$,_){let{submission:T,fetcherSubmission:L,replace:U}=_===void 0?{}:_;$.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Y=$.response.headers.get("Location");qe(Y,"Expected a Location header on the redirect Response"),Y=F1(Y,new URL(W.url),x);let re=Bs(B.location,Y,{_isRedirect:!0});if(n){let Pe=!1;if($.response.headers.has("X-Remix-Reload-Document"))Pe=!0;else if(Lf.test(Y)){const je=t.history.createURL(Y);Pe=je.origin!==e.location.origin||Gs(je.pathname,x)==null}if(Pe){U?e.location.replace(Y):e.location.assign(Y);return}}z=null;let oe=U===!0?er.Replace:er.Push,{formMethod:he,formAction:ye,formEncType:Fe}=B.navigation;!T&&!L&&he&&ye&&Fe&&(T=Y1(B.navigation));let Se=T||L;if(Px.has($.response.status)&&Se&&Sn(Se.formMethod))await pt(oe,re,{submission:zt({},Se,{formAction:Y}),preventScrollReset:Q});else{let Pe=Tu(re,T);await pt(oe,re,{overrideNavigation:Pe,fetcherSubmission:L,preventScrollReset:Q})}}async function Mr(W,$,_,T){try{let L=await Hx(v,W,$,_,T,c,a);return await Promise.all(L.map((U,Y)=>{if(Zx(U)){let re=U.result;return{type:_t.redirect,response:Yx(re,$,_[Y].route.id,T,x,y.v7_relativeSplatPath)}}return Gx(U)}))}catch(L){return _.map(()=>({type:_t.error,error:L}))}}async function or(W,$,_,T,L){let[U,...Y]=await Promise.all([_.length?Mr("loader",L,_,$):[],...T.map(re=>{if(re.matches&&re.match&&re.controller){let oe=oa(t.history,re.path,re.controller.signal);return Mr("loader",oe,[re.match],re.matches).then(he=>he[0])}else return Promise.resolve({type:_t.error,error:_r(404,{pathname:re.path})})})]);return await Promise.all([G1(W,_,U,U.map(()=>L.signal),!1,B.loaderData),G1(W,T.map(re=>re.match),Y,T.map(re=>re.controller?re.controller.signal:null),!0)]),{loaderResults:U,fetcherResults:Y}}function Nn(){J=!0,X.push(...Kn()),Me.forEach((W,$)=>{fe.has($)&&(Re.push($),at($))})}function rr(W,$,_){_===void 0&&(_={}),B.fetchers.set(W,$),gt({fetchers:new Map(B.fetchers)},{flushSync:(_&&_.flushSync)===!0})}function it(W,$,_,T){T===void 0&&(T={});let L=Ca(B.matches,$);nn(W),gt({errors:{[L.route.id]:_},fetchers:new Map(B.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function pn(W){return y.v7_fetcherPersist&&(nt.set(W,(nt.get(W)||0)+1),De.has(W)&&De.delete(W)),B.fetchers.get(W)||Lx}function nn(W){let $=B.fetchers.get(W);fe.has(W)&&!($&&$.state==="loading"&&ue.has(W))&&at(W),Me.delete(W),ue.delete(W),ke.delete(W),De.delete(W),B.fetchers.delete(W)}function Ji(W){if(y.v7_fetcherPersist){let $=(nt.get(W)||0)-1;$<=0?(nt.delete(W),De.add(W)):nt.set(W,$)}else nn(W);gt({fetchers:new Map(B.fetchers)})}function at(W){let $=fe.get(W);qe($,"Expected fetch controller: "+W),$.abort(),fe.delete(W)}function xe(W){for(let $ of W){let _=pn($),T=ii(_.data);B.fetchers.set($,T)}}function Lt(){let W=[],$=!1;for(let _ of ke){let T=B.fetchers.get(_);qe(T,"Expected fetcher: "+_),T.state==="loading"&&(ke.delete(_),W.push(_),$=!0)}return xe(W),$}function ut(W){let $=[];for(let[_,T]of ue)if(T<W){let L=B.fetchers.get(_);qe(L,"Expected fetcher: "+_),L.state==="loading"&&(at(_),ue.delete(_),$.push(_))}return xe($),$.length>0}function st(W,$){let _=B.blockers.get(W)||ns;return we.get(W)!==$&&we.set(W,$),_}function Rn(W){B.blockers.delete(W),we.delete(W)}function Dn(W,$){let _=B.blockers.get(W)||ns;qe(_.state==="unblocked"&&$.state==="blocked"||_.state==="blocked"&&$.state==="blocked"||_.state==="blocked"&&$.state==="proceeding"||_.state==="blocked"&&$.state==="unblocked"||_.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+_.state+" -> "+$.state);let T=new Map(B.blockers);T.set(W,$),gt({blockers:T})}function Di(W){let{currentLocation:$,nextLocation:_,historyAction:T}=W;if(we.size===0)return;we.size>1&&ka(!1,"A router only supports one blocker at a time");let L=Array.from(we.entries()),[U,Y]=L[L.length-1],re=B.blockers.get(U);if(!(re&&re.state==="proceeding")&&Y({currentLocation:$,nextLocation:_,historyAction:T}))return U}function Ke(W){let $=_r(404,{pathname:W}),_=p||h,{matches:T,route:L}=H1(_);return Kn(),{notFoundMatches:T,route:L,error:$}}function br(W,$){return{boundaryId:Ca($.partialMatches).route.id,error:_r(400,{type:"route-discovery",pathname:W,message:$.error!=null&&"message"in $.error?$.error:String($.error)})}}function Kn(W){let $=[];return Rt.forEach((_,T)=>{(!W||W(T))&&(_.cancel(),$.push(T),Rt.delete(T))}),$}function mn(W,$,_){if(M=W,k=$,D=_||null,!O&&B.navigation===Iu){O=!0;let T=Zt(B.location,B.matches);T!=null&&gt({restoreScrollPosition:T})}return()=>{M=null,k=null,D=null}}function yr(W,$){return D&&D(W,$.map(T=>dx(T,B.loaderData)))||W.key}function qn(W,$){if(M&&k){let _=yr(W,$);M[_]=k()}}function Zt(W,$){if(M){let _=yr(W,$),T=M[_];if(typeof T=="number")return T}return null}function Pr(W,$,_){if(E)if(W){let T=W[W.length-1].route;if(T.path&&(T.path==="*"||T.path.endsWith("/*")))return{active:!0,matches:bo($,_,x,!0)}}else return{active:!0,matches:bo($,_,x,!0)||[]};return{active:!1,matches:null}}async function an(W,$,_){let T=W,L=T.length>0?T[T.length-1].route:null;for(;;){let U=p==null,Y=p||h;try{await zx(E,$,T,Y,c,a,dt,_)}catch(ye){return{type:"error",error:ye,partialMatches:T}}finally{U&&(h=[...h])}if(_.aborted)return{type:"aborted"};let re=ki(Y,$,x),oe=!1;if(re){let ye=re[re.length-1].route;if(ye.index)return{type:"success",matches:re};if(ye.path&&ye.path.length>0)if(ye.path==="*")oe=!0;else return{type:"success",matches:re}}let he=bo(Y,$,x,!0);if(!he||T.map(ye=>ye.route.id).join("-")===he.map(ye=>ye.route.id).join("-"))return{type:"success",matches:oe?re:null};if(T=he,L=T[T.length-1].route,L.path==="*")return{type:"success",matches:T}}}function Lr(W){c={},p=Fs(W,a,void 0,c)}function ea(W,$){let _=p==null;Fg(W,$,p||h,c,a),_&&(h=[...h],gt({}))}return Z={get basename(){return x},get future(){return y},get state(){return B},get routes(){return h},get window(){return e},initialize:Jt,subscribe:Xe,enableScrollRestoration:mn,navigate:lt,fetch:Ie,revalidate:$t,createHref:W=>t.history.createHref(W),encodeLocation:W=>t.history.encodeLocation(W),getFetcher:pn,deleteFetcher:Ji,dispose:yt,getBlocker:st,deleteBlocker:Rn,patchRoutes:ea,_internalFetchControllers:fe,_internalActiveDeferreds:Rt,_internalSetRoutes:Lr},Z}function Fx(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ic(t,e,n,o,a,c,h,p){let x,v;if(h){x=[];for(let y of e)if(x.push(y),y.route.id===h){v=y;break}}else x=e,v=e[e.length-1];let E=Pg(a||".",bg(x,c),Gs(t.pathname,n)||t.pathname,p==="path");return a==null&&(E.search=t.search,E.hash=t.hash),(a==null||a===""||a===".")&&v&&v.route.index&&!kf(E.search)&&(E.search=E.search?E.search.replace(/^\?/,"?index&"):"?index"),o&&n!=="/"&&(E.pathname=E.pathname==="/"?n:wi([n,E.pathname])),Ws(E)}function P1(t,e,n,o){if(!o||!Fx(o))return{path:n};if(o.formMethod&&!qx(o.formMethod))return{path:n,error:_r(405,{method:o.formMethod})};let a=()=>({path:n,error:_r(400,{type:"invalid-body"})}),c=o.formMethod||"get",h=t?c.toUpperCase():c.toLowerCase(),p=Ug(n);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!Sn(h))return a();let I=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((A,M)=>{let[D,k]=M;return""+A+D+"="+k+`
`},""):String(o.body);return{path:n,submission:{formMethod:h,formAction:p,formEncType:o.formEncType,formData:void 0,json:void 0,text:I}}}else if(o.formEncType==="application/json"){if(!Sn(h))return a();try{let I=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:n,submission:{formMethod:h,formAction:p,formEncType:o.formEncType,formData:void 0,json:I,text:void 0}}}catch{return a()}}}qe(typeof FormData=="function","FormData is not available in this environment");let x,v;if(o.formData)x=Tc(o.formData),v=o.formData;else if(o.body instanceof FormData)x=Tc(o.body),v=o.body;else if(o.body instanceof URLSearchParams)x=o.body,v=U1(x);else if(o.body==null)x=new URLSearchParams,v=new FormData;else try{x=new URLSearchParams(o.body),v=U1(x)}catch{return a()}let E={formMethod:h,formAction:p,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:v,json:void 0,text:void 0};if(Sn(E.formMethod))return{path:n,submission:E};let y=Ni(n);return e&&y.search&&kf(y.search)&&x.append("index",""),y.search="?"+x,{path:Ws(y),submission:E}}function Ux(t,e){let n=t;if(e){let o=t.findIndex(a=>a.route.id===e);o>=0&&(n=t.slice(0,o))}return n}function L1(t,e,n,o,a,c,h,p,x,v,E,y,I,A,M,D){let k=D?Zr(D[1])?D[1].error:D[1].data:void 0,O=t.createURL(e.location),R=t.createURL(a),b=D&&Zr(D[1])?D[0]:void 0,j=b?Ux(n,b):n,Z=D?D[1].statusCode:void 0,B=h&&Z&&Z>=400,H=j.filter((z,ae)=>{let{route:ce}=z;if(ce.lazy)return!0;if(ce.loader==null)return!1;if(c)return typeof ce.loader!="function"||ce.loader.hydrate?!0:e.loaderData[ce.id]===void 0&&(!e.errors||e.errors[ce.id]===void 0);if(jx(e.loaderData,e.matches[ae],z)||x.some(J=>J===z.route.id))return!0;let ne=e.matches[ae],ie=z;return k1(z,zt({currentUrl:O,currentParams:ne.params,nextUrl:R,nextParams:ie.params},o,{actionResult:k,actionStatus:Z,defaultShouldRevalidate:B?!1:p||O.pathname+O.search===R.pathname+R.search||O.search!==R.search||Bg(ne,ie)}))}),Q=[];return y.forEach((z,ae)=>{if(c||!n.some(X=>X.route.id===z.routeId)||E.has(ae))return;let ce=ki(A,z.path,M);if(!ce){Q.push({key:ae,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let ne=e.fetchers.get(ae),ie=cs(ce,z.path),J=!1;I.has(ae)?J=!1:v.includes(ae)?J=!0:ne&&ne.state!=="idle"&&ne.data===void 0?J=p:J=k1(ie,zt({currentUrl:O,currentParams:e.matches[e.matches.length-1].params,nextUrl:R,nextParams:n[n.length-1].params},o,{actionResult:k,actionStatus:Z,defaultShouldRevalidate:B?!1:p})),J&&Q.push({key:ae,routeId:z.routeId,path:z.path,matches:ce,match:ie,controller:new AbortController})}),[H,Q]}function jx(t,e,n){let o=!e||n.route.id!==e.route.id,a=t[n.route.id]===void 0;return o||a}function Bg(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function k1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function zx(t,e,n,o,a,c,h,p){let x=[e,...n.map(v=>v.route.id)].join("-");try{let v=h.get(x);v||(v=t({path:e,matches:n,patch:(E,y)=>{p.aborted||Fg(E,y,o,a,c)}}),h.set(x,v)),v&&$x(v)&&await v}finally{h.delete(x)}}function Fg(t,e,n,o,a){if(t){var c;let h=o[t];qe(h,"No route found to patch children into: routeId = "+t);let p=Fs(e,a,[t,"patch",String(((c=h.children)==null?void 0:c.length)||"0")],o);h.children?h.children.push(...p):h.children=p}else{let h=Fs(e,a,["patch",String(n.length||"0")],o);n.push(...h)}}async function B1(t,e,n){if(!t.lazy)return;let o=await t.lazy();if(!t.lazy)return;let a=n[t.id];qe(a,"No route found in manifest");let c={};for(let h in o){let x=a[h]!==void 0&&h!=="hasErrorBoundary";ka(!x,'Route "'+a.id+'" has a static property "'+h+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+h+'" will be ignored.')),!x&&!cx.has(h)&&(c[h]=o[h])}Object.assign(a,c),Object.assign(a,zt({},e(a),{lazy:void 0}))}function Vx(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function Hx(t,e,n,o,a,c,h,p){let x=o.reduce((y,I)=>y.add(I.route.id),new Set),v=new Set,E=await t({matches:a.map(y=>{let I=x.has(y.route.id);return zt({},y,{shouldLoad:I,resolve:M=>(v.add(y.route.id),I?Wx(e,n,y,c,h,M,p):Promise.resolve({type:_t.data,result:void 0}))})}),request:n,params:a[0].params,context:p});return a.forEach(y=>qe(v.has(y.route.id),'`match.resolve()` was not called for route id "'+y.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),E.filter((y,I)=>x.has(a[I].route.id))}async function Wx(t,e,n,o,a,c,h){let p,x,v=E=>{let y,I=new Promise((D,k)=>y=k);x=()=>y(),e.signal.addEventListener("abort",x);let A=D=>typeof E!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):E({request:e,params:n.params,context:h},...D!==void 0?[D]:[]),M;return c?M=c(D=>A(D)):M=(async()=>{try{return{type:"data",result:await A()}}catch(D){return{type:"error",result:D}}})(),Promise.race([M,I])};try{let E=n.route[t];if(n.route.lazy)if(E){let y,[I]=await Promise.all([v(E).catch(A=>{y=A}),B1(n.route,a,o)]);if(y!==void 0)throw y;p=I}else if(await B1(n.route,a,o),E=n.route[t],E)p=await v(E);else if(t==="action"){let y=new URL(e.url),I=y.pathname+y.search;throw _r(405,{method:e.method,pathname:I,routeId:n.route.id})}else return{type:_t.data,result:void 0};else if(E)p=await v(E);else{let y=new URL(e.url),I=y.pathname+y.search;throw _r(404,{pathname:I})}qe(p.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(E){return{type:_t.error,result:E}}finally{x&&e.signal.removeEventListener("abort",x)}return p}async function Gx(t){let{result:e,type:n,status:o}=t;if(jg(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:_t.error,error:p}}return n===_t.error?{type:_t.error,error:new Pf(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:_t.data,data:h,statusCode:e.status,headers:e.headers}}if(n===_t.error)return{type:_t.error,error:e,statusCode:Ml(e)?e.status:o};if(Kx(e)){var a,c;return{type:_t.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((c=e.init)==null?void 0:c.headers)&&new Headers(e.init.headers)}}return{type:_t.data,data:e,statusCode:o}}function Yx(t,e,n,o,a,c){let h=t.headers.get("Location");if(qe(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lf.test(h)){let p=o.slice(0,o.findIndex(x=>x.route.id===n)+1);h=Ic(new URL(e.url),p,a,!0,h,c),t.headers.set("Location",h)}return t}function F1(t,e,n){if(Lf.test(t)){let o=t,a=o.startsWith("//")?new URL(e.protocol+o):new URL(o),c=Gs(a.pathname,n)!=null;if(a.origin===e.origin&&c)return a.pathname+a.search+a.hash}return t}function oa(t,e,n,o){let a=t.createURL(Ug(e)).toString(),c={signal:n};if(o&&Sn(o.formMethod)){let{formMethod:h,formEncType:p}=o;c.method=h.toUpperCase(),p==="application/json"?(c.headers=new Headers({"Content-Type":p}),c.body=JSON.stringify(o.json)):p==="text/plain"?c.body=o.text:p==="application/x-www-form-urlencoded"&&o.formData?c.body=Tc(o.formData):c.body=o.formData}return new Request(a,c)}function Tc(t){let e=new URLSearchParams;for(let[n,o]of t.entries())e.append(n,typeof o=="string"?o:o.name);return e}function U1(t){let e=new FormData;for(let[n,o]of t.entries())e.append(n,o);return e}function Xx(t,e,n,o,a,c){let h={},p=null,x,v=!1,E={},y=o&&Zr(o[1])?o[1].error:void 0;return n.forEach((I,A)=>{let M=e[A].route.id;if(qe(!zi(I),"Cannot handle redirect results in processLoaderData"),Zr(I)){let D=I.error;y!==void 0&&(D=y,y=void 0),p=p||{};{let k=Ca(t,M);p[k.route.id]==null&&(p[k.route.id]=D)}h[M]=void 0,v||(v=!0,x=Ml(I.error)?I.error.status:500),I.headers&&(E[M]=I.headers)}else ji(I)?(a.set(M,I.deferredData),h[M]=I.deferredData.data,I.statusCode!=null&&I.statusCode!==200&&!v&&(x=I.statusCode),I.headers&&(E[M]=I.headers)):(h[M]=I.data,I.statusCode&&I.statusCode!==200&&!v&&(x=I.statusCode),I.headers&&(E[M]=I.headers))}),y!==void 0&&o&&(p={[o[0]]:y},h[o[0]]=void 0),{loaderData:h,errors:p,statusCode:x||200,loaderHeaders:E}}function j1(t,e,n,o,a,c,h,p){let{loaderData:x,errors:v}=Xx(e,n,o,a,p);for(let E=0;E<c.length;E++){let{key:y,match:I,controller:A}=c[E];qe(h!==void 0&&h[E]!==void 0,"Did not find corresponding fetcher result");let M=h[E];if(!(A&&A.signal.aborted))if(Zr(M)){let D=Ca(t.matches,I==null?void 0:I.route.id);v&&v[D.route.id]||(v=zt({},v,{[D.route.id]:M.error})),t.fetchers.delete(y)}else if(zi(M))qe(!1,"Unhandled fetcher revalidation redirect");else if(ji(M))qe(!1,"Unhandled fetcher deferred data");else{let D=ii(M.data);t.fetchers.set(y,D)}}return{loaderData:x,errors:v}}function z1(t,e,n,o){let a=zt({},e);for(let c of n){let h=c.route.id;if(e.hasOwnProperty(h)?e[h]!==void 0&&(a[h]=e[h]):t[h]!==void 0&&c.route.loader&&(a[h]=t[h]),o&&o.hasOwnProperty(h))break}return a}function V1(t){return t?Zr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ca(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function H1(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _r(t,e){let{pathname:n,routeId:o,method:a,type:c,message:h}=e===void 0?{}:e,p="Unknown Server Error",x="Unknown @remix-run/router error";return t===400?(p="Bad Request",c==="route-discovery"?x='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+h):a&&n&&o?x="You made a "+a+' request to "'+n+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":c==="defer-action"?x="defer() is not supported in actions":c==="invalid-body"&&(x="Unable to encode submission body")):t===403?(p="Forbidden",x='Route "'+o+'" does not match URL "'+n+'"'):t===404?(p="Not Found",x='No route matches URL "'+n+'"'):t===405&&(p="Method Not Allowed",a&&n&&o?x="You made a "+a.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":a&&(x='Invalid request method "'+a.toUpperCase()+'"')),new Pf(t||500,p,new Error(x),!0)}function W1(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(zi(n))return{result:n,idx:e}}}function Ug(t){let e=typeof t=="string"?Ni(t):t;return Ws(zt({},e,{hash:""}))}function Qx(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function $x(t){return typeof t=="object"&&t!=null&&"then"in t}function Zx(t){return jg(t.result)&&bx.has(t.result.status)}function ji(t){return t.type===_t.deferred}function Zr(t){return t.type===_t.error}function zi(t){return(t&&t.type)===_t.redirect}function Kx(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function jg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function qx(t){return Mx.has(t.toLowerCase())}function Sn(t){return Dx.has(t.toLowerCase())}async function G1(t,e,n,o,a,c){for(let h=0;h<n.length;h++){let p=n[h],x=e[h];if(!x)continue;let v=t.find(y=>y.route.id===x.route.id),E=v!=null&&!Bg(v,x)&&(c&&c[x.route.id])!==void 0;if(ji(p)&&(a||E)){let y=o[h];qe(y,"Expected an AbortSignal for revalidating fetcher deferred result"),await zg(p,y,a).then(I=>{I&&(n[h]=I||n[h])})}}}async function zg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:_t.data,data:t.deferredData.unwrappedData}}catch(a){return{type:_t.error,error:a}}return{type:_t.data,data:t.deferredData.data}}}function kf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cs(t,e){let n=typeof e=="string"?Ni(e).search:e.search;if(t[t.length-1].route.index&&kf(n||""))return t[t.length-1];let o=Mg(t);return o[o.length-1]}function Y1(t){let{formMethod:e,formAction:n,formEncType:o,text:a,formData:c,json:h}=t;if(!(!e||!n||!o)){if(a!=null)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:void 0,text:a};if(c!=null)return{formMethod:e,formAction:n,formEncType:o,formData:c,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:o,formData:void 0,json:h,text:void 0}}}function Tu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Jx(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function is(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ey(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ii(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ty(t,e){try{let n=t.sessionStorage.getItem(kg);if(n){let o=JSON.parse(n);for(let[a,c]of Object.entries(o||{}))c&&Array.isArray(c)&&e.set(a,new Set(c||[]))}}catch{}}function ry(t,e){if(e.size>0){let n={};for(let[o,a]of e)n[o]=[...a];try{t.sessionStorage.setItem(kg,JSON.stringify(n))}catch(o){ka(!1,"Failed to save applied view transitions in sessionStorage ("+o+").")}}}/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ol.apply(this,arguments)}const bl=Ee.createContext(null),Vg=Ee.createContext(null),Pl=Ee.createContext(null),Bf=Ee.createContext(null),qi=Ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Hg=Ee.createContext(null);function Ll(){return Ee.useContext(Bf)!=null}function Wg(){return Ll()||qe(!1),Ee.useContext(Bf).location}function Gg(t){Ee.useContext(Pl).static||Ee.useLayoutEffect(t)}function Yg(){let{isDataRoute:t}=Ee.useContext(qi);return t?py():ny()}function ny(){Ll()||qe(!1);let t=Ee.useContext(bl),{basename:e,future:n,navigator:o}=Ee.useContext(Pl),{matches:a}=Ee.useContext(qi),{pathname:c}=Wg(),h=JSON.stringify(bg(a,n.v7_relativeSplatPath)),p=Ee.useRef(!1);return Gg(()=>{p.current=!0}),Ee.useCallback(function(v,E){if(E===void 0&&(E={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let y=Pg(v,JSON.parse(h),c,E.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:wi([e,y.pathname])),(E.replace?o.replace:o.push)(y,E.state,E)},[e,o,h,c,t])}function iy(){let{matches:t}=Ee.useContext(qi),e=t[t.length-1];return e?e.params:{}}function ay(t,e,n,o){Ll()||qe(!1);let{navigator:a}=Ee.useContext(Pl),{matches:c}=Ee.useContext(qi),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let x=h?h.pathnameBase:"/";h&&h.route;let v=Wg(),E;E=v;let y=E.pathname||"/",I=y;if(x!=="/"){let D=x.replace(/^\//,"").split("/");I="/"+y.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=ki(t,{pathname:I});return cy(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:wi([x,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?x:wi([x,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),c,n,o)}function sy(){let t=gy(),e=Ml(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ee.createElement(Ee.Fragment,null,Ee.createElement("h2",null,"Unexpected Application Error!"),Ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?Ee.createElement("pre",{style:a},n):null,null)}const oy=Ee.createElement(sy,null);class ly extends Ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Ee.createElement(qi.Provider,{value:this.props.routeContext},Ee.createElement(Hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uy(t){let{routeContext:e,match:n,children:o}=t,a=Ee.useContext(bl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),Ee.createElement(qi.Provider,{value:e},o)}function cy(t,e,n,o){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var c;if((c=n)!=null&&c.errors)t=n.matches;else return null}let h=t,p=(a=n)==null?void 0:a.errors;if(p!=null){let E=h.findIndex(y=>y.route.id&&(p==null?void 0:p[y.route.id])!==void 0);E>=0||qe(!1),h=h.slice(0,Math.min(h.length,E+1))}let x=!1,v=-1;if(n&&o&&o.v7_partialHydration)for(let E=0;E<h.length;E++){let y=h[E];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=E),y.route.id){let{loaderData:I,errors:A}=n,M=y.route.loader&&I[y.route.id]===void 0&&(!A||A[y.route.id]===void 0);if(y.route.lazy||M){x=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((E,y,I)=>{let A,M=!1,D=null,k=null;n&&(A=p&&y.route.id?p[y.route.id]:void 0,D=y.route.errorElement||oy,x&&(v<0&&I===0?(my("route-fallback"),M=!0,k=null):v===I&&(M=!0,k=y.route.hydrateFallbackElement||null)));let O=e.concat(h.slice(0,I+1)),R=()=>{let b;return A?b=D:M?b=k:y.route.Component?b=Ee.createElement(y.route.Component,null):y.route.element?b=y.route.element:b=E,Ee.createElement(uy,{match:y,routeContext:{outlet:E,matches:O,isDataRoute:n!=null},children:b})};return n&&(y.route.ErrorBoundary||y.route.errorElement||I===0)?Ee.createElement(ly,{location:n.location,revalidation:n.revalidation,component:D,error:A,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):R()},null)}var Xg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xg||{}),ll=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ll||{});function fy(t){let e=Ee.useContext(bl);return e||qe(!1),e}function dy(t){let e=Ee.useContext(Vg);return e||qe(!1),e}function hy(t){let e=Ee.useContext(qi);return e||qe(!1),e}function Qg(t){let e=hy(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function gy(){var t;let e=Ee.useContext(Hg),n=dy(ll.UseRouteError),o=Qg(ll.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[o]}function py(){let{router:t}=fy(Xg.UseNavigateStable),e=Qg(ll.UseNavigateStable),n=Ee.useRef(!1);return Gg(()=>{n.current=!0}),Ee.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ol({fromRouteId:e},c)))},[t,e])}const X1={};function my(t,e,n){X1[t]||(X1[t]=!0)}function vy(t){let{basename:e="/",children:n=null,location:o,navigationType:a=er.Pop,navigator:c,static:h=!1,future:p}=t;Ll()&&qe(!1);let x=e.replace(/^\/*/,"/"),v=Ee.useMemo(()=>({basename:x,navigator:c,static:h,future:ol({v7_relativeSplatPath:!1},p)}),[x,p,c,h]);typeof o=="string"&&(o=Ni(o));let{pathname:E="/",search:y="",hash:I="",state:A=null,key:M="default"}=o,D=Ee.useMemo(()=>{let k=Gs(E,x);return k==null?null:{location:{pathname:k,search:y,hash:I,state:A,key:M},navigationType:a}},[x,E,y,I,A,M,a]);return D==null?null:Ee.createElement(Pl.Provider,{value:v},Ee.createElement(Bf.Provider,{children:n,value:D}))}new Promise(()=>{});function xy(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:Ee.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:Ee.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:Ee.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ul.apply(this,arguments)}const yy="6";try{window.__reactRouterVersion=yy}catch{}function wy(t,e){return Bx({basename:void 0,future:ul({},void 0,{v7_prependBasename:!0}),history:ox({window:void 0}),hydrationData:Ey(),routes:t,mapRouteProperties:xy,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function Ey(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ul({},e,{errors:Cy(e.errors)})),e}function Cy(t){if(!t)return null;let e=Object.entries(t),n={};for(let[o,a]of e)if(a&&a.__type==="RouteErrorResponse")n[o]=new Pf(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let c=window[a.__subType];if(typeof c=="function")try{let h=new c(a.message);h.stack="",n[o]=h}catch{}}if(n[o]==null){let c=new Error(a.message);c.stack="",n[o]=c}}else n[o]=a;return n}const Sy=Ee.createContext({isTransitioning:!1}),Ay=Ee.createContext(new Map),Iy="startTransition",Q1=cm[Iy],Ty="flushSync",$1=Cv[Ty];function _y(t){Q1?Q1(t):t()}function as(t){$1?$1(t):t()}class Ny{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",n(o))}})}}function Ry(t){let{fallbackElement:e,router:n,future:o}=t,[a,c]=Ee.useState(n.state),[h,p]=Ee.useState(),[x,v]=Ee.useState({isTransitioning:!1}),[E,y]=Ee.useState(),[I,A]=Ee.useState(),[M,D]=Ee.useState(),k=Ee.useRef(new Map),{v7_startTransition:O}=o||{},R=Ee.useCallback(Q=>{O?_y(Q):Q()},[O]),b=Ee.useCallback((Q,z)=>{let{deletedFetchers:ae,unstable_flushSync:ce,unstable_viewTransitionOpts:ne}=z;ae.forEach(J=>k.current.delete(J)),Q.fetchers.forEach((J,X)=>{J.data!==void 0&&k.current.set(X,J.data)});let ie=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!ne||ie){ce?as(()=>c(Q)):R(()=>c(Q));return}if(ce){as(()=>{I&&(E&&E.resolve(),I.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})});let J=n.window.document.startViewTransition(()=>{as(()=>c(Q))});J.finished.finally(()=>{as(()=>{y(void 0),A(void 0),p(void 0),v({isTransitioning:!1})})}),as(()=>A(J));return}I?(E&&E.resolve(),I.skipTransition(),D({state:Q,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})):(p(Q),v({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}))},[n.window,I,E,k,R]);Ee.useLayoutEffect(()=>n.subscribe(b),[n,b]),Ee.useEffect(()=>{x.isTransitioning&&!x.flushSync&&y(new Ny)},[x]),Ee.useEffect(()=>{if(E&&h&&n.window){let Q=h,z=E.promise,ae=n.window.document.startViewTransition(async()=>{R(()=>c(Q)),await z});ae.finished.finally(()=>{y(void 0),A(void 0),p(void 0),v({isTransitioning:!1})}),A(ae)}},[R,h,E,n.window]),Ee.useEffect(()=>{E&&h&&a.location.key===h.location.key&&E.resolve()},[E,I,a.location,h]),Ee.useEffect(()=>{!x.isTransitioning&&M&&(p(M.state),v({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}),D(void 0))},[x.isTransitioning,M]),Ee.useEffect(()=>{},[]);let j=Ee.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Q=>n.navigate(Q),push:(Q,z,ae)=>n.navigate(Q,{state:z,preventScrollReset:ae==null?void 0:ae.preventScrollReset}),replace:(Q,z,ae)=>n.navigate(Q,{replace:!0,state:z,preventScrollReset:ae==null?void 0:ae.preventScrollReset})}),[n]),Z=n.basename||"/",B=Ee.useMemo(()=>({router:n,navigator:j,static:!1,basename:Z}),[n,j,Z]),H=Ee.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return Ee.createElement(Ee.Fragment,null,Ee.createElement(bl.Provider,{value:B},Ee.createElement(Vg.Provider,{value:a},Ee.createElement(Ay.Provider,{value:k.current},Ee.createElement(Sy.Provider,{value:x},Ee.createElement(vy,{basename:Z,location:a.location,navigationType:a.historyAction,navigator:j,future:H},a.initialized||n.future.v7_partialHydration?Ee.createElement(Dy,{routes:n.routes,future:n.future,state:a}):e))))),null)}const Dy=Ee.memo(Oy);function Oy(t){let{routes:e,future:n,state:o}=t;return ay(e,void 0,o,n)}var Z1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Z1||(Z1={}));var K1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K1||(K1={}));function My(){const t=Yg();return Ee.useEffect(()=>{const e={qrbox:{width:250,height:250},fps:5},n=new sx("reader",e,!1);let o=!0;n.render(a,c);async function a(h){o&&(n.clear(),t(`/permits/${h}`),o=!1)}function c(h){console.warn(h)}},[]),Ve.jsxs("div",{className:"",children:[Ve.jsx("h1",{className:"text-3xl font-bold",children:"E-PERMIT VERIFICATION"}),Ve.jsx("div",{children:Ve.jsx("div",{id:"reader"})})]})}function by(){return Ve.jsx(My,{})}var _c={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(n,o){o(e)})(la,function(n){function o(){for(var _=arguments.length,T=Array(_),L=0;L<_;L++)T[L]=arguments[L];if(T.length>1){T[0]=T[0].slice(0,-1);for(var U=T.length-1,Y=1;Y<U;++Y)T[Y]=T[Y].slice(1,-1);return T[U]=T[U].slice(1),T.join("")}else return T[0]}function a(_){return"(?:"+_+")"}function c(_){return _===void 0?"undefined":_===null?"null":Object.prototype.toString.call(_).split(" ").pop().split("]").shift().toLowerCase()}function h(_){return _.toUpperCase()}function p(_){return _!=null?_ instanceof Array?_:typeof _.length!="number"||_.split||_.setInterval||_.call?[_]:Array.prototype.slice.call(_):[]}function x(_,T){var L=_;if(T)for(var U in T)L[U]=T[U];return L}function v(_){var T="[A-Za-z]",L="[0-9]",U=o(L,"[A-Fa-f]"),Y=a(a("%[EFef]"+U+"%"+U+U+"%"+U+U)+"|"+a("%[89A-Fa-f]"+U+"%"+U+U)+"|"+a("%"+U+U)),re="[\\:\\/\\?\\#\\[\\]\\@]",oe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",he=o(re,oe),ye=_?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Fe=_?"[\\uE000-\\uF8FF]":"[]",Se=o(T,L,"[\\-\\.\\_\\~]",ye);a(T+o(T,L,"[\\+\\-\\.]")+"*"),a(a(Y+"|"+o(Se,oe,"[\\:]"))+"*");var Pe=a(a("25[0-5]")+"|"+a("2[0-4]"+L)+"|"+a("1"+L+L)+"|"+a("0?[1-9]"+L)+"|0?0?"+L),je=a(Pe+"\\."+Pe+"\\."+Pe+"\\."+Pe),Ae=a(U+"{1,4}"),Oe=a(a(Ae+"\\:"+Ae)+"|"+je),He=a(a(Ae+"\\:")+"{6}"+Oe),tt=a("\\:\\:"+a(Ae+"\\:")+"{5}"+Oe),kt=a(a(Ae)+"?\\:\\:"+a(Ae+"\\:")+"{4}"+Oe),Kt=a(a(a(Ae+"\\:")+"{0,1}"+Ae)+"?\\:\\:"+a(Ae+"\\:")+"{3}"+Oe),se=a(a(a(Ae+"\\:")+"{0,2}"+Ae)+"?\\:\\:"+a(Ae+"\\:")+"{2}"+Oe),nr=a(a(a(Ae+"\\:")+"{0,3}"+Ae)+"?\\:\\:"+Ae+"\\:"+Oe),ot=a(a(a(Ae+"\\:")+"{0,4}"+Ae)+"?\\:\\:"+Oe),Bt=a(a(a(Ae+"\\:")+"{0,5}"+Ae)+"?\\:\\:"+Ae),dr=a(a(a(Ae+"\\:")+"{0,6}"+Ae)+"?\\:\\:"),Ce=a([He,tt,kt,Kt,se,nr,ot,Bt,dr].join("|")),Ne=a(a(Se+"|"+Y)+"+");a("[vV]"+U+"+\\."+o(Se,oe,"[\\:]")+"+"),a(a(Y+"|"+o(Se,oe))+"*");var Ue=a(Y+"|"+o(Se,oe,"[\\:\\@]"));return a(a(Y+"|"+o(Se,oe,"[\\@]"))+"+"),a(a(Ue+"|"+o("[\\/\\?]",Fe))+"*"),{NOT_SCHEME:new RegExp(o("[^]",T,L,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(o("[^\\%\\:]",Se,oe),"g"),NOT_HOST:new RegExp(o("[^\\%\\[\\]\\:]",Se,oe),"g"),NOT_PATH:new RegExp(o("[^\\%\\/\\:\\@]",Se,oe),"g"),NOT_PATH_NOSCHEME:new RegExp(o("[^\\%\\/\\@]",Se,oe),"g"),NOT_QUERY:new RegExp(o("[^\\%]",Se,oe,"[\\:\\@\\/\\?]",Fe),"g"),NOT_FRAGMENT:new RegExp(o("[^\\%]",Se,oe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(o("[^]",Se,oe),"g"),UNRESERVED:new RegExp(Se,"g"),OTHER_CHARS:new RegExp(o("[^\\%]",Se,he),"g"),PCT_ENCODED:new RegExp(Y,"g"),IPV4ADDRESS:new RegExp("^("+je+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ce+")"+a(a("\\%25|\\%(?!"+U+"{2})")+"("+Ne+")")+"?\\]?$")}}var E=v(!1),y=v(!0),I=function(){function _(T,L){var U=[],Y=!0,re=!1,oe=void 0;try{for(var he=T[Symbol.iterator](),ye;!(Y=(ye=he.next()).done)&&(U.push(ye.value),!(L&&U.length===L));Y=!0);}catch(Fe){re=!0,oe=Fe}finally{try{!Y&&he.return&&he.return()}finally{if(re)throw oe}}return U}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return _(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(_){if(Array.isArray(_)){for(var T=0,L=Array(_.length);T<_.length;T++)L[T]=_[T];return L}else return Array.from(_)},M=2147483647,D=36,k=1,O=26,R=38,b=700,j=72,Z=128,B="-",H=/^xn--/,Q=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,ae={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ce=D-k,ne=Math.floor,ie=String.fromCharCode;function J(_){throw new RangeError(ae[_])}function X(_,T){for(var L=[],U=_.length;U--;)L[U]=T(_[U]);return L}function Re(_,T){var L=_.split("@"),U="";L.length>1&&(U=L[0]+"@",_=L[1]),_=_.replace(z,".");var Y=_.split("."),re=X(Y,T).join(".");return U+re}function fe(_){for(var T=[],L=0,U=_.length;L<U;){var Y=_.charCodeAt(L++);if(Y>=55296&&Y<=56319&&L<U){var re=_.charCodeAt(L++);(re&64512)==56320?T.push(((Y&1023)<<10)+(re&1023)+65536):(T.push(Y),L--)}else T.push(Y)}return T}var le=function(T){return String.fromCodePoint.apply(String,A(T))},ge=function(T){return T-48<10?T-22:T-65<26?T-65:T-97<26?T-97:D},ue=function(T,L){return T+22+75*(T<26)-((L!=0)<<5)},ke=function(T,L,U){var Y=0;for(T=U?ne(T/b):T>>1,T+=ne(T/L);T>ce*O>>1;Y+=D)T=ne(T/ce);return ne(Y+(ce+1)*T/(T+R))},Me=function(T){var L=[],U=T.length,Y=0,re=Z,oe=j,he=T.lastIndexOf(B);he<0&&(he=0);for(var ye=0;ye<he;++ye)T.charCodeAt(ye)>=128&&J("not-basic"),L.push(T.charCodeAt(ye));for(var Fe=he>0?he+1:0;Fe<U;){for(var Se=Y,Pe=1,je=D;;je+=D){Fe>=U&&J("invalid-input");var Ae=ge(T.charCodeAt(Fe++));(Ae>=D||Ae>ne((M-Y)/Pe))&&J("overflow"),Y+=Ae*Pe;var Oe=je<=oe?k:je>=oe+O?O:je-oe;if(Ae<Oe)break;var He=D-Oe;Pe>ne(M/He)&&J("overflow"),Pe*=He}var tt=L.length+1;oe=ke(Y-Se,tt,Se==0),ne(Y/tt)>M-re&&J("overflow"),re+=ne(Y/tt),Y%=tt,L.splice(Y++,0,re)}return String.fromCodePoint.apply(String,L)},nt=function(T){var L=[];T=fe(T);var U=T.length,Y=Z,re=0,oe=j,he=!0,ye=!1,Fe=void 0;try{for(var Se=T[Symbol.iterator](),Pe;!(he=(Pe=Se.next()).done);he=!0){var je=Pe.value;je<128&&L.push(ie(je))}}catch(kr){ye=!0,Fe=kr}finally{try{!he&&Se.return&&Se.return()}finally{if(ye)throw Fe}}var Ae=L.length,Oe=Ae;for(Ae&&L.push(B);Oe<U;){var He=M,tt=!0,kt=!1,Kt=void 0;try{for(var se=T[Symbol.iterator](),nr;!(tt=(nr=se.next()).done);tt=!0){var ot=nr.value;ot>=Y&&ot<He&&(He=ot)}}catch(kr){kt=!0,Kt=kr}finally{try{!tt&&se.return&&se.return()}finally{if(kt)throw Kt}}var Bt=Oe+1;He-Y>ne((M-re)/Bt)&&J("overflow"),re+=(He-Y)*Bt,Y=He;var dr=!0,Ce=!1,Ne=void 0;try{for(var Ue=T[Symbol.iterator](),ht;!(dr=(ht=Ue.next()).done);dr=!0){var wr=ht.value;if(wr<Y&&++re>M&&J("overflow"),wr==Y){for(var vn=re,It=D;;It+=D){var Gr=It<=oe?k:It>=oe+O?O:It-oe;if(vn<Gr)break;var Xs=vn-Gr,Ft=D-Gr;L.push(ie(ue(Gr+Xs%Ft,0))),vn=ne(Xs/Ft)}L.push(ie(ue(vn,0))),oe=ke(re,Bt,Oe==Ae),re=0,++Oe}}}catch(kr){Ce=!0,Ne=kr}finally{try{!dr&&Ue.return&&Ue.return()}finally{if(Ce)throw Ne}}++re,++Y}return L.join("")},De=function(T){return Re(T,function(L){return H.test(L)?Me(L.slice(4).toLowerCase()):L})},Rt=function(T){return Re(T,function(L){return Q.test(L)?"xn--"+nt(L):L})},we={version:"2.1.0",ucs2:{decode:fe,encode:le},decode:Me,encode:nt,toASCII:Rt,toUnicode:De},dt={};function Ze(_){var T=_.charCodeAt(0),L=void 0;return T<16?L="%0"+T.toString(16).toUpperCase():T<128?L="%"+T.toString(16).toUpperCase():T<2048?L="%"+(T>>6|192).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase():L="%"+(T>>12|224).toString(16).toUpperCase()+"%"+(T>>6&63|128).toString(16).toUpperCase()+"%"+(T&63|128).toString(16).toUpperCase(),L}function Jt(_){for(var T="",L=0,U=_.length;L<U;){var Y=parseInt(_.substr(L+1,2),16);if(Y<128)T+=String.fromCharCode(Y),L+=3;else if(Y>=194&&Y<224){if(U-L>=6){var re=parseInt(_.substr(L+4,2),16);T+=String.fromCharCode((Y&31)<<6|re&63)}else T+=_.substr(L,6);L+=6}else if(Y>=224){if(U-L>=9){var oe=parseInt(_.substr(L+4,2),16),he=parseInt(_.substr(L+7,2),16);T+=String.fromCharCode((Y&15)<<12|(oe&63)<<6|he&63)}else T+=_.substr(L,9);L+=9}else T+=_.substr(L,3),L+=3}return T}function yt(_,T){function L(U){var Y=Jt(U);return Y.match(T.UNRESERVED)?Y:U}return _.scheme&&(_.scheme=String(_.scheme).replace(T.PCT_ENCODED,L).toLowerCase().replace(T.NOT_SCHEME,"")),_.userinfo!==void 0&&(_.userinfo=String(_.userinfo).replace(T.PCT_ENCODED,L).replace(T.NOT_USERINFO,Ze).replace(T.PCT_ENCODED,h)),_.host!==void 0&&(_.host=String(_.host).replace(T.PCT_ENCODED,L).toLowerCase().replace(T.NOT_HOST,Ze).replace(T.PCT_ENCODED,h)),_.path!==void 0&&(_.path=String(_.path).replace(T.PCT_ENCODED,L).replace(_.scheme?T.NOT_PATH:T.NOT_PATH_NOSCHEME,Ze).replace(T.PCT_ENCODED,h)),_.query!==void 0&&(_.query=String(_.query).replace(T.PCT_ENCODED,L).replace(T.NOT_QUERY,Ze).replace(T.PCT_ENCODED,h)),_.fragment!==void 0&&(_.fragment=String(_.fragment).replace(T.PCT_ENCODED,L).replace(T.NOT_FRAGMENT,Ze).replace(T.PCT_ENCODED,h)),_}function Xe(_){return _.replace(/^0*(.*)/,"$1")||"0"}function gt(_,T){var L=_.match(T.IPV4ADDRESS)||[],U=I(L,2),Y=U[1];return Y?Y.split(".").map(Xe).join("."):_}function be(_,T){var L=_.match(T.IPV6ADDRESS)||[],U=I(L,3),Y=U[1],re=U[2];if(Y){for(var oe=Y.toLowerCase().split("::").reverse(),he=I(oe,2),ye=he[0],Fe=he[1],Se=Fe?Fe.split(":").map(Xe):[],Pe=ye.split(":").map(Xe),je=T.IPV4ADDRESS.test(Pe[Pe.length-1]),Ae=je?7:8,Oe=Pe.length-Ae,He=Array(Ae),tt=0;tt<Ae;++tt)He[tt]=Se[tt]||Pe[Oe+tt]||"";je&&(He[Ae-1]=gt(He[Ae-1],T));var kt=He.reduce(function(Bt,dr,Ce){if(!dr||dr==="0"){var Ne=Bt[Bt.length-1];Ne&&Ne.index+Ne.length===Ce?Ne.length++:Bt.push({index:Ce,length:1})}return Bt},[]),Kt=kt.sort(function(Bt,dr){return dr.length-Bt.length})[0],se=void 0;if(Kt&&Kt.length>1){var nr=He.slice(0,Kt.index),ot=He.slice(Kt.index+Kt.length);se=nr.join(":")+"::"+ot.join(":")}else se=He.join(":");return re&&(se+="%"+re),se}else return _}var lt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,$t="".match(/(){0}/)[1]===void 0;function pt(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L={},U=T.iri!==!1?y:E;T.reference==="suffix"&&(_=(T.scheme?T.scheme+":":"")+"//"+_);var Y=_.match(lt);if(Y){$t?(L.scheme=Y[1],L.userinfo=Y[3],L.host=Y[4],L.port=parseInt(Y[5],10),L.path=Y[6]||"",L.query=Y[7],L.fragment=Y[8],isNaN(L.port)&&(L.port=Y[5])):(L.scheme=Y[1]||void 0,L.userinfo=_.indexOf("@")!==-1?Y[3]:void 0,L.host=_.indexOf("//")!==-1?Y[4]:void 0,L.port=parseInt(Y[5],10),L.path=Y[6]||"",L.query=_.indexOf("?")!==-1?Y[7]:void 0,L.fragment=_.indexOf("#")!==-1?Y[8]:void 0,isNaN(L.port)&&(L.port=_.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Y[4]:void 0)),L.host&&(L.host=be(gt(L.host,U),U)),L.scheme===void 0&&L.userinfo===void 0&&L.host===void 0&&L.port===void 0&&!L.path&&L.query===void 0?L.reference="same-document":L.scheme===void 0?L.reference="relative":L.fragment===void 0?L.reference="absolute":L.reference="uri",T.reference&&T.reference!=="suffix"&&T.reference!==L.reference&&(L.error=L.error||"URI is not a "+T.reference+" reference.");var re=dt[(T.scheme||L.scheme||"").toLowerCase()];if(!T.unicodeSupport&&(!re||!re.unicodeSupport)){if(L.host&&(T.domainHost||re&&re.domainHost))try{L.host=we.toASCII(L.host.replace(U.PCT_ENCODED,Jt).toLowerCase())}catch(oe){L.error=L.error||"Host's domain name can not be converted to ASCII via punycode: "+oe}yt(L,E)}else yt(L,U);re&&re.parse&&re.parse(L,T)}else L.error=L.error||"URI can not be parsed.";return L}function St(_,T){var L=T.iri!==!1?y:E,U=[];return _.userinfo!==void 0&&(U.push(_.userinfo),U.push("@")),_.host!==void 0&&U.push(be(gt(String(_.host),L),L).replace(L.IPV6ADDRESS,function(Y,re,oe){return"["+re+(oe?"%25"+oe:"")+"]"})),(typeof _.port=="number"||typeof _.port=="string")&&(U.push(":"),U.push(String(_.port))),U.length?U.join(""):void 0}var et=/^\.\.?\//,Be=/^\/\.(\/|$)/,Tr=/^\/\.\.(\/|$)/,Ie=/^\/?(?:.|\n)*?(?=\/|$)/;function At(_){for(var T=[];_.length;)if(_.match(et))_=_.replace(et,"");else if(_.match(Be))_=_.replace(Be,"/");else if(_.match(Tr))_=_.replace(Tr,"/"),T.pop();else if(_==="."||_==="..")_="";else{var L=_.match(Ie);if(L){var U=L[0];_=_.slice(U.length),T.push(U)}else throw new Error("Unexpected dot segment condition")}return T.join("")}function Pt(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=T.iri?y:E,U=[],Y=dt[(T.scheme||_.scheme||"").toLowerCase()];if(Y&&Y.serialize&&Y.serialize(_,T),_.host&&!L.IPV6ADDRESS.test(_.host)){if(T.domainHost||Y&&Y.domainHost)try{_.host=T.iri?we.toUnicode(_.host):we.toASCII(_.host.replace(L.PCT_ENCODED,Jt).toLowerCase())}catch(he){_.error=_.error||"Host's domain name can not be converted to "+(T.iri?"Unicode":"ASCII")+" via punycode: "+he}}yt(_,L),T.reference!=="suffix"&&_.scheme&&(U.push(_.scheme),U.push(":"));var re=St(_,T);if(re!==void 0&&(T.reference!=="suffix"&&U.push("//"),U.push(re),_.path&&_.path.charAt(0)!=="/"&&U.push("/")),_.path!==void 0){var oe=_.path;!T.absolutePath&&(!Y||!Y.absolutePath)&&(oe=At(oe)),re===void 0&&(oe=oe.replace(/^\/\//,"/%2F")),U.push(oe)}return _.query!==void 0&&(U.push("?"),U.push(_.query)),_.fragment!==void 0&&(U.push("#"),U.push(_.fragment)),U.join("")}function mt(_,T){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=arguments[3],Y={};return U||(_=pt(Pt(_,L),L),T=pt(Pt(T,L),L)),L=L||{},!L.tolerant&&T.scheme?(Y.scheme=T.scheme,Y.userinfo=T.userinfo,Y.host=T.host,Y.port=T.port,Y.path=At(T.path||""),Y.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(Y.userinfo=T.userinfo,Y.host=T.host,Y.port=T.port,Y.path=At(T.path||""),Y.query=T.query):(T.path?(T.path.charAt(0)==="/"?Y.path=At(T.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?Y.path="/"+T.path:_.path?Y.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+T.path:Y.path=T.path,Y.path=At(Y.path)),Y.query=T.query):(Y.path=_.path,T.query!==void 0?Y.query=T.query:Y.query=_.query),Y.userinfo=_.userinfo,Y.host=_.host,Y.port=_.port),Y.scheme=_.scheme),Y.fragment=T.fragment,Y}function Mr(_,T,L){var U=x({scheme:"null"},L);return Pt(mt(pt(_,U),pt(T,U),U,!0),U)}function or(_,T){return typeof _=="string"?_=Pt(pt(_,T),T):c(_)==="object"&&(_=pt(Pt(_,T),T)),_}function Nn(_,T,L){return typeof _=="string"?_=Pt(pt(_,L),L):c(_)==="object"&&(_=Pt(_,L)),typeof T=="string"?T=Pt(pt(T,L),L):c(T)==="object"&&(T=Pt(T,L)),_===T}function rr(_,T){return _&&_.toString().replace(!T||!T.iri?E.ESCAPE:y.ESCAPE,Ze)}function it(_,T){return _&&_.toString().replace(!T||!T.iri?E.PCT_ENCODED:y.PCT_ENCODED,Jt)}var pn={scheme:"http",domainHost:!0,parse:function(T,L){return T.host||(T.error=T.error||"HTTP URIs must have a host."),T},serialize:function(T,L){var U=String(T.scheme).toLowerCase()==="https";return(T.port===(U?443:80)||T.port==="")&&(T.port=void 0),T.path||(T.path="/"),T}},nn={scheme:"https",domainHost:pn.domainHost,parse:pn.parse,serialize:pn.serialize};function Ji(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}var at={scheme:"ws",domainHost:!0,parse:function(T,L){var U=T;return U.secure=Ji(U),U.resourceName=(U.path||"/")+(U.query?"?"+U.query:""),U.path=void 0,U.query=void 0,U},serialize:function(T,L){if((T.port===(Ji(T)?443:80)||T.port==="")&&(T.port=void 0),typeof T.secure=="boolean"&&(T.scheme=T.secure?"wss":"ws",T.secure=void 0),T.resourceName){var U=T.resourceName.split("?"),Y=I(U,2),re=Y[0],oe=Y[1];T.path=re&&re!=="/"?re:void 0,T.query=oe,T.resourceName=void 0}return T.fragment=void 0,T}},xe={scheme:"wss",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize},Lt={},ut="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",st="[0-9A-Fa-f]",Rn=a(a("%[EFef]"+st+"%"+st+st+"%"+st+st)+"|"+a("%[89A-Fa-f]"+st+"%"+st+st)+"|"+a("%"+st+st)),Dn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Di="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ke=o(Di,'[\\"\\\\]'),br="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Kn=new RegExp(ut,"g"),mn=new RegExp(Rn,"g"),yr=new RegExp(o("[^]",Dn,"[\\.]",'[\\"]',Ke),"g"),qn=new RegExp(o("[^]",ut,br),"g"),Zt=qn;function Pr(_){var T=Jt(_);return T.match(Kn)?T:_}var an={scheme:"mailto",parse:function(T,L){var U=T,Y=U.to=U.path?U.path.split(","):[];if(U.path=void 0,U.query){for(var re=!1,oe={},he=U.query.split("&"),ye=0,Fe=he.length;ye<Fe;++ye){var Se=he[ye].split("=");switch(Se[0]){case"to":for(var Pe=Se[1].split(","),je=0,Ae=Pe.length;je<Ae;++je)Y.push(Pe[je]);break;case"subject":U.subject=it(Se[1],L);break;case"body":U.body=it(Se[1],L);break;default:re=!0,oe[it(Se[0],L)]=it(Se[1],L);break}}re&&(U.headers=oe)}U.query=void 0;for(var Oe=0,He=Y.length;Oe<He;++Oe){var tt=Y[Oe].split("@");if(tt[0]=it(tt[0]),L.unicodeSupport)tt[1]=it(tt[1],L).toLowerCase();else try{tt[1]=we.toASCII(it(tt[1],L).toLowerCase())}catch(kt){U.error=U.error||"Email address's domain name can not be converted to ASCII via punycode: "+kt}Y[Oe]=tt.join("@")}return U},serialize:function(T,L){var U=T,Y=p(T.to);if(Y){for(var re=0,oe=Y.length;re<oe;++re){var he=String(Y[re]),ye=he.lastIndexOf("@"),Fe=he.slice(0,ye).replace(mn,Pr).replace(mn,h).replace(yr,Ze),Se=he.slice(ye+1);try{Se=L.iri?we.toUnicode(Se):we.toASCII(it(Se,L).toLowerCase())}catch(Oe){U.error=U.error||"Email address's domain name can not be converted to "+(L.iri?"Unicode":"ASCII")+" via punycode: "+Oe}Y[re]=Fe+"@"+Se}U.path=Y.join(",")}var Pe=T.headers=T.headers||{};T.subject&&(Pe.subject=T.subject),T.body&&(Pe.body=T.body);var je=[];for(var Ae in Pe)Pe[Ae]!==Lt[Ae]&&je.push(Ae.replace(mn,Pr).replace(mn,h).replace(qn,Ze)+"="+Pe[Ae].replace(mn,Pr).replace(mn,h).replace(Zt,Ze));return je.length&&(U.query=je.join("&")),U}},Lr=/^([^\:]+)\:(.*)/,ea={scheme:"urn",parse:function(T,L){var U=T.path&&T.path.match(Lr),Y=T;if(U){var re=L.scheme||Y.scheme||"urn",oe=U[1].toLowerCase(),he=U[2],ye=re+":"+(L.nid||oe),Fe=dt[ye];Y.nid=oe,Y.nss=he,Y.path=void 0,Fe&&(Y=Fe.parse(Y,L))}else Y.error=Y.error||"URN can not be parsed.";return Y},serialize:function(T,L){var U=L.scheme||T.scheme||"urn",Y=T.nid,re=U+":"+(L.nid||Y),oe=dt[re];oe&&(T=oe.serialize(T,L));var he=T,ye=T.nss;return he.path=(Y||L.nid)+":"+ye,he}},W=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$={scheme:"urn:uuid",parse:function(T,L){var U=T;return U.uuid=U.nss,U.nss=void 0,!L.tolerant&&(!U.uuid||!U.uuid.match(W))&&(U.error=U.error||"UUID is not valid."),U},serialize:function(T,L){var U=T;return U.nss=(T.uuid||"").toLowerCase(),U}};dt[pn.scheme]=pn,dt[nn.scheme]=nn,dt[at.scheme]=at,dt[xe.scheme]=xe,dt[an.scheme]=an,dt[ea.scheme]=ea,dt[$.scheme]=$,n.SCHEMES=dt,n.pctEncChar=Ze,n.pctDecChars=Jt,n.parse=pt,n.removeDotSegments=At,n.serialize=Pt,n.resolveComponents=mt,n.resolve=Mr,n.normalize=or,n.equal=Nn,n.escapeComponent=rr,n.unescapeComponent=it,Object.defineProperty(n,"__esModule",{value:!0})})})(_c,_c.exports);var Py=_c.exports,Ff=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,a,c;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(a=o;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(c=Object.keys(e),o=c.length,o!==Object.keys(n).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,c[a]))return!1;for(a=o;a--!==0;){var h=c[a];if(!t(e[h],n[h]))return!1}return!0}return e!==e&&n!==n},Ly=function(e){for(var n=0,o=e.length,a=0,c;a<o;)n++,c=e.charCodeAt(a++),c>=55296&&c<=56319&&a<o&&(c=e.charCodeAt(a),(c&64512)==56320&&a++);return n},ja={copy:ky,checkDataType:Nc,checkDataTypes:By,coerceToTypes:Fy,toHash:Uf,getProperty:jf,escapeQuotes:zf,equal:Ff,ucs2length:Ly,varOccurences:zy,varReplace:Vy,schemaHasRules:Hy,schemaHasRulesExcept:Wy,schemaUnknownRules:Gy,toQuotedString:Rc,getPathExpr:Yy,getPath:Xy,getData:Zy,unescapeFragment:Ky,unescapeJsonPointer:Hf,escapeFragment:qy,escapeJsonPointer:Vf};function ky(t,e){e=e||{};for(var n in t)e[n]=t[n];return e}function Nc(t,e,n,o){var a=o?" !== ":" === ",c=o?" || ":" && ",h=o?"!":"",p=o?"":"!";switch(t){case"null":return e+a+"null";case"array":return h+"Array.isArray("+e+")";case"object":return"("+h+e+c+"typeof "+e+a+'"object"'+c+p+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+a+'"number"'+c+p+"("+e+" % 1)"+c+e+a+e+(n?c+h+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+a+'"'+t+'"'+(n?c+h+"isFinite("+e+")":"")+")";default:return"typeof "+e+a+'"'+t+'"'}}function By(t,e,n){switch(t.length){case 1:return Nc(t[0],e,n,!0);default:var o="",a=Uf(t);a.array&&a.object&&(o=a.null?"(":"(!"+e+" || ",o+="typeof "+e+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer;for(var c in a)o+=(o?" && ":"")+Nc(c,e,n,!0);return o}}var q1=Uf(["string","number","integer","boolean","null"]);function Fy(t,e){if(Array.isArray(e)){for(var n=[],o=0;o<e.length;o++){var a=e[o];(q1[a]||t==="array"&&a==="array")&&(n[n.length]=a)}if(n.length)return n}else{if(q1[e])return[e];if(t==="array"&&e==="array")return["array"]}}function Uf(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Uy=/^[a-z$_][a-z$_0-9]*$/i,jy=/'|\\/g;function jf(t){return typeof t=="number"?"["+t+"]":Uy.test(t)?"."+t:"['"+zf(t)+"']"}function zf(t){return t.replace(jy,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function zy(t,e){e+="[^0-9]";var n=t.match(new RegExp(e,"g"));return n?n.length:0}function Vy(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")}function Hy(t,e){if(typeof t=="boolean")return!t;for(var n in t)if(e[n])return!0}function Wy(t,e,n){if(typeof t=="boolean")return!t&&n!="not";for(var o in t)if(o!=n&&e[o])return!0}function Gy(t,e){if(typeof t!="boolean"){for(var n in t)if(!e[n])return n}}function Rc(t){return"'"+zf(t)+"'"}function Yy(t,e,n,o){var a=n?"'/' + "+e+(o?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):o?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return $g(t,a)}function Xy(t,e,n){var o=Rc(n?"/"+Vf(e):jf(e));return $g(t,o)}var Qy=/^\/(?:[^~]|~0|~1)*$/,$y=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Zy(t,e,n){var o,a,c,h;if(t==="")return"rootData";if(t[0]=="/"){if(!Qy.test(t))throw new Error("Invalid JSON-pointer: "+t);a=t,c="rootData"}else{if(h=t.match($y),!h)throw new Error("Invalid JSON-pointer: "+t);if(o=+h[1],a=h[2],a=="#"){if(o>=e)throw new Error("Cannot access property/index "+o+" levels up, current level is "+e);return n[e-o]}if(o>e)throw new Error("Cannot access data "+o+" levels up, current level is "+e);if(c="data"+(e-o||""),!a)return c}for(var p=c,x=a.split("/"),v=0;v<x.length;v++){var E=x[v];E&&(c+=jf(Hf(E)),p+=" && "+c)}return p}function $g(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Ky(t){return Hf(decodeURIComponent(t))}function qy(t){return encodeURIComponent(Vf(t))}function Vf(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function Hf(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var Jy=ja,Zg=ew;function ew(t){Jy.copy(t,this)}var Kg={exports:{}},fi=Kg.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var o=typeof n=="function"?n:n.pre||function(){},a=n.post||function(){};Po(e,o,a,t,"",t)};fi.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};fi.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};fi.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};fi.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Po(t,e,n,o,a,c,h,p,x,v){if(o&&typeof o=="object"&&!Array.isArray(o)){e(o,a,c,h,p,x,v);for(var E in o){var y=o[E];if(Array.isArray(y)){if(E in fi.arrayKeywords)for(var I=0;I<y.length;I++)Po(t,e,n,y[I],a+"/"+E+"/"+I,c,a,E,o,I)}else if(E in fi.propsKeywords){if(y&&typeof y=="object")for(var A in y)Po(t,e,n,y[A],a+"/"+E+"/"+tw(A),c,a,E,o,A)}else(E in fi.keywords||t.allKeys&&!(E in fi.skipKeywords))&&Po(t,e,n,y,a+"/"+E,c,a,E,o)}n(o,a,c,h,p,x,v)}}function tw(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var rw=Kg.exports,Ys=Py,J1=Ff,kl=ja,cl=Zg,nw=rw,Wf=Ri;Ri.normalizeId=Ei;Ri.fullPath=fl;Ri.url=dl;Ri.ids=lw;Ri.inlineRef=Dc;Ri.schema=Bl;function Ri(t,e,n){var o=this._refs[n];if(typeof o=="string")if(this._refs[o])o=this._refs[o];else return Ri.call(this,t,e,o);if(o=o||this._schemas[n],o instanceof cl)return Dc(o.schema,this._opts.inlineRefs)?o.schema:o.validate||this._compile(o);var a=Bl.call(this,e,n),c,h,p;return a&&(c=a.schema,e=a.root,p=a.baseId),c instanceof cl?h=c.validate||t.call(this,c.schema,e,void 0,p):c!==void 0&&(h=Dc(c,this._opts.inlineRefs)?c:t.call(this,c,e,void 0,p)),h}function Bl(t,e){var n=Ys.parse(e),o=Jg(n),a=fl(this._getId(t.schema));if(Object.keys(t.schema).length===0||o!==a){var c=Ei(o),h=this._refs[c];if(typeof h=="string")return iw.call(this,t,h,n);if(h instanceof cl)h.validate||this._compile(h),t=h;else if(h=this._schemas[c],h instanceof cl){if(h.validate||this._compile(h),c==Ei(e))return{schema:h,root:t,baseId:a};t=h}else return;if(!t.schema)return;a=fl(this._getId(t.schema))}return qg.call(this,n,a,t.schema,t)}function iw(t,e,n){var o=Bl.call(this,t,e);if(o){var a=o.schema,c=o.baseId;t=o.root;var h=this._getId(a);return h&&(c=dl(c,h)),qg.call(this,n,c,a,t)}}var aw=kl.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function qg(t,e,n,o){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var a=t.fragment.split("/"),c=1;c<a.length;c++){var h=a[c];if(h){if(h=kl.unescapeFragment(h),n=n[h],n===void 0)break;var p;if(!aw[h]&&(p=this._getId(n),p&&(e=dl(e,p)),n.$ref)){var x=dl(e,n.$ref),v=Bl.call(this,o,x);v&&(n=v.schema,o=v.root,e=v.baseId)}}}if(n!==void 0&&n!==o.schema)return{schema:n,root:o,baseId:e}}}var sw=kl.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Dc(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return Oc(t);if(e)return Mc(t)<=e}function Oc(t){var e;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(e=t[n],typeof e=="object"&&!Oc(e))return!1}else for(var o in t)if(o=="$ref"||(e=t[o],typeof e=="object"&&!Oc(e)))return!1;return!0}function Mc(t){var e=0,n;if(Array.isArray(t)){for(var o=0;o<t.length;o++)if(n=t[o],typeof n=="object"&&(e+=Mc(n)),e==1/0)return 1/0}else for(var a in t){if(a=="$ref")return 1/0;if(sw[a])e++;else if(n=t[a],typeof n=="object"&&(e+=Mc(n)+1),e==1/0)return 1/0}return e}function fl(t,e){e!==!1&&(t=Ei(t));var n=Ys.parse(t);return Jg(n)}function Jg(t){return Ys.serialize(t).split("#")[0]+"#"}var ow=/#\/?$/;function Ei(t){return t?t.replace(ow,""):""}function dl(t,e){return e=Ei(e),Ys.resolve(t,e)}function lw(t){var e=Ei(this._getId(t)),n={"":e},o={"":fl(e,!1)},a={},c=this;return nw(t,{allKeys:!0},function(h,p,x,v,E,y,I){if(p!==""){var A=c._getId(h),M=n[v],D=o[v]+"/"+E;if(I!==void 0&&(D+="/"+(typeof I=="number"?I:kl.escapeFragment(I))),typeof A=="string"){A=M=Ei(M?Ys.resolve(M,A):A);var k=c._refs[A];if(typeof k=="string"&&(k=c._refs[k]),k&&k.schema){if(!J1(h,k.schema))throw new Error('id "'+A+'" resolves to more than one schema')}else if(A!=Ei(D))if(A[0]=="#"){if(a[A]&&!J1(h,a[A]))throw new Error('id "'+A+'" resolves to more than one schema');a[A]=h}else c._refs[A]=D}n[p]=M,o[p]=D}}),a}var _u=Wf,Gf={Validation:eh(uw),MissingRef:eh(Yf)};function uw(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}Yf.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function Yf(t,e,n){this.message=n||Yf.message(t,e),this.missingRef=_u.url(t,e),this.missingSchema=_u.normalizeId(_u.fullPath(this.missingRef))}function eh(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ep=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var n=typeof e.cycles=="boolean"?e.cycles:!1,o=e.cmp&&function(c){return function(h){return function(p,x){var v={key:p,value:h[p]},E={key:x,value:h[x]};return c(v,E)}}}(e.cmp),a=[];return function c(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h!==void 0){if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);var p,x;if(Array.isArray(h)){for(x="[",p=0;p<h.length;p++)p&&(x+=","),x+=c(h[p])||"null";return x+"]"}if(h===null)return"null";if(a.indexOf(h)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var v=a.push(h)-1,E=Object.keys(h).sort(o&&o(h));for(x="",p=0;p<E.length;p++){var y=E[p],I=c(h[y]);I&&(x&&(x+=","),x+=JSON.stringify(y)+":"+I)}return a.splice(v,1),"{"+x+"}"}}(t)},tp=function(e,n,o){var a="",c=e.schema.$async===!0,h=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),p=e.self._getId(e.schema);if(e.opts.strictKeywords){var x=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(x){var v="unknown keyword: "+x;if(e.opts.strictKeywords==="log")e.logger.warn(v);else throw new Error(v)}}if(e.isTop&&(a+=" var validate = ",c&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",p&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" "+("/*# sourceURL="+p+" */")+" ")),typeof e.schema=="boolean"||!(h||e.schema.$ref)){var n="false schema",E=e.level,y=e.dataLevel,I=e.schema[n],A=e.schemaPath+e.util.getProperty(n),M=e.errSchemaPath+"/"+n,Z=!e.opts.allErrors,Q,D="data"+(y||""),j="valid"+E;if(e.schema===!1){e.isTop?Z=!0:a+=" var "+j+" = false; ";var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(Q||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(M)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+D+" "),a+=" } "):a+=" {} ";var O=a;a=k.pop(),!e.compositeRule&&Z?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?c?a+=" return data; ":a+=" validate.errors = null; return true; ":a+=" var "+j+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var R=e.isTop,E=e.level=0,y=e.dataLevel=0,D="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{var E=e.level,y=e.dataLevel,D="data"+(y||"");if(p&&(e.baseId=e.resolve.url(e.baseId,p)),c&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+E+" = errors;"}var j="valid"+E,Z=!e.opts.allErrors,B="",H="",Q,z=e.schema.type,ae=Array.isArray(z);if(z&&e.opts.nullable&&e.schema.nullable===!0&&(ae?z.indexOf("null")==-1&&(z=z.concat("null")):z!="null"&&(z=[z,"null"],ae=!0)),ae&&z.length==1&&(z=z[0],ae=!1),e.schema.$ref&&h){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(h=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),z){if(e.opts.coerceTypes)var ce=e.util.coerceToTypes(e.opts.coerceTypes,z);var ne=e.RULES.types[z];if(ce||ae||ne===!0||ne&&!Be(ne)){var A=e.schemaPath+".type",M=e.errSchemaPath+"/type",A=e.schemaPath+".type",M=e.errSchemaPath+"/type",ie=ae?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[ie](z,D,e.opts.strictNumbers,!0)+") { ",ce){var J="dataType"+E,X="coerced"+E;a+=" var "+J+" = typeof "+D+"; var "+X+" = undefined; ",e.opts.coerceTypes=="array"&&(a+=" if ("+J+" == 'object' && Array.isArray("+D+") && "+D+".length == 1) { "+D+" = "+D+"[0]; "+J+" = typeof "+D+"; if ("+e.util.checkDataType(e.schema.type,D,e.opts.strictNumbers)+") "+X+" = "+D+"; } "),a+=" if ("+X+" !== undefined) ; ";var Re=ce;if(Re)for(var fe,le=-1,ge=Re.length-1;le<ge;)fe=Re[le+=1],fe=="string"?a+=" else if ("+J+" == 'number' || "+J+" == 'boolean') "+X+" = '' + "+D+"; else if ("+D+" === null) "+X+" = ''; ":fe=="number"||fe=="integer"?(a+=" else if ("+J+" == 'boolean' || "+D+" === null || ("+J+" == 'string' && "+D+" && "+D+" == +"+D+" ",fe=="integer"&&(a+=" && !("+D+" % 1)"),a+=")) "+X+" = +"+D+"; "):fe=="boolean"?a+=" else if ("+D+" === 'false' || "+D+" === 0 || "+D+" === null) "+X+" = false; else if ("+D+" === 'true' || "+D+" === 1) "+X+" = true; ":fe=="null"?a+=" else if ("+D+" === '' || "+D+" === 0 || "+D+" === false) "+X+" = null; ":e.opts.coerceTypes=="array"&&fe=="array"&&(a+=" else if ("+J+" == 'string' || "+J+" == 'number' || "+J+" == 'boolean' || "+D+" == null) "+X+" = ["+D+"]; ");a+=" else {   ";var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(Q||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(M)+" , params: { type: '",ae?a+=""+z.join(","):a+=""+z,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",ae?a+=""+z.join(","):a+=""+z,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+D+" "),a+=" } "):a+=" {} ";var O=a;a=k.pop(),!e.compositeRule&&Z?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+X+" !== undefined) {  ";var ue=y?"data"+(y-1||""):"parentData",ke=y?e.dataPathArr[y]:"parentDataProperty";a+=" "+D+" = "+X+"; ",y||(a+="if ("+ue+" !== undefined)"),a+=" "+ue+"["+ke+"] = "+X+"; } "}else{var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(Q||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(M)+" , params: { type: '",ae?a+=""+z.join(","):a+=""+z,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",ae?a+=""+z.join(","):a+=""+z,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+D+" "),a+=" } "):a+=" {} ";var O=a;a=k.pop(),!e.compositeRule&&Z?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}a+=" } "}}if(e.schema.$ref&&!h)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",Z&&(a+=" } if (errors === ",R?a+="0":a+="errs_"+E,a+=") { ",H+="}");else{var Me=e.RULES;if(Me){for(var ne,nt=-1,De=Me.length-1;nt<De;)if(ne=Me[nt+=1],Be(ne)){if(ne.type&&(a+=" if ("+e.util.checkDataType(ne.type,D,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(ne.type=="object"&&e.schema.properties){var I=e.schema.properties,Rt=Object.keys(I),we=Rt;if(we)for(var dt,Ze=-1,Jt=we.length-1;Ze<Jt;){dt=we[Ze+=1];var yt=I[dt];if(yt.default!==void 0){var Xe=D+e.util.getProperty(dt);if(e.compositeRule){if(e.opts.strictDefaults){var b="default is ignored for: "+Xe;if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}}else a+=" if ("+Xe+" === undefined ",e.opts.useDefaults=="empty"&&(a+=" || "+Xe+" === null || "+Xe+" === '' "),a+=" ) "+Xe+" = ",e.opts.useDefaults=="shared"?a+=" "+e.useDefault(yt.default)+" ":a+=" "+JSON.stringify(yt.default)+" ",a+="; "}}}else if(ne.type=="array"&&Array.isArray(e.schema.items)){var gt=e.schema.items;if(gt){for(var yt,le=-1,be=gt.length-1;le<be;)if(yt=gt[le+=1],yt.default!==void 0){var Xe=D+"["+le+"]";if(e.compositeRule){if(e.opts.strictDefaults){var b="default is ignored for: "+Xe;if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}}else a+=" if ("+Xe+" === undefined ",e.opts.useDefaults=="empty"&&(a+=" || "+Xe+" === null || "+Xe+" === '' "),a+=" ) "+Xe+" = ",e.opts.useDefaults=="shared"?a+=" "+e.useDefault(yt.default)+" ":a+=" "+JSON.stringify(yt.default)+" ",a+="; "}}}}var lt=ne.rules;if(lt){for(var $t,pt=-1,St=lt.length-1;pt<St;)if($t=lt[pt+=1],Tr($t)){var et=$t.code(e,$t.keyword,ne.type);et&&(a+=" "+et+" ",Z&&(B+="}"))}}if(Z&&(a+=" "+B+" ",B=""),ne.type&&(a+=" } ",z&&z===ne.type&&!ce)){a+=" else { ";var A=e.schemaPath+".type",M=e.errSchemaPath+"/type",k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(Q||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(M)+" , params: { type: '",ae?a+=""+z.join(","):a+=""+z,a+="' } ",e.opts.messages!==!1&&(a+=" , message: 'should be ",ae?a+=""+z.join(","):a+=""+z,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+A+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+D+" "),a+=" } "):a+=" {} ";var O=a;a=k.pop(),!e.compositeRule&&Z?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } "}Z&&(a+=" if (errors === ",R?a+="0":a+="errs_"+E,a+=") { ",H+="}")}}}Z&&(a+=" "+H+" "),R?(c?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+j+" = errors === errs_"+E+";";function Be(At){for(var Pt=At.rules,mt=0;mt<Pt.length;mt++)if(Tr(Pt[mt]))return!0}function Tr(At){return e.schema[At.keyword]!==void 0||At.implements&&Ie(At)}function Ie(At){for(var Pt=At.implements,mt=0;mt<Pt.length;mt++)if(e.schema[Pt[mt]]!==void 0)return!0}return a},xo=Wf,hl=ja,rp=Gf,cw=ep,th=tp,fw=hl.ucs2length,dw=Ff,hw=rp.Validation,gw=bc;function bc(t,e,n,o){var a=this,c=this._opts,h=[void 0],p={},x=[],v={},E=[],y={},I=[];e=e||{schema:t,refVal:h,refs:p};var A=pw.call(this,t,e,o),M=this._compilations[A.index];if(A.compiling)return M.callValidate=b;var D=this._formats,k=this.RULES;try{var O=j(t,e,n,o);M.validate=O;var R=M.callValidate;return R&&(R.schema=O.schema,R.errors=null,R.refs=O.refs,R.refVal=O.refVal,R.root=O.root,R.$async=O.$async,c.sourceCode&&(R.source=O.source)),O}finally{mw.call(this,t,e,o)}function b(){var ie=M.validate,J=ie.apply(this,arguments);return b.errors=ie.errors,J}function j(ie,J,X,Re){var fe=!J||J&&J.schema==ie;if(J.schema!=e.schema)return bc.call(a,ie,J,X,Re);var le=ie.$async===!0,ge=th({isTop:!0,schema:ie,isRoot:fe,baseId:Re,root:J,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:rp.MissingRef,RULES:k,validate:th,util:hl,resolve:xo,resolveRef:Z,usePattern:ae,useDefault:ce,useCustomRule:ne,opts:c,formats:D,logger:a.logger,self:a});ge=yo(h,yw)+yo(x,vw)+yo(E,xw)+yo(I,ww)+ge,c.processCode&&(ge=c.processCode(ge,ie));var ue;try{var ke=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ge);ue=ke(a,k,D,e,h,E,I,dw,fw,hw),h[0]=ue}catch(Me){throw a.logger.error("Error compiling schema, function code:",ge),Me}return ue.schema=ie,ue.errors=null,ue.refs=p,ue.refVal=h,ue.root=fe?ue:J,le&&(ue.$async=!0),c.sourceCode===!0&&(ue.source={code:ge,patterns:x,defaults:E}),ue}function Z(ie,J,X){J=xo.url(ie,J);var Re=p[J],fe,le;if(Re!==void 0)return fe=h[Re],le="refVal["+Re+"]",z(fe,le);if(!X&&e.refs){var ge=e.refs[J];if(ge!==void 0)return fe=e.refVal[ge],le=B(J,fe),z(fe,le)}le=B(J);var ue=xo.call(a,j,e,J);if(ue===void 0){var ke=n&&n[J];ke&&(ue=xo.inlineRef(ke,c.inlineRefs)?ke:bc.call(a,ke,e,n,ie))}if(ue===void 0)H(J);else return Q(J,ue),z(ue,le)}function B(ie,J){var X=h.length;return h[X]=J,p[ie]=X,"refVal"+X}function H(ie){delete p[ie]}function Q(ie,J){var X=p[ie];h[X]=J}function z(ie,J){return typeof ie=="object"||typeof ie=="boolean"?{code:J,schema:ie,inline:!0}:{code:J,$async:ie&&!!ie.$async}}function ae(ie){var J=v[ie];return J===void 0&&(J=v[ie]=x.length,x[J]=ie),"pattern"+J}function ce(ie){switch(typeof ie){case"boolean":case"number":return""+ie;case"string":return hl.toQuotedString(ie);case"object":if(ie===null)return"null";var J=cw(ie),X=y[J];return X===void 0&&(X=y[J]=E.length,E[X]=ie),"default"+X}}function ne(ie,J,X,Re){if(a._opts.validateSchema!==!1){var fe=ie.definition.dependencies;if(fe&&!fe.every(function(we){return Object.prototype.hasOwnProperty.call(X,we)}))throw new Error("parent schema must have all required keywords: "+fe.join(","));var le=ie.definition.validateSchema;if(le){var ge=le(J);if(!ge){var ue="keyword schema is invalid: "+a.errorsText(le.errors);if(a._opts.validateSchema=="log")a.logger.error(ue);else throw new Error(ue)}}}var ke=ie.definition.compile,Me=ie.definition.inline,nt=ie.definition.macro,De;if(ke)De=ke.call(a,J,X,Re);else if(nt)De=nt.call(a,J,X,Re),c.validateSchema!==!1&&a.validateSchema(De,!0);else if(Me)De=Me.call(a,Re,ie.keyword,J,X);else if(De=ie.definition.validate,!De)return;if(De===void 0)throw new Error('custom keyword "'+ie.keyword+'"failed to compile');var Rt=I.length;return I[Rt]=De,{code:"customRule"+Rt,validate:De}}}function pw(t,e,n){var o=np.call(this,t,e,n);return o>=0?{index:o,compiling:!0}:(o=this._compilations.length,this._compilations[o]={schema:t,root:e,baseId:n},{index:o,compiling:!1})}function mw(t,e,n){var o=np.call(this,t,e,n);o>=0&&this._compilations.splice(o,1)}function np(t,e,n){for(var o=0;o<this._compilations.length;o++){var a=this._compilations[o];if(a.schema==t&&a.root==e&&a.baseId==n)return o}return-1}function vw(t,e){return"var pattern"+t+" = new RegExp("+hl.toQuotedString(e[t])+");"}function xw(t){return"var default"+t+" = defaults["+t+"];"}function yw(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function ww(t){return"var customRule"+t+" = customRules["+t+"];"}function yo(t,e){if(!t.length)return"";for(var n="",o=0;o<t.length;o++)n+=e(o,t);return n}var ip={exports:{}},Fl=ip.exports=function(){this._cache={}};Fl.prototype.put=function(e,n){this._cache[e]=n};Fl.prototype.get=function(e){return this._cache[e]};Fl.prototype.del=function(e){delete this._cache[e]};Fl.prototype.clear=function(){this._cache={}};var Ew=ip.exports,Cw=ja,Sw=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Aw=[0,31,28,31,30,31,30,31,31,30,31,30,31],Iw=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ap=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Tw=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,_w=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,sp=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,op=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,lp=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,up=/^(?:\/(?:[^~/]|~0|~1)*)*$/,cp=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,fp=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Nw=Ul;function Ul(t){return t=t=="full"?"full":"fast",Cw.copy(Ul[t])}Ul.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":sp,url:op,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:ap,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:gp,uuid:lp,"json-pointer":up,"json-pointer-uri-fragment":cp,"relative-json-pointer":fp};Ul.full={date:dp,time:hp,"date-time":Ow,uri:bw,"uri-reference":_w,"uri-template":sp,url:op,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:ap,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:gp,uuid:lp,"json-pointer":up,"json-pointer-uri-fragment":cp,"relative-json-pointer":fp};function Rw(t){return t%4===0&&(t%100!==0||t%400===0)}function dp(t){var e=t.match(Sw);if(!e)return!1;var n=+e[1],o=+e[2],a=+e[3];return o>=1&&o<=12&&a>=1&&a<=(o==2&&Rw(n)?29:Aw[o])}function hp(t,e){var n=t.match(Iw);if(!n)return!1;var o=n[1],a=n[2],c=n[3],h=n[5];return(o<=23&&a<=59&&c<=59||o==23&&a==59&&c==60)&&(!e||h)}var Dw=/t|\s/i;function Ow(t){var e=t.split(Dw);return e.length==2&&dp(e[0])&&hp(e[1],!0)}var Mw=/\/|:/;function bw(t){return Mw.test(t)&&Tw.test(t)}var Pw=/[^\\]\\Z/;function gp(t){if(Pw.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}var Lw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.errSchemaPath+"/"+n,v=!e.opts.allErrors,E="data"+(h||""),y="valid"+c,I,A;if(p=="#"||p=="#/")e.isRoot?(I=e.async,A="validate"):(I=e.root.schema.$async===!0,A="root.refVal[0]");else{var M=e.resolveRef(e.baseId,p,e.isRoot);if(M===void 0){var D=e.MissingRefError.message(e.baseId,p);if(e.opts.missingRefs=="fail"){e.logger.error(D);var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(x)+" , params: { ref: '"+e.util.escapeQuotes(p)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(p)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(p)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+E+" "),a+=" } "):a+=" {} ";var O=a;a=k.pop(),!e.compositeRule&&v?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v&&(a+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(D),v&&(a+=" if (true) { ");else throw new e.MissingRefError(e.baseId,p,D)}else if(M.inline){var R=e.util.copy(e);R.level++;var b="valid"+R.level;R.schema=M.schema,R.schemaPath="",R.errSchemaPath=p;var j=e.validate(R).replace(/validate\.schema/g,M.code);a+=" "+j+" ",v&&(a+=" if ("+b+") { ")}else I=M.$async===!0||e.async&&M.$async!==!1,A=M.code}if(A){var k=k||[];k.push(a),a="",e.opts.passContext?a+=" "+A+".call(this, ":a+=" "+A+"( ",a+=" "+E+", (dataPath || '')",e.errorPath!='""'&&(a+=" + "+e.errorPath);var Z=h?"data"+(h-1||""):"parentData",B=h?e.dataPathArr[h]:"parentDataProperty";a+=" , "+Z+" , "+B+", rootData)  ";var H=a;if(a=k.pop(),I){if(!e.async)throw new Error("async schema referenced by sync schema");v&&(a+=" var "+y+"; "),a+=" try { await "+H+"; ",v&&(a+=" "+y+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",v&&(a+=" "+y+" = false; "),a+=" } ",v&&(a+=" if ("+y+") { ")}else a+=" if (!"+H+") { if (vErrors === null) vErrors = "+A+".errors; else vErrors = vErrors.concat("+A+".errors); errors = vErrors.length; } ",v&&(a+=" else { ")}return a},kw=function(e,n,o){var a=" ",c=e.schema[n],h=e.schemaPath+e.util.getProperty(n),p=e.errSchemaPath+"/"+n,x=!e.opts.allErrors,v=e.util.copy(e),E="";v.level++;var y="valid"+v.level,I=v.baseId,A=!0,M=c;if(M)for(var D,k=-1,O=M.length-1;k<O;)D=M[k+=1],(e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all))&&(A=!1,v.schema=D,v.schemaPath=h+"["+k+"]",v.errSchemaPath=p+"/"+k,a+="  "+e.validate(v)+" ",v.baseId=I,x&&(a+=" if ("+y+") { ",E+="}"));return x&&(A?a+=" if (true) { ":a+=" "+E.slice(0,-1)+" "),a},Bw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A="errs__"+c,M=e.util.copy(e),D="";M.level++;var k="valid"+M.level,O=p.every(function(Q){return e.opts.strictKeywords?typeof Q=="object"&&Object.keys(Q).length>0||Q===!1:e.util.schemaHasRules(Q,e.RULES.all)});if(O){var R=M.baseId;a+=" var "+A+" = errors; var "+I+" = false;  ";var b=e.compositeRule;e.compositeRule=M.compositeRule=!0;var j=p;if(j)for(var Z,B=-1,H=j.length-1;B<H;)Z=j[B+=1],M.schema=Z,M.schemaPath=x+"["+B+"]",M.errSchemaPath=v+"/"+B,a+="  "+e.validate(M)+" ",M.baseId=R,a+=" "+I+" = "+I+" || "+k+"; if (!"+I+") { ",D+="}";e.compositeRule=M.compositeRule=b,a+=" "+D+" if (!"+I+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&E&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else E&&(a+=" if (true) { ");return a},Fw=function(e,n,o){var a=" ",c=e.schema[n],h=e.errSchemaPath+"/"+n;e.opts.allErrors;var p=e.util.toQuotedString(c);return e.opts.$comment===!0?a+=" console.log("+p+");":typeof e.opts.$comment=="function"&&(a+=" self._opts.$comment("+p+", "+e.util.toQuotedString(h)+", validate.root.schema);"),a},Uw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A=e.opts.$data&&p&&p.$data;A&&(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; "),A||(a+=" var schema"+c+" = validate.schema"+x+";"),a+="var "+I+" = equal("+y+", schema"+c+"); if (!"+I+") {   ";var M=M||[];M.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { allowedValue: schema"+c+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var D=a;return a=M.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+D+"]); ":a+=" validate.errors = ["+D+"]; return false; ":a+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",E&&(a+=" else { "),a},jw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A="errs__"+c,M=e.util.copy(e),D="";M.level++;var k="valid"+M.level,O="i"+c,R=M.dataLevel=e.dataLevel+1,b="data"+R,j=e.baseId,Z=e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all);if(a+="var "+A+" = errors;var "+I+";",Z){var B=e.compositeRule;e.compositeRule=M.compositeRule=!0,M.schema=p,M.schemaPath=x,M.errSchemaPath=v,a+=" var "+k+" = false; for (var "+O+" = 0; "+O+" < "+y+".length; "+O+"++) { ",M.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0);var H=y+"["+O+"]";M.dataPathArr[R]=O;var Q=e.validate(M);M.baseId=j,e.util.varOccurences(Q,b)<2?a+=" "+e.util.varReplace(Q,b,H)+" ":a+=" var "+b+" = "+H+"; "+Q+" ",a+=" if ("+k+") break; }  ",e.compositeRule=M.compositeRule=B,a+=" "+D+" if (!"+k+") {"}else a+=" if ("+y+".length == 0) {";var z=z||[];z.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var ae=a;return a=z.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+ae+"]); ":a+=" validate.errors = ["+ae+"]; return false; ":a+=" var err = "+ae+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",Z&&(a+="  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a},zw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="errs__"+c,A=e.util.copy(e),M="";A.level++;var D="valid"+A.level,k={},O={},R=e.opts.ownProperties;for(B in p)if(B!="__proto__"){var b=p[B],j=Array.isArray(b)?O:k;j[B]=b}a+="var "+I+" = errors;";var Z=e.errorPath;a+="var missing"+c+";";for(var B in O)if(j=O[B],j.length){if(a+=" if ( "+y+e.util.getProperty(B)+" !== undefined ",R&&(a+=" && Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(B)+"') "),E){a+=" && ( ";var H=j;if(H)for(var Q,z=-1,ae=H.length-1;z<ae;){Q=H[z+=1],z&&(a+=" || ");var ce=e.util.getProperty(Q),ne=y+ce;a+=" ( ( "+ne+" === undefined ",R&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(Q)+"') "),a+=") && (missing"+c+" = "+e.util.toQuotedString(e.opts.jsonPointers?Q:ce)+") ) "}a+=")) {  ";var ie="missing"+c,J="' + "+ie+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Z,ie,!0):Z+" + "+ie);var X=X||[];X.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { property: '"+e.util.escapeQuotes(B)+"', missingProperty: '"+J+"', depsCount: "+j.length+", deps: '"+e.util.escapeQuotes(j.length==1?j[0]:j.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",j.length==1?a+="property "+e.util.escapeQuotes(j[0]):a+="properties "+e.util.escapeQuotes(j.join(", ")),a+=" when property "+e.util.escapeQuotes(B)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var Re=a;a=X.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+Re+"]); ":a+=" validate.errors = ["+Re+"]; return false; ":a+=" var err = "+Re+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var fe=j;if(fe)for(var Q,le=-1,ge=fe.length-1;le<ge;){Q=fe[le+=1];var ce=e.util.getProperty(Q),J=e.util.escapeQuotes(Q),ne=y+ce;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Z,Q,e.opts.jsonPointers)),a+=" if ( "+ne+" === undefined ",R&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(Q)+"') "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { property: '"+e.util.escapeQuotes(B)+"', missingProperty: '"+J+"', depsCount: "+j.length+", deps: '"+e.util.escapeQuotes(j.length==1?j[0]:j.join(", "))+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should have ",j.length==1?a+="property "+e.util.escapeQuotes(j[0]):a+="properties "+e.util.escapeQuotes(j.join(", ")),a+=" when property "+e.util.escapeQuotes(B)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",E&&(M+="}",a+=" else { ")}e.errorPath=Z;var ue=A.baseId;for(var B in k){var b=k[B];(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all))&&(a+=" "+D+" = true; if ( "+y+e.util.getProperty(B)+" !== undefined ",R&&(a+=" && Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(B)+"') "),a+=") { ",A.schema=b,A.schemaPath=x+e.util.getProperty(B),A.errSchemaPath=v+"/"+e.util.escapeFragment(B),a+="  "+e.validate(A)+" ",A.baseId=ue,a+=" }  ",E&&(a+=" if ("+D+") { ",M+="}"))}return E&&(a+="   "+M+" if ("+I+" == errors) {"),a},Vw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A=e.opts.$data&&p&&p.$data;A&&(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ");var M="i"+c,D="schema"+c;A||(a+=" var "+D+" = validate.schema"+x+";"),a+="var "+I+";",A&&(a+=" if (schema"+c+" === undefined) "+I+" = true; else if (!Array.isArray(schema"+c+")) "+I+" = false; else {"),a+=""+I+" = false;for (var "+M+"=0; "+M+"<"+D+".length; "+M+"++) if (equal("+y+", "+D+"["+M+"])) { "+I+" = true; break; }",A&&(a+="  }  "),a+=" if (!"+I+") {   ";var k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { allowedValues: schema"+c+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var O=a;return a=k.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",E&&(a+=" else { "),a},Hw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||"");if(e.opts.format===!1)return E&&(a+=" if (true) { "),a;var I=e.opts.$data&&p&&p.$data,A;I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p;var M=e.opts.unknownFormats,D=Array.isArray(M);if(I){var k="format"+c,O="isObject"+c,R="formatType"+c;a+=" var "+k+" = formats["+A+"]; var "+O+" = typeof "+k+" == 'object' && !("+k+" instanceof RegExp) && "+k+".validate; var "+R+" = "+O+" && "+k+".type || 'string'; if ("+O+") { ",e.async&&(a+=" var async"+c+" = "+k+".async; "),a+=" "+k+" = "+k+".validate; } if (  ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'string') || "),a+=" (",M!="ignore"&&(a+=" ("+A+" && !"+k+" ",D&&(a+=" && self._opts.unknownFormats.indexOf("+A+") == -1 "),a+=") || "),a+=" ("+k+" && "+R+" == '"+o+"' && !(typeof "+k+" == 'function' ? ",e.async?a+=" (async"+c+" ? await "+k+"("+y+") : "+k+"("+y+")) ":a+=" "+k+"("+y+") ",a+=" : "+k+".test("+y+"))))) {"}else{var k=e.formats[p];if(!k){if(M=="ignore")return e.logger.warn('unknown format "'+p+'" ignored in schema at path "'+e.errSchemaPath+'"'),E&&(a+=" if (true) { "),a;if(D&&M.indexOf(p)>=0)return E&&(a+=" if (true) { "),a;throw new Error('unknown format "'+p+'" is used in schema at path "'+e.errSchemaPath+'"')}var O=typeof k=="object"&&!(k instanceof RegExp)&&k.validate,R=O&&k.type||"string";if(O){var b=k.async===!0;k=k.validate}if(R!=o)return E&&(a+=" if (true) { "),a;if(b){if(!e.async)throw new Error("async format in sync schema");var j="formats"+e.util.getProperty(p)+".validate";a+=" if (!(await "+j+"("+y+"))) { "}else{a+=" if (! ";var j="formats"+e.util.getProperty(p);O&&(j+=".validate"),typeof k=="function"?a+=" "+j+"("+y+") ":a+=" "+j+".test("+y+") ",a+=") { "}}var Z=Z||[];Z.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { format:  ",I?a+=""+A:a+=""+e.util.toQuotedString(p),a+="  } ",e.opts.messages!==!1&&(a+=` , message: 'should match format "`,I?a+="' + "+A+" + '":a+=""+e.util.escapeQuotes(p),a+=`"' `),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+e.util.toQuotedString(p),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var B=a;return a=Z.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+B+"]); ":a+=" validate.errors = ["+B+"]; return false; ":a+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",E&&(a+=" else { "),a},Ww=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A="errs__"+c,M=e.util.copy(e);M.level++;var D="valid"+M.level,k=e.schema.then,O=e.schema.else,R=k!==void 0&&(e.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:e.util.schemaHasRules(k,e.RULES.all)),b=O!==void 0&&(e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all)),j=M.baseId;if(R||b){var Z;M.createErrors=!1,M.schema=p,M.schemaPath=x,M.errSchemaPath=v,a+=" var "+A+" = errors; var "+I+" = true;  ";var B=e.compositeRule;e.compositeRule=M.compositeRule=!0,a+="  "+e.validate(M)+" ",M.baseId=j,M.createErrors=!0,a+="  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; }  ",e.compositeRule=M.compositeRule=B,R?(a+=" if ("+D+") {  ",M.schema=e.schema.then,M.schemaPath=e.schemaPath+".then",M.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(M)+" ",M.baseId=j,a+=" "+I+" = "+D+"; ",R&&b?(Z="ifClause"+c,a+=" var "+Z+" = 'then'; "):Z="'then'",a+=" } ",b&&(a+=" else { ")):a+=" if (!"+D+") { ",b&&(M.schema=e.schema.else,M.schemaPath=e.schemaPath+".else",M.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(M)+" ",M.baseId=j,a+=" "+I+" = "+D+"; ",R&&b?(Z="ifClause"+c,a+=" var "+Z+" = 'else'; "):Z="'else'",a+=" } "),a+=" if (!"+I+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { failingKeyword: "+Z+" } ",e.opts.messages!==!1&&(a+=` , message: 'should match "' + `+Z+` + '" schema' `),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&E&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",E&&(a+=" else { ")}else E&&(a+=" if (true) { ");return a},Gw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A="errs__"+c,M=e.util.copy(e),D="";M.level++;var k="valid"+M.level,O="i"+c,R=M.dataLevel=e.dataLevel+1,b="data"+R,j=e.baseId;if(a+="var "+A+" = errors;var "+I+";",Array.isArray(p)){var Z=e.schema.additionalItems;if(Z===!1){a+=" "+I+" = "+y+".length <= "+p.length+"; ";var B=v;v=e.errSchemaPath+"/additionalItems",a+="  if (!"+I+") {   ";var H=H||[];H.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { limit: "+p.length+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have more than "+p.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var Q=a;a=H.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+Q+"]); ":a+=" validate.errors = ["+Q+"]; return false; ":a+=" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",v=B,E&&(D+="}",a+=" else { ")}var z=p;if(z){for(var ae,ce=-1,ne=z.length-1;ce<ne;)if(ae=z[ce+=1],e.opts.strictKeywords?typeof ae=="object"&&Object.keys(ae).length>0||ae===!1:e.util.schemaHasRules(ae,e.RULES.all)){a+=" "+k+" = true; if ("+y+".length > "+ce+") { ";var ie=y+"["+ce+"]";M.schema=ae,M.schemaPath=x+"["+ce+"]",M.errSchemaPath=v+"/"+ce,M.errorPath=e.util.getPathExpr(e.errorPath,ce,e.opts.jsonPointers,!0),M.dataPathArr[R]=ce;var J=e.validate(M);M.baseId=j,e.util.varOccurences(J,b)<2?a+=" "+e.util.varReplace(J,b,ie)+" ":a+=" var "+b+" = "+ie+"; "+J+" ",a+=" }  ",E&&(a+=" if ("+k+") { ",D+="}")}}if(typeof Z=="object"&&(e.opts.strictKeywords?typeof Z=="object"&&Object.keys(Z).length>0||Z===!1:e.util.schemaHasRules(Z,e.RULES.all))){M.schema=Z,M.schemaPath=e.schemaPath+".additionalItems",M.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+k+" = true; if ("+y+".length > "+p.length+") {  for (var "+O+" = "+p.length+"; "+O+" < "+y+".length; "+O+"++) { ",M.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0);var ie=y+"["+O+"]";M.dataPathArr[R]=O;var J=e.validate(M);M.baseId=j,e.util.varOccurences(J,b)<2?a+=" "+e.util.varReplace(J,b,ie)+" ":a+=" var "+b+" = "+ie+"; "+J+" ",E&&(a+=" if (!"+k+") break; "),a+=" } }  ",E&&(a+=" if ("+k+") { ",D+="}")}}else if(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)){M.schema=p,M.schemaPath=x,M.errSchemaPath=v,a+="  for (var "+O+" = 0; "+O+" < "+y+".length; "+O+"++) { ",M.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0);var ie=y+"["+O+"]";M.dataPathArr[R]=O;var J=e.validate(M);M.baseId=j,e.util.varOccurences(J,b)<2?a+=" "+e.util.varReplace(J,b,ie)+" ":a+=" var "+b+" = "+ie+"; "+J+" ",E&&(a+=" if (!"+k+") break; "),a+=" }"}return E&&(a+=" "+D+" if ("+A+" == errors) {"),a},rh=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,j,y="data"+(h||""),I=e.opts.$data&&p&&p.$data,A;I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p;var M=n=="maximum",D=M?"exclusiveMaximum":"exclusiveMinimum",k=e.schema[D],O=e.opts.$data&&k&&k.$data,R=M?"<":">",b=M?">":"<",j=void 0;if(!(I||typeof p=="number"||p===void 0))throw new Error(n+" must be number");if(!(O||k===void 0||typeof k=="number"||typeof k=="boolean"))throw new Error(D+" must be number or boolean");if(O){var Z=e.util.getData(k.$data,h,e.dataPathArr),B="exclusive"+c,H="exclType"+c,Q="exclIsNumber"+c,z="op"+c,ae="' + "+z+" + '";a+=" var schemaExcl"+c+" = "+Z+"; ",Z="schemaExcl"+c,a+=" var "+B+"; var "+H+" = typeof "+Z+"; if ("+H+" != 'boolean' && "+H+" != 'undefined' && "+H+" != 'number') { ";var j=D,ce=ce||[];ce.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(j||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+D+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var ne=a;a=ce.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+ne+"]); ":a+=" validate.errors = ["+ne+"]; return false; ":a+=" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'number') || "),a+=" "+H+" == 'number' ? ( ("+B+" = "+A+" === undefined || "+Z+" "+R+"= "+A+") ? "+y+" "+b+"= "+Z+" : "+y+" "+b+" "+A+" ) : ( ("+B+" = "+Z+" === true) ? "+y+" "+b+"= "+A+" : "+y+" "+b+" "+A+" ) || "+y+" !== "+y+") { var op"+c+" = "+B+" ? '"+R+"' : '"+R+"='; ",p===void 0&&(j=D,v=e.errSchemaPath+"/"+D,A=Z,I=O)}else{var Q=typeof k=="number",ae=R;if(Q&&I){var z="'"+ae+"'";a+=" if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'number') || "),a+=" ( "+A+" === undefined || "+k+" "+R+"= "+A+" ? "+y+" "+b+"= "+k+" : "+y+" "+b+" "+A+" ) || "+y+" !== "+y+") { "}else{Q&&p===void 0?(B=!0,j=D,v=e.errSchemaPath+"/"+D,A=k,b+="="):(Q&&(A=Math[M?"min":"max"](k,p)),k===(Q?A:!0)?(B=!0,j=D,v=e.errSchemaPath+"/"+D,b+="="):(B=!1,ae+="="));var z="'"+ae+"'";a+=" if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'number') || "),a+=" "+y+" "+b+" "+A+" || "+y+" !== "+y+") { "}}j=j||n;var ce=ce||[];ce.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(j||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { comparison: "+z+", limit: "+A+", exclusive: "+B+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+ae+" ",I?a+="' + "+A:a+=""+A+"'"),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+p,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var ne=a;return a=ce.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+ne+"]); ":a+=" validate.errors = ["+ne+"]; return false; ":a+=" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",E&&(a+=" else { "),a},nh=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,D,y="data"+(h||""),I=e.opts.$data&&p&&p.$data,A;if(I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p,!(I||typeof p=="number"))throw new Error(n+" must be number");var M=n=="maxItems"?">":"<";a+="if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'number') || "),a+=" "+y+".length "+M+" "+A+") { ";var D=n,k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(D||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { limit: "+A+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",n=="maxItems"?a+="more":a+="fewer",a+=" than ",I?a+="' + "+A+" + '":a+=""+p,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+p,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var O=a;return a=k.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",E&&(a+=" else { "),a},ih=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,D,y="data"+(h||""),I=e.opts.$data&&p&&p.$data,A;if(I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p,!(I||typeof p=="number"))throw new Error(n+" must be number");var M=n=="maxLength"?">":"<";a+="if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'number') || "),e.opts.unicode===!1?a+=" "+y+".length ":a+=" ucs2length("+y+") ",a+=" "+M+" "+A+") { ";var D=n,k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(D||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { limit: "+A+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be ",n=="maxLength"?a+="longer":a+="shorter",a+=" than ",I?a+="' + "+A+" + '":a+=""+p,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+p,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var O=a;return a=k.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",E&&(a+=" else { "),a},ah=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,D,y="data"+(h||""),I=e.opts.$data&&p&&p.$data,A;if(I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p,!(I||typeof p=="number"))throw new Error(n+" must be number");var M=n=="maxProperties"?">":"<";a+="if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'number') || "),a+=" Object.keys("+y+").length "+M+" "+A+") { ";var D=n,k=k||[];k.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(D||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { limit: "+A+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",n=="maxProperties"?a+="more":a+="fewer",a+=" than ",I?a+="' + "+A+" + '":a+=""+p,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+p,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var O=a;return a=k.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+O+"]); ":a+=" validate.errors = ["+O+"]; return false; ":a+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",E&&(a+=" else { "),a},Yw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I=e.opts.$data&&p&&p.$data,A;if(I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p,!(I||typeof p=="number"))throw new Error(n+" must be number");a+="var division"+c+";if (",I&&(a+=" "+A+" !== undefined && ( typeof "+A+" != 'number' || "),a+=" (division"+c+" = "+y+" / "+A+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+c+") - division"+c+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+c+" !== parseInt(division"+c+") ",a+=" ) ",I&&(a+="  )  "),a+=" ) {   ";var M=M||[];M.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { multipleOf: "+A+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be multiple of ",I?a+="' + "+A:a+=""+A+"'"),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+p,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var D=a;return a=M.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+D+"]); ":a+=" validate.errors = ["+D+"]; return false; ":a+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",E&&(a+=" else { "),a},Xw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="errs__"+c,A=e.util.copy(e);A.level++;var M="valid"+A.level;if(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)){A.schema=p,A.schemaPath=x,A.errSchemaPath=v,a+=" var "+I+" = errors;  ";var D=e.compositeRule;e.compositeRule=A.compositeRule=!0,A.createErrors=!1;var k;A.opts.allErrors&&(k=A.opts.allErrors,A.opts.allErrors=!1),a+=" "+e.validate(A)+" ",A.createErrors=!0,k&&(A.opts.allErrors=k),e.compositeRule=A.compositeRule=D,a+=" if ("+M+") {   ";var O=O||[];O.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var R=a;a=O.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+R+"]); ":a+=" validate.errors = ["+R+"]; return false; ":a+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+I+"; if (vErrors !== null) { if ("+I+") vErrors.length = "+I+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E&&(a+=" if (false) { ");return a},Qw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A="errs__"+c,M=e.util.copy(e),D="";M.level++;var k="valid"+M.level,O=M.baseId,R="prevValid"+c,b="passingSchemas"+c;a+="var "+A+" = errors , "+R+" = false , "+I+" = false , "+b+" = null; ";var j=e.compositeRule;e.compositeRule=M.compositeRule=!0;var Z=p;if(Z)for(var B,H=-1,Q=Z.length-1;H<Q;)B=Z[H+=1],(e.opts.strictKeywords?typeof B=="object"&&Object.keys(B).length>0||B===!1:e.util.schemaHasRules(B,e.RULES.all))?(M.schema=B,M.schemaPath=x+"["+H+"]",M.errSchemaPath=v+"/"+H,a+="  "+e.validate(M)+" ",M.baseId=O):a+=" var "+k+" = true; ",H&&(a+=" if ("+k+" && "+R+") { "+I+" = false; "+b+" = ["+b+", "+H+"]; } else { ",D+="}"),a+=" if ("+k+") { "+I+" = "+R+" = true; "+b+" = "+H+"; }";return e.compositeRule=M.compositeRule=j,a+=""+D+"if (!"+I+") {   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { passingSchemas: "+b+" } ",e.opts.messages!==!1&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&E&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a},$w=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I=e.opts.$data&&p&&p.$data,A;I?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",A="schema"+c):A=p;var M=I?"(new RegExp("+A+"))":e.usePattern(p);a+="if ( ",I&&(a+=" ("+A+" !== undefined && typeof "+A+" != 'string') || "),a+=" !"+M+".test("+y+") ) {   ";var D=D||[];D.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { pattern:  ",I?a+=""+A:a+=""+e.util.toQuotedString(p),a+="  } ",e.opts.messages!==!1&&(a+=` , message: 'should match pattern "`,I?a+="' + "+A+" + '":a+=""+e.util.escapeQuotes(p),a+=`"' `),e.opts.verbose&&(a+=" , schema:  ",I?a+="validate.schema"+x:a+=""+e.util.toQuotedString(p),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var k=a;return a=D.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",E&&(a+=" else { "),a},Zw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="errs__"+c,A=e.util.copy(e),M="";A.level++;var D="valid"+A.level,k="key"+c,O="idx"+c,R=A.dataLevel=e.dataLevel+1,b="data"+R,j="dataProperties"+c,Z=Object.keys(p||{}).filter(le),B=e.schema.patternProperties||{},H=Object.keys(B).filter(le),Q=e.schema.additionalProperties,z=Z.length||H.length,ae=Q===!1,ce=typeof Q=="object"&&Object.keys(Q).length,ne=e.opts.removeAdditional,ie=ae||ce||ne,J=e.opts.ownProperties,X=e.baseId,Re=e.schema.required;if(Re&&!(e.opts.$data&&Re.$data)&&Re.length<e.opts.loopRequired)var fe=e.util.toHash(Re);function le(Nn){return Nn!=="__proto__"}if(a+="var "+I+" = errors;var "+D+" = true;",J&&(a+=" var "+j+" = undefined;"),ie){if(J?a+=" "+j+" = "+j+" || Object.keys("+y+"); for (var "+O+"=0; "+O+"<"+j+".length; "+O+"++) { var "+k+" = "+j+"["+O+"]; ":a+=" for (var "+k+" in "+y+") { ",z){if(a+=" var isAdditional"+c+" = !(false ",Z.length)if(Z.length>8)a+=" || validate.schema"+x+".hasOwnProperty("+k+") ";else{var ge=Z;if(ge)for(var ue,ke=-1,Me=ge.length-1;ke<Me;)ue=ge[ke+=1],a+=" || "+k+" == "+e.util.toQuotedString(ue)+" "}if(H.length){var nt=H;if(nt)for(var De,Rt=-1,we=nt.length-1;Rt<we;)De=nt[Rt+=1],a+=" || "+e.usePattern(De)+".test("+k+") "}a+=" ); if (isAdditional"+c+") { "}if(ne=="all")a+=" delete "+y+"["+k+"]; ";else{var dt=e.errorPath,Ze="' + "+k+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers)),ae)if(ne)a+=" delete "+y+"["+k+"]; ";else{a+=" "+D+" = false; ";var Jt=v;v=e.errSchemaPath+"/additionalProperties";var yt=yt||[];yt.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { additionalProperty: '"+Ze+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var Xe=a;a=yt.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+Xe+"]); ":a+=" validate.errors = ["+Xe+"]; return false; ":a+=" var err = "+Xe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v=Jt,E&&(a+=" break; ")}else if(ce)if(ne=="failing"){a+=" var "+I+" = errors;  ";var gt=e.compositeRule;e.compositeRule=A.compositeRule=!0,A.schema=Q,A.schemaPath=e.schemaPath+".additionalProperties",A.errSchemaPath=e.errSchemaPath+"/additionalProperties",A.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers);var be=y+"["+k+"]";A.dataPathArr[R]=k;var lt=e.validate(A);A.baseId=X,e.util.varOccurences(lt,b)<2?a+=" "+e.util.varReplace(lt,b,be)+" ":a+=" var "+b+" = "+be+"; "+lt+" ",a+=" if (!"+D+") { errors = "+I+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+y+"["+k+"]; }  ",e.compositeRule=A.compositeRule=gt}else{A.schema=Q,A.schemaPath=e.schemaPath+".additionalProperties",A.errSchemaPath=e.errSchemaPath+"/additionalProperties",A.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers);var be=y+"["+k+"]";A.dataPathArr[R]=k;var lt=e.validate(A);A.baseId=X,e.util.varOccurences(lt,b)<2?a+=" "+e.util.varReplace(lt,b,be)+" ":a+=" var "+b+" = "+be+"; "+lt+" ",E&&(a+=" if (!"+D+") break; ")}e.errorPath=dt}z&&(a+=" } "),a+=" }  ",E&&(a+=" if ("+D+") { ",M+="}")}var $t=e.opts.useDefaults&&!e.compositeRule;if(Z.length){var pt=Z;if(pt)for(var ue,St=-1,et=pt.length-1;St<et;){ue=pt[St+=1];var Be=p[ue];if(e.opts.strictKeywords?typeof Be=="object"&&Object.keys(Be).length>0||Be===!1:e.util.schemaHasRules(Be,e.RULES.all)){var Tr=e.util.getProperty(ue),be=y+Tr,Ie=$t&&Be.default!==void 0;A.schema=Be,A.schemaPath=x+Tr,A.errSchemaPath=v+"/"+e.util.escapeFragment(ue),A.errorPath=e.util.getPath(e.errorPath,ue,e.opts.jsonPointers),A.dataPathArr[R]=e.util.toQuotedString(ue);var lt=e.validate(A);if(A.baseId=X,e.util.varOccurences(lt,b)<2){lt=e.util.varReplace(lt,b,be);var At=be}else{var At=b;a+=" var "+b+" = "+be+"; "}if(Ie)a+=" "+lt+" ";else{if(fe&&fe[ue]){a+=" if ( "+At+" === undefined ",J&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(ue)+"') "),a+=") { "+D+" = false; ";var dt=e.errorPath,Jt=v,Pt=e.util.escapeQuotes(ue);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(dt,ue,e.opts.jsonPointers)),v=e.errSchemaPath+"/required";var yt=yt||[];yt.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { missingProperty: '"+Pt+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+Pt+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var Xe=a;a=yt.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+Xe+"]); ":a+=" validate.errors = ["+Xe+"]; return false; ":a+=" var err = "+Xe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v=Jt,e.errorPath=dt,a+=" } else { "}else E?(a+=" if ( "+At+" === undefined ",J&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(ue)+"') "),a+=") { "+D+" = true; } else { "):(a+=" if ("+At+" !== undefined ",J&&(a+=" &&   Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(ue)+"') "),a+=" ) { ");a+=" "+lt+" } "}}E&&(a+=" if ("+D+") { ",M+="}")}}if(H.length){var mt=H;if(mt)for(var De,Mr=-1,or=mt.length-1;Mr<or;){De=mt[Mr+=1];var Be=B[De];if(e.opts.strictKeywords?typeof Be=="object"&&Object.keys(Be).length>0||Be===!1:e.util.schemaHasRules(Be,e.RULES.all)){A.schema=Be,A.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(De),A.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(De),J?a+=" "+j+" = "+j+" || Object.keys("+y+"); for (var "+O+"=0; "+O+"<"+j+".length; "+O+"++) { var "+k+" = "+j+"["+O+"]; ":a+=" for (var "+k+" in "+y+") { ",a+=" if ("+e.usePattern(De)+".test("+k+")) { ",A.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers);var be=y+"["+k+"]";A.dataPathArr[R]=k;var lt=e.validate(A);A.baseId=X,e.util.varOccurences(lt,b)<2?a+=" "+e.util.varReplace(lt,b,be)+" ":a+=" var "+b+" = "+be+"; "+lt+" ",E&&(a+=" if (!"+D+") break; "),a+=" } ",E&&(a+=" else "+D+" = true; "),a+=" }  ",E&&(a+=" if ("+D+") { ",M+="}")}}}return E&&(a+=" "+M+" if ("+I+" == errors) {"),a},Kw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="errs__"+c,A=e.util.copy(e),M="";A.level++;var D="valid"+A.level;if(a+="var "+I+" = errors;",e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)){A.schema=p,A.schemaPath=x,A.errSchemaPath=v;var k="key"+c,O="idx"+c,R="i"+c,b="' + "+k+" + '",j=A.dataLevel=e.dataLevel+1,Z="data"+j,B="dataProperties"+c,H=e.opts.ownProperties,Q=e.baseId;H&&(a+=" var "+B+" = undefined; "),H?a+=" "+B+" = "+B+" || Object.keys("+y+"); for (var "+O+"=0; "+O+"<"+B+".length; "+O+"++) { var "+k+" = "+B+"["+O+"]; ":a+=" for (var "+k+" in "+y+") { ",a+=" var startErrs"+c+" = errors; ";var z=k,ae=e.compositeRule;e.compositeRule=A.compositeRule=!0;var ce=e.validate(A);A.baseId=Q,e.util.varOccurences(ce,Z)<2?a+=" "+e.util.varReplace(ce,Z,z)+" ":a+=" var "+Z+" = "+z+"; "+ce+" ",e.compositeRule=A.compositeRule=ae,a+=" if (!"+D+") { for (var "+R+"=startErrs"+c+"; "+R+"<errors; "+R+"++) { vErrors["+R+"].propertyName = "+k+"; }   var err =   ",e.createErrors!==!1?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { propertyName: '"+b+"' } ",e.opts.messages!==!1&&(a+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&E&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),E&&(a+=" break; "),a+=" } }"}return E&&(a+=" "+M+" if ("+I+" == errors) {"),a},qw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A=e.opts.$data&&p&&p.$data;A&&(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ");var M="schema"+c;if(!A)if(p.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var D=[],k=p;if(k)for(var O,R=-1,b=k.length-1;R<b;){O=k[R+=1];var j=e.schema.properties[O];j&&(e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all))||(D[D.length]=O)}}else var D=p;if(A||D.length){var Z=e.errorPath,B=A||D.length>=e.opts.loopRequired,H=e.opts.ownProperties;if(E)if(a+=" var missing"+c+"; ",B){A||(a+=" var "+M+" = validate.schema"+x+"; ");var Q="i"+c,z="schema"+c+"["+Q+"]",ae="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(Z,z,e.opts.jsonPointers)),a+=" var "+I+" = true; ",A&&(a+=" if (schema"+c+" === undefined) "+I+" = true; else if (!Array.isArray(schema"+c+")) "+I+" = false; else {"),a+=" for (var "+Q+" = 0; "+Q+" < "+M+".length; "+Q+"++) { "+I+" = "+y+"["+M+"["+Q+"]] !== undefined ",H&&(a+=" &&   Object.prototype.hasOwnProperty.call("+y+", "+M+"["+Q+"]) "),a+="; if (!"+I+") break; } ",A&&(a+="  }  "),a+="  if (!"+I+") {   ";var ce=ce||[];ce.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { missingProperty: '"+ae+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var ne=a;a=ce.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+ne+"]); ":a+=" validate.errors = ["+ne+"]; return false; ":a+=" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var ie=D;if(ie)for(var J,Q=-1,X=ie.length-1;Q<X;){J=ie[Q+=1],Q&&(a+=" || ");var Re=e.util.getProperty(J),fe=y+Re;a+=" ( ( "+fe+" === undefined ",H&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(J)+"') "),a+=") && (missing"+c+" = "+e.util.toQuotedString(e.opts.jsonPointers?J:Re)+") ) "}a+=") {  ";var z="missing"+c,ae="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Z,z,!0):Z+" + "+z);var ce=ce||[];ce.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { missingProperty: '"+ae+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var ne=a;a=ce.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+ne+"]); ":a+=" validate.errors = ["+ne+"]; return false; ":a+=" var err = "+ne+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(B){A||(a+=" var "+M+" = validate.schema"+x+"; ");var Q="i"+c,z="schema"+c+"["+Q+"]",ae="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(Z,z,e.opts.jsonPointers)),A&&(a+=" if ("+M+" && !Array.isArray("+M+")) {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { missingProperty: '"+ae+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+M+" !== undefined) { "),a+=" for (var "+Q+" = 0; "+Q+" < "+M+".length; "+Q+"++) { if ("+y+"["+M+"["+Q+"]] === undefined ",H&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", "+M+"["+Q+"]) "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { missingProperty: '"+ae+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",A&&(a+="  }  ")}else{var le=D;if(le)for(var J,ge=-1,ue=le.length-1;ge<ue;){J=le[ge+=1];var Re=e.util.getProperty(J),ae=e.util.escapeQuotes(J),fe=y+Re;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Z,J,e.opts.jsonPointers)),a+=" if ( "+fe+" === undefined ",H&&(a+=" || ! Object.prototype.hasOwnProperty.call("+y+", '"+e.util.escapeQuotes(J)+"') "),a+=") {  var err =   ",e.createErrors!==!1?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { missingProperty: '"+ae+"' } ",e.opts.messages!==!1&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=Z}else E&&(a+=" if (true) {");return a},Jw=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y="data"+(h||""),I="valid"+c,A=e.opts.$data&&p&&p.$data,M;if(A?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",M="schema"+c):M=p,(p||A)&&e.opts.uniqueItems!==!1){A&&(a+=" var "+I+"; if ("+M+" === false || "+M+" === undefined) "+I+" = true; else if (typeof "+M+" != 'boolean') "+I+" = false; else { "),a+=" var i = "+y+".length , "+I+" = true , j; if (i > 1) { ";var D=e.schema.items&&e.schema.items.type,k=Array.isArray(D);if(!D||D=="object"||D=="array"||k&&(D.indexOf("object")>=0||D.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+y+"[i], "+y+"[j])) { "+I+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+y+"[i]; ";var O="checkDataType"+(k?"s":"");a+=" if ("+e.util[O](D,"item",e.opts.strictNumbers,!0)+") continue; ",k&&(a+=` if (typeof item == 'string') item = '"' + item; `),a+=" if (typeof itemIndices[item] == 'number') { "+I+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",A&&(a+="  }  "),a+=" if (!"+I+") {   ";var R=R||[];R.push(a),a="",e.createErrors!==!1?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",A?a+="validate.schema"+x:a+=""+p,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),a+=" } "):a+=" {} ";var b=a;a=R.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+b+"]); ":a+=" validate.errors = ["+b+"]; return false; ":a+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",E&&(a+=" else { ")}else E&&(a+=" if (true) { ");return a},eE={$ref:Lw,allOf:kw,anyOf:Bw,$comment:Fw,const:Uw,contains:jw,dependencies:zw,enum:Vw,format:Hw,if:Ww,items:Gw,maximum:rh,minimum:rh,maxItems:nh,minItems:nh,maxLength:ih,minLength:ih,maxProperties:ah,minProperties:ah,multipleOf:Yw,not:Xw,oneOf:Qw,pattern:$w,properties:Zw,propertyNames:Kw,required:qw,uniqueItems:Jw,validate:tp},sh=eE,Nu=ja.toHash,tE=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],o=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return e.all=Nu(n),e.types=Nu(a),e.forEach(function(c){c.rules=c.rules.map(function(h){var p;if(typeof h=="object"){var x=Object.keys(h)[0];p=h[x],h=x,p.forEach(function(E){n.push(E),e.all[E]=!0})}n.push(h);var v=e.all[h]={keyword:h,code:sh[h],implements:p};return v}),e.all.$comment={keyword:"$comment",code:sh.$comment},c.type&&(e.types[c.type]=c)}),e.keywords=Nu(n.concat(o)),e.custom={},e},oh=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],rE=function(t,e){for(var n=0;n<e.length;n++){t=JSON.parse(JSON.stringify(t));var o=e[n].split("/"),a=t,c;for(c=1;c<o.length;c++)a=a[o[c]];for(c=0;c<oh.length;c++){var h=oh[c],p=a[h];p&&(a[h]={anyOf:[p,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t},nE=Gf.MissingRef,iE=pp;function pp(t,e,n){var o=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(n=e,e=void 0);var a=c(t).then(function(){var p=o._addSchema(t,void 0,e);return p.validate||h(p)});return n&&a.then(function(p){n(null,p)},n),a;function c(p){var x=p.$schema;return x&&!o.getSchema(x)?pp.call(o,{$ref:x},!0):Promise.resolve()}function h(p){try{return o._compile(p)}catch(v){if(v instanceof nE)return x(v);throw v}function x(v){var E=v.missingSchema;if(A(E))throw new Error("Schema "+E+" is loaded but "+v.missingRef+" cannot be resolved");var y=o._loadingSchemas[E];return y||(y=o._loadingSchemas[E]=o._opts.loadSchema(E),y.then(I,I)),y.then(function(M){if(!A(E))return c(M).then(function(){A(E)||o.addSchema(M,E,void 0,e)})}).then(function(){return h(p)});function I(){delete o._loadingSchemas[E]}function A(M){return o._refs[M]||o._schemas[M]}}}}var aE=function(e,n,o){var a=" ",c=e.level,h=e.dataLevel,p=e.schema[n],x=e.schemaPath+e.util.getProperty(n),v=e.errSchemaPath+"/"+n,E=!e.opts.allErrors,y,I="data"+(h||""),A="valid"+c,M="errs__"+c,D=e.opts.$data&&p&&p.$data,k;D?(a+=" var schema"+c+" = "+e.util.getData(p.$data,h,e.dataPathArr)+"; ",k="schema"+c):k=p;var O=this,R="definition"+c,b=O.definition,j="",Z,B,H,Q,z;if(D&&b.$data){z="keywordValidate"+c;var ae=b.validateSchema;a+=" var "+R+" = RULES.custom['"+n+"'].definition; var "+z+" = "+R+".validate;"}else{if(Q=e.useCustomRule(O,p,e.schema,e),!Q)return;k="validate.schema"+x,z=Q.code,Z=b.compile,B=b.inline,H=b.macro}var ce=z+".errors",ne="i"+c,ie="ruleErr"+c,J=b.async;if(J&&!e.async)throw new Error("async keyword in sync schema");if(B||H||(a+=""+ce+" = null;"),a+="var "+M+" = errors;var "+A+";",D&&b.$data&&(j+="}",a+=" if ("+k+" === undefined) { "+A+" = true; } else { ",ae&&(j+="}",a+=" "+A+" = "+R+".validateSchema("+k+"); if ("+A+") { ")),B)b.statements?a+=" "+Q.validate+" ":a+=" "+A+" = "+Q.validate+"; ";else if(H){var X=e.util.copy(e),j="";X.level++;var Re="valid"+X.level;X.schema=Q.validate,X.schemaPath="";var fe=e.compositeRule;e.compositeRule=X.compositeRule=!0;var le=e.validate(X).replace(/validate\.schema/g,z);e.compositeRule=X.compositeRule=fe,a+=" "+le}else{var ge=ge||[];ge.push(a),a="",a+="  "+z+".call( ",e.opts.passContext?a+="this":a+="self",Z||b.schema===!1?a+=" , "+I+" ":a+=" , "+k+" , "+I+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",e.errorPath!='""'&&(a+=" + "+e.errorPath);var ue=h?"data"+(h-1||""):"parentData",ke=h?e.dataPathArr[h]:"parentDataProperty";a+=" , "+ue+" , "+ke+" , rootData )  ";var Me=a;a=ge.pop(),b.errors===!1?(a+=" "+A+" = ",J&&(a+="await "),a+=""+Me+"; "):J?(ce="customErrors"+c,a+=" var "+ce+" = null; try { "+A+" = await "+Me+"; } catch (e) { "+A+" = false; if (e instanceof ValidationError) "+ce+" = e.errors; else throw e; } "):a+=" "+ce+" = null; "+A+" = "+Me+"; "}if(b.modifying&&(a+=" if ("+ue+") "+I+" = "+ue+"["+ke+"];"),a+=""+j,b.valid)E&&(a+=" if (true) { ");else{a+=" if ( ",b.valid===void 0?(a+=" !",H?a+=""+Re:a+=""+A):a+=" "+!b.valid+" ",a+=") { ",y=O.keyword;var ge=ge||[];ge.push(a),a="";var ge=ge||[];ge.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(y||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { keyword: '"+O.keyword+"' } ",e.opts.messages!==!1&&(a+=` , message: 'should pass "`+O.keyword+`" keyword validation' `),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+I+" "),a+=" } "):a+=" {} ";var nt=a;a=ge.pop(),!e.compositeRule&&E?e.async?a+=" throw new ValidationError(["+nt+"]); ":a+=" validate.errors = ["+nt+"]; return false; ":a+=" var err = "+nt+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var De=a;a=ge.pop(),B?b.errors?b.errors!="full"&&(a+="  for (var "+ne+"="+M+"; "+ne+"<errors; "+ne+"++) { var "+ie+" = vErrors["+ne+"]; if ("+ie+".dataPath === undefined) "+ie+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+ie+".schemaPath === undefined) { "+ie+'.schemaPath = "'+v+'"; } ',e.opts.verbose&&(a+=" "+ie+".schema = "+k+"; "+ie+".data = "+I+"; "),a+=" } "):b.errors===!1?a+=" "+De+" ":(a+=" if ("+M+" == errors) { "+De+" } else {  for (var "+ne+"="+M+"; "+ne+"<errors; "+ne+"++) { var "+ie+" = vErrors["+ne+"]; if ("+ie+".dataPath === undefined) "+ie+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+ie+".schemaPath === undefined) { "+ie+'.schemaPath = "'+v+'"; } ',e.opts.verbose&&(a+=" "+ie+".schema = "+k+"; "+ie+".data = "+I+"; "),a+=" } } "):H?(a+="   var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(y||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: { keyword: '"+O.keyword+"' } ",e.opts.messages!==!1&&(a+=` , message: 'should pass "`+O.keyword+`" keyword validation' `),e.opts.verbose&&(a+=" , schema: validate.schema"+x+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+I+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&E&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):b.errors===!1?a+=" "+De+" ":(a+=" if (Array.isArray("+ce+")) { if (vErrors === null) vErrors = "+ce+"; else vErrors = vErrors.concat("+ce+"); errors = vErrors.length;  for (var "+ne+"="+M+"; "+ne+"<errors; "+ne+"++) { var "+ie+" = vErrors["+ne+"]; if ("+ie+".dataPath === undefined) "+ie+".dataPath = (dataPath || '') + "+e.errorPath+";  "+ie+'.schemaPath = "'+v+'";  ',e.opts.verbose&&(a+=" "+ie+".schema = "+k+"; "+ie+".data = "+I+"; "),a+=" } } else { "+De+" } "),a+=" } ",E&&(a+=" else { ")}return a};const sE="http://json-schema.org/draft-07/schema#",oE="http://json-schema.org/draft-07/schema#",lE="Core schema meta-schema",uE={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},cE=["object","boolean"],fE={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},mp={$schema:sE,$id:oE,title:lE,definitions:uE,type:cE,properties:fE,default:!0};var lh=mp,dE={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:lh.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:lh.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},hE=/^[a-z_$][a-z0-9_$-]*$/i,gE=aE,pE=dE,mE={add:vE,get:xE,remove:yE,validate:Pc};function vE(t,e){var n=this.RULES;if(n.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!hE.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var o=e.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)h(t,o[a],e);else h(t,o,e);var c=e.metaSchema;c&&(e.$data&&this._opts.$data&&(c={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(c,!0))}n.keywords[t]=n.all[t]=!0;function h(p,x,v){for(var E,y=0;y<n.length;y++){var I=n[y];if(I.type==x){E=I;break}}E||(E={type:x,rules:[]},n.push(E));var A={keyword:p,definition:v,custom:!0,code:gE,implements:v.implements};E.rules.push(A),n.custom[p]=A}return this}function xE(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function yE(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var o=e[n].rules,a=0;a<o.length;a++)if(o[a].keyword==t){o.splice(a,1);break}return this}function Pc(t,e){Pc.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(pE,!0);if(n(t))return!0;if(Pc.errors=n.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}const wE="http://json-schema.org/draft-07/schema#",EE="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",CE="Meta-schema for $data reference (JSON Schema extension proposal)",SE="object",AE=["$data"],IE={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},TE=!1,_E={$schema:wE,$id:EE,description:CE,type:SE,required:AE,properties:IE,additionalProperties:TE};var vp=gw,Wi=Wf,NE=Ew,xp=Zg,RE=ep,DE=Nw,OE=tE,yp=rE,wp=ja,ME=Qt;Qt.prototype.validate=PE;Qt.prototype.compile=LE;Qt.prototype.addSchema=kE;Qt.prototype.addMetaSchema=BE;Qt.prototype.validateSchema=FE;Qt.prototype.getSchema=jE;Qt.prototype.removeSchema=VE;Qt.prototype.addFormat=ZE;Qt.prototype.errorsText=$E;Qt.prototype._addSchema=HE;Qt.prototype._compile=WE;Qt.prototype.compileAsync=iE;var jl=mE;Qt.prototype.addKeyword=jl.add;Qt.prototype.getKeyword=jl.get;Qt.prototype.removeKeyword=jl.remove;Qt.prototype.validateKeyword=jl.validate;var Ep=Gf;Qt.ValidationError=Ep.Validation;Qt.MissingRefError=Ep.MissingRef;Qt.$dataMetaSchema=yp;var gl="http://json-schema.org/draft-07/schema",uh=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],bE=["/properties"];function Qt(t){if(!(this instanceof Qt))return new Qt(t);t=this._opts=wp.copy(t)||{},r3(this),this._schemas={},this._refs={},this._fragments={},this._formats=DE(t.format),this._cache=t.cache||new NE,this._loadingSchemas={},this._compilations=[],this.RULES=OE(),this._getId=GE(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=RE),this._metaOpts=t3(this),t.formats&&JE(this),t.keywords&&e3(this),KE(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),qE(this)}function PE(t,e){var n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error('no schema with key or ref "'+t+'"')}else{var o=this._addSchema(t);n=o.validate||this._compile(o)}var a=n(e);return n.$async!==!0&&(this.errors=n.errors),a}function LE(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)}function kE(t,e,n,o){if(Array.isArray(t)){for(var a=0;a<t.length;a++)this.addSchema(t[a],void 0,n,o);return this}var c=this._getId(t);if(c!==void 0&&typeof c!="string")throw new Error("schema id must be string");return e=Wi.normalizeId(e||c),Sp(this,e),this._schemas[e]=this._addSchema(t,n,o,!0),this}function BE(t,e,n){return this.addSchema(t,e,n,!0),this}function FE(t,e){var n=t.$schema;if(n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||UE(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var o=this.validate(n,t);if(!o&&e){var a="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(a);else throw new Error(a)}return o}function UE(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(gl)?gl:void 0,t._opts.defaultMeta}function jE(t){var e=Cp(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return zE(this,t)}}function zE(t,e){var n=Wi.schema.call(t,{schema:{}},e);if(n){var o=n.schema,a=n.root,c=n.baseId,h=vp.call(t,o,a,void 0,c);return t._fragments[e]=new xp({ref:e,fragment:!0,schema:o,root:a,baseId:c,validate:h}),h}}function Cp(t,e){return e=Wi.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function VE(t){if(t instanceof RegExp)return wo(this,this._schemas,t),wo(this,this._refs,t),this;switch(typeof t){case"undefined":return wo(this,this._schemas),wo(this,this._refs),this._cache.clear(),this;case"string":var e=Cp(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,o=n?n(t):t;this._cache.del(o);var a=this._getId(t);a&&(a=Wi.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this}function wo(t,e,n){for(var o in e){var a=e[o];!a.meta&&(!n||n.test(o))&&(t._cache.del(a.cacheKey),delete e[o])}}function HE(t,e,n,o){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var a=this._opts.serialize,c=a?a(t):t,h=this._cache.get(c);if(h)return h;o=o||this._opts.addUsedSchema!==!1;var p=Wi.normalizeId(this._getId(t));p&&o&&Sp(this,p);var x=this._opts.validateSchema!==!1&&!e,v;x&&!(v=p&&p==Wi.normalizeId(t.$schema))&&this.validateSchema(t,!0);var E=Wi.ids.call(this,t),y=new xp({id:p,schema:t,localRefs:E,cacheKey:c,meta:n});return p[0]!="#"&&o&&(this._refs[p]=y),this._cache.put(c,y),x&&v&&this.validateSchema(t,!0),y}function WE(t,e){if(t.compiling)return t.validate=a,a.schema=t.schema,a.errors=null,a.root=e||a,t.schema.$async===!0&&(a.$async=!0),a;t.compiling=!0;var n;t.meta&&(n=this._opts,this._opts=this._metaOpts);var o;try{o=vp.call(this,t.schema,e,t.localRefs)}catch(c){throw delete t.validate,c}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=o,t.refs=o.refs,t.refVal=o.refVal,t.root=o.root,o;function a(){var c=t.validate,h=c.apply(this,arguments);return a.errors=c.errors,h}}function GE(t){switch(t.schemaId){case"auto":return QE;case"id":return YE;default:return XE}}function YE(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function XE(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function QE(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function $E(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var n=e.separator===void 0?", ":e.separator,o=e.dataVar===void 0?"data":e.dataVar,a="",c=0;c<t.length;c++){var h=t[c];h&&(a+=o+h.dataPath+" "+h.message+n)}return a.slice(0,-n.length)}function ZE(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function KE(t){var e;if(t._opts.$data&&(e=_E,t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var n=mp;t._opts.$data&&(n=yp(n,bE)),t.addMetaSchema(n,gl,!0),t._refs["http://json-schema.org/schema"]=gl}}function qE(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}function JE(t){for(var e in t._opts.formats){var n=t._opts.formats[e];t.addFormat(e,n)}}function e3(t){for(var e in t._opts.keywords){var n=t._opts.keywords[e];t.addKeyword(e,n)}}function Sp(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function t3(t){for(var e=wp.copy(t._opts),n=0;n<uh.length;n++)delete e[uh[n]];return e}function r3(t){var e=t._opts.logger;if(e===!1)t.logger={log:Ru,warn:Ru,error:Ru};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Ru(){}const n3=pl(ME),i3=new n3;async function a3(t){const n=await(await fetch("/schema.json")).json(),o=s3(t,n);if(!o.ok)return{ok:!1,errorCode:"invalid_format"};const{payload:a}=o,c=o3(a),p=await(await fetch("/authorities.json")).json(),x=p[c.issuer],v=p[c.issued_for],E=await fetch(`${l3(x)}/verify/${t}`),y=await E.json();if(y.issuer=x.name,y.issued_for=v.name,E.ok)return{ok:!0,permit:y}}function s3(t,e){const n=t.split("."),o=JSON.parse(ch(n[0])),a=JSON.parse(ch(n[1])),c=i3.compile(e);return c({header:o,payload:a,sig:n[2]})?{ok:!0,payload:a,header:o,jws:`${n[1]}.${n[2]}.${n[3]}`}:(console.log("Validation error"),console.error(c.errors),{ok:!1})}function o3(t){const e=t.id.split("-");return{id:t.id,issuer:e[0],issued_for:e[1],year:e[2],type:e[3],issued_at:t.iat,expire_at:t.exp,plate_number:t.pn,company_name:t.cn}}function l3(t){return t["prod-url"]}function ch(t){const e=t.length%4;return atob(t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(e===0?0:4-e),"="))}function u3(){const t=Yg(),{qrCode:e}=iy(),[n,o]=Ee.useState();Ee.useEffect(()=>{(async()=>{const h=await a3(e);o(h==null?void 0:h.permit)})().catch(console.error)},[]);const a=()=>{t("/")};return Ve.jsx("div",{children:n&&Ve.jsxs("div",{children:[Ve.jsxs("div",{className:"flex justify-between",children:[Ve.jsx("div",{className:"self-center",children:Ve.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"E- PERMIT"})}),Ve.jsxs("div",{className:"flex flex-col items-center justify-center text-emerald-600 ",children:[Ve.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-9",children:Ve.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})}),Ve.jsx("span",{className:"font-semibold",children:"Verified"})]})]}),Ve.jsx("div",{className:"mt-6 border-t border-gray-100",children:Ve.jsxs("dl",{className:"divide-y divide-gray-100",children:[Ve.jsxs("div",{className:"bg-gray-50 px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"ID"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.permit_id})]}),Ve.jsxs("div",{className:"bg-white px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Issuer"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.issuer})]}),Ve.jsxs("div",{className:"bg-gray-50 px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Issued for"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.issued_for})]}),Ve.jsxs("div",{className:"bg-white px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Year"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.permit_year})]}),Ve.jsxs("div",{className:"bg-gray-50 px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Type"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.permit_type})]}),Ve.jsxs("div",{className:"bg-white px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Issued at"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.issued_at})]}),Ve.jsxs("div",{className:"bg-gray-50 px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Expires at"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.expires_at})]}),Ve.jsxs("div",{className:"bg-white px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Plate Number"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.plate_number})]}),Ve.jsxs("div",{className:"bg-gray-50 px-4 py-4 sm:grid sm:grid-cols-3 sm:gap-2 sm:px-3",children:[Ve.jsx("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:"Company Name"}),Ve.jsx("dd",{className:"mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0",children:n.company_name})]})]})}),Ve.jsx("div",{className:"flex justify-center m-10",children:Ve.jsx("button",{className:"bg-gray-200 px-2.5 py-1 text-gray-900  font-semibold shadow-sm p-10 rounded-full ring-1 ring-inset ring-gray-300",onClick:a,children:Ve.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"size-6",children:[Ve.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),Ve.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"})]})})})]})})}const c3=wy([{path:"/",element:Ve.jsx(by,{})},{path:"/permits/:qrCode",element:Ve.jsx(u3,{})}]);Du.createRoot(document.getElementById("root")).render(Ve.jsx("div",{className:"sm:px-2 md:px-4 px-6 sm:py-4 md:py-8 py-10 ",children:Ve.jsx(Ry,{router:c3})}));
